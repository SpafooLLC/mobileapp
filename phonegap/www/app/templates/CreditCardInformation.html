<ion-view view-title="Credit Card Information">
    <ion-Content>

        <div class="bread">
            <a href="" onClick="window.history.go(-1); return false;" class="pback"><i class="fa fa-angle-left fa-2x"></i></a>
            <div class="ptitle">Credit Card Information</div>
        </div>
        <div class="inbody-simple">
            <div class="has-feedback fgap">
                <label class="control-label">Card Number</label>
                <input ng-disabled="cc.from == 'reg' && cc.isChecked" type="tel" placeholder="Credit Card Number" class="form-control" ng-change="cc.ValidateNumber(cc.data.CCNumber,'cnum')" maxlength="16" ng-model="cc.data.CCNumber">
            </div>
            <div class="expdate">
                <p class="control-label bold bmar-sm">Expiration Date</p>
                <div class="col-xs-6 fileft">
                    <select ng-disabled="cc.from == 'reg' && cc.isChecked" class="form-control w100" ng-model="cc.data.Month">
                        <option value="" selected="selected">-Select Month-</option>
                        <option value="01">January</option>
                        <option value="02">February</option>
                        <option value="03">March</option>
                        <option value="04">April</option>
                        <option value="05">May</option>
                        <option value="06">June</option>
                        <option value="07">July</option>
                        <option value="08">August</option>
                        <option value="09">September</option>
                        <option value="10">October</option>
                        <option value="11">November</option>
                        <option value="12">December</option>
                    </select>
                </div>
                <div class="col-xs-6 firight">
                    <select ng-disabled="cc.from == 'reg' && cc.isChecked" class="form-control w100" ng-model="cc.data.Year">
                        <option value="" selected="selected">-Select Year-</option>
                        <option ng-repeat="year in  cc.years" value="{{year}}">{{year}}</option>
                    </select>
                </div>
            </div>
            <div class="expdate">
                <p class="control-label bold bmar-sm">CVV</p>
                <div class="col-xs-6 fileft">
                    <input ng-disabled="cc.from == 'reg' && cc.isChecked" type="tel" class="form-control" ng-change="cc.ValidateNumber(cc.data.CVV,'cvv')" maxlength="4" ng-model="cc.data.CVV" placeholder="0000">
                </div>
                <div class="col-xs-6 firight cvv">
                    The last 3-4 digits displyed on the back of  your card
                </div>
            </div>
            <div class="has-feedback fgap">
                <label class="control-label">Billing Address</label>
                
            </div>
            <div class="has-feedback fgap">
                <label class="control-label">Address :</label>
                <input type="text" placeholder="Address associated with card"
                       class="form-control"
                       ng-model="cc.data.Address">
            </div>
            <div class="has-feedback fgap">
                <label class="control-label">City :</label>
                <input type="text" placeholder="City associated with card" class="form-control"
                       ng-model="cc.data.City">
            </div>
            <div class="has-feedback fgap">
                <label class="control-label">State/Province :</label>
                <input type="text" placeholder="State/Province associated with card" class="form-control"
                       ng-model="cc.data.State">
            </div>
            <div class="has-feedback fgap">
                <label class="control-label">Zip/Postal Code :</label>
                <input type="tel" placeholder="Zip/Postal Code associated with card" class="form-control"
                       oninput="javascript: if (this.value.length > this.maxLength) {this.value = this.value.slice(0, this.maxLength);} else if(/\D/.test(this.value)) {this.value = this.value.slice(0, this.value.length-1);}"
                       maxlength="5"
                       ng-model="cc.data.Zip">
            </div>
            <div class="has-feedback fgap">
                <label class="control-label">Phone :</label>
                <input id="MobileNo" type="tel" placeholder="Phone number"
                       class="form-control"
                       maxlength="10"
                       ng-model="cc.data.Phone">
            </div>

            <div ng-if="cc.from == 'reg'" class="checkbox checkbox-primary">
                <input id="checkbox2" ng-click="cc.checkStatus($event)" type="checkbox">
                <label for="checkbox2">Add Payment Later</label>
            </div>

        </div>
        <a ng-if="cc.from == 'profile'  && !cc.isChecked" class="modals block-btn" data-toggle="modal" data-ng-click="cc.SubmitCreditCardInfo(cc.data,'A')">Add Card</a>
        <a ng-if="cc.from == 'reg'" class="modals block-btn" data-ng-click="cc.SubmitCreditCardInfo(cc.data,'R')" data-toggle="modal">Register</a>
        <!-- Modal Payment Terms -->
        <div class="modal fade" id="PTerms" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="sp-close" data-dismiss="modal" aria-label="Close"></button>
                        <h4 class="modal-title" id="myModalLabel">Payment Terms</h4>
                    </div>
                    <div class="modal-body">
                        A credit card is required to request an appointment. You will be charged $25 for a cancellation within 12 hours of the start of your requested appointment time. You will be charged at the completion of the service. It is the responsibility of the credit card processing agents/companies and the clients to maintain secure financial information and private credit card number documentation. Spafoo.com accepts no liability for the failure of VISA/MasterCard/American Express/Discover to protect their clients from fraudulent activities and theft of private information. The above mentioned entities are contracted by Spafoo.com to provide secure transactions.
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Confirm Payment? -->
        <div class="modal fade" id="CPayment" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog w90" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="sp-close" data-dismiss="modal" aria-label="Close"></button>
                        <h4 class="center" id="myModalLabel"><i class="fa fa-question-circle fa-3x"></i> </h4>
                    </div>
                    <div class="modal-cpbody center">
                        <p>Confirm Payment of</p>
                        <div class="finfo">
                            170.47<span class="usd">USD</span>
                        </div>
                        <p>To book this appointment?</p>
                        <div class="cpaction">
                            <div class="col-xs-6 pca"><a data-dismiss="modal" class="gray-rounded btnblock">Cancel</a></div>
                            <div class="col-xs-6 pok"><a data-dismiss="modal" data-toggle="modal" data-target="#PDone" class="green-rounded btnblock">Ok</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Payment Done -->
        <div class="modal fade" id="PDone" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog w90" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="sp-close" data-dismiss="modal" aria-label="Close"></button>
                        <h4 class="center" id="myModalLabel"><i style="color:red;" class="fa fa-exclamation-circle fa-3x"></i> </h4>
                    </div>
                    <div class="modal-cpbody center">
                        <p>{{cc.messages}}</p>
                        <div class="cpaction">
                            <a ng-if="cc.from=='reg'" data-dismiss="modal" data-toggle="modal" ui-sref="home" class="green-rounded btnblock">Ok</a>
                            <a ng-if="cc.from=='profile'" data-dismiss="modal" data-toggle="modal" ui-sref="MyProfile" class="green-rounded btnblock">Ok</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="PSuccess" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog w90" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="sp-close" data-dismiss="modal" aria-label="Close"></button>
                        <h4 class="center" id="myModalLabel"><i class="fa fa-check-circle fa-3x"></i> </h4>
                    </div>
                    <div class="modal-cpbody center">
                        <p>{{cc.Succmesg}}</p>
                        <div class="cpaction">
                            <a ng-click="cc.redirectTo('MyProfile')" class="green-rounded btnblock">Ok</a>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">app.initialize();</script>

    </ion-Content>
</ion-view>