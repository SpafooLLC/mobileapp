{"version":3,"sources":["controllers/Main/main.controller.ts"],"names":[],"mappings":"AAAA,IAAO,cAAc,CAmDpB;AAnDD,WAAO,cAAc,EAAC,CAAC;IACnB;QAKI,wBACY,EAAgB,EAChB,MAAgC,EAChC,WAA0C,EAC1C,aAAgD,EAChD,MAAiB,EACjB,SAA8B,EAC9B,YAAoD,EACpD,OAA0B,EAC1B,OAAkC,EAClC,UAAe,EACf,UAAgD;YAVhD,OAAE,GAAF,EAAE,CAAc;YAChB,WAAM,GAAN,MAAM,CAA0B;YAChC,gBAAW,GAAX,WAAW,CAA+B;YAC1C,kBAAa,GAAb,aAAa,CAAmC;YAChD,WAAM,GAAN,MAAM,CAAW;YACjB,cAAS,GAAT,SAAS,CAAqB;YAC9B,iBAAY,GAAZ,YAAY,CAAwC;YACpD,YAAO,GAAP,OAAO,CAAmB;YAC1B,YAAO,GAAP,OAAO,CAA2B;YAClC,eAAU,GAAV,UAAU,CAAK;YACf,eAAU,GAAV,UAAU,CAAsC;YAGxD,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;YACpF,IAAI,CAAC,UAAU,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,IAAE,MAAM,GAAE,IAAI,GAAC,KAAK,CAAC,CAAC;YACxG,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,IAAE,GAAG,GAAE,GAAG,GAAC,GAAG,CAAC,CAAC;YACpF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YACrC,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YACjE,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,EAAE,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;gBACrB,KAAK,CAAC,UAAU,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,GAAQ,IAAI,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5H,CAAC;QACL,CAAC;QAGL,iCAAQ,GAAR;YACI,IAAI,CAAC,UAAU,CAAC,cAAc,GAAG,KAAK,CAAC;YAEvC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;YAC1D,IAAI,CAAC,UAAU,CAAC,eAAe,GAAG,mBAAmB,CAAC;YACtD,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,EAAE,mBAAmB,CAAC,CAAC;YACvE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAClD,mHAAmH;YAE7G,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAC3B,CAAC;QAxCM,sBAAO,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,aAAa,EAAE,eAAe,EAAE,QAAQ,EAAE,WAAW,EAAE,cAAc,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;QA6C/J,qBAAC;IAAD,CA9CA,AA8CC,IAAA;IAED,OAAO,CAAC,MAAM,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;AAE9E,CAAC,EAnDM,cAAc,KAAd,cAAc,QAmDpB","file":"controllers/Main/main.controller.js","sourcesContent":["module mainController { \r\n    class MainController {\r\n        static $inject = ['$q', '$state', '$ionicPopup', '$ionicLoading', '$scope', '$location', 'CustomerHttp', '$window', 'toaster', '$rootScope', 'SharedHttp'];\r\n        GetLoginStatus: boolean;\r\n        NotifiCount: number; \r\n        getRole:string;\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $ionicPopup: ionic.popup.IonicPopupService,\r\n            private $ionicLoading: ionic.loading.IonicLoadingService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private toaster: ngtoaster.IToasterService,\r\n            private $rootScope: any,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp\r\n\r\n        ) { \r\n            this.$rootScope.UserProfileName = this.$window.localStorage.getItem('CustomerName');\r\n            this.$rootScope.GetLoginStatus = (this.$window.localStorage.getItem('LoginStatus')==\"true\" ?true:false);\r\n            this.$rootScope.getRole = (this.$window.localStorage.getItem('Role')==\"P\" ?\"P\":\"C\");\r\n            console.log(this.$rootScope.getRole);\r\n            var customerID = this.$window.localStorage.getItem('CustomerID');\r\n            var seldf = this;\r\n            if (customerID != null) {\r\n                seldf.SharedHttp.GetMyNotification(customerID).then(function (res: any) { seldf.$rootScope.NotifiCount = res.length; });\r\n            }\r\n        }\r\n\r\n\r\n    doLogOut() {\r\n        this.$rootScope.GetLoginStatus = false;\r\n\r\n        this.$window.localStorage.setItem('LoginStatus', \"false\");\r\n        this.$rootScope.UserProfileName = \"Welcome to Spafoo\";\r\n        this.$window.localStorage.setItem('CustomerName', \"Welcome to Spafoo\");\r\n        this.$window.localStorage.setItem('Role', null);\r\n      //  alert(\"LogOut :: \"+this.$rootScope.GetLoginStatus + \", type Of :: \" + typeof (this.$rootScope.GetLoginStatus));\r\n\r\n            this.$state.go('home');\r\n        }\r\n\r\n   \r\n\r\n\r\n    }\r\n\r\n    angular.module('spafoo.ctrl.Main', []).controller('Main', MainController);\r\n\r\n}"],"sourceRoot":"/source/"}