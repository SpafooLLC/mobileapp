{"version":3,"sources":["controllers/ProSetSoonest/ProSetSoonest.controller.ts"],"names":[],"mappings":"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","file":"controllers/ProSetSoonest/ProSetSoonest.controller.js","sourcesContent":["module ProSetSoonestController {\r\n\r\n    class ProSetSoonestController {\r\n        uiConfig: any;\r\n        static $inject = ['$q', '$state', '$scope', '$location', 'CustomerHttp', '$window', 'SharedHttp', \"$stateParams\"];\r\n        AddressID: number;\r\n        ClientID: number;\r\n        ProviderID: number;\r\n        AppID: number;\r\n        name: string;\r\n        staticEvents: any;\r\n        message: string;\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\r\n            private $stateParams: angular.ui.IStateParamsService\r\n        ) {\r\n            var self = this;\r\n            self.AddressID = $stateParams.AddressID;\r\n            self.ClientID = $stateParams.ClientID;\r\n            self.ProviderID = $stateParams.ProviderID;\r\n            self.AppID = $stateParams.AppID;\r\n            self.name = $stateParams.Name1;\r\n            self.uiConfig = {\r\n                calendar: {\r\n                    height: 450,\r\n                    editable: true,\r\n                    header: {\r\n\r\n\r\n                        right: 'today prev,next'\r\n                    },\r\n                    dayClick: function (date: any, jsEvent: any, view: any) {\r\n                     \r\n                        var selectedDate = moment(date).format('YYYY-MM-DD');\t\t\t\t    // set dateFrom based on user click on calendar\r\n                        self.staticEvents[0].events.push({\r\n                            start: selectedDate, allday: true,\r\n                            dateField: moment(date).format('MMM DD'),\r\n                            dateFieldHidden: moment(date).format('MM/DD/YYYY'),\r\n                            proId: 0,\r\n                            color: '#008000'\r\n\r\n                        });\t\t\t\t    // update Calendar event dateFrom\r\n                        //self.selectedDate = $filter('date')(selectedDate, 'yyyy-MM-dd');;\t\t// update $scope.dateFrom\r\n                        //console.log('$scope.uiConfig', $scope.uiConfig);\r\n                        //console.log('uiCalendarConfig', uiCalendarConfig);\r\n                    },\r\n                    //eventDrop: this.alertOnDrop,\r\n                    //eventResize: this.alertOnResize,\r\n                    //eventRender: this.eventRender\r\n                }\r\n\r\n            };\r\n            self.staticEvents =\r\n                [\r\n                    // your event source\r\n                    {\r\n                    events: [],\r\n                        color: 'green',     // an option!\r\n                        textColor: 'black' // an option!\r\n                    }];\r\n           \r\n\r\n        }\r\n        deleteEvent($index: any)\r\n        {\r\n         \r\n            var self = this;\r\n            self.staticEvents[0].events.splice($index, 1);\r\n        }\r\n        setDetails()\r\n        {\r\n           \r\n            var self = this;\r\n            var data = {};\r\n            if (data == 0) {\r\n             \r\n                this.message = \"Add a event to proceed\";\r\n                $(\"#PDone\").modal(\"toggle\");\r\n                return;\r\n            }\r\n            for (var i = 0; i < self.staticEvents[0].events.length; i++) {\r\n                if (!self.staticEvents[0].events[i].hasOwnProperty('endTime') || !self.staticEvents[0].events[i].hasOwnProperty('startTime')) {\r\n                    this.message = \"Choose time on respective date\";\r\n                    $(\"#PDone\").modal(\"toggle\");\r\n                    return;\r\n\r\n                }\r\n            }\r\n            for (var i = 0; i < self.staticEvents[0].events.length; i++)\r\n            {\r\n                 data = { AddressID: self.AddressID, AppID: self.AppID, AtTime: self.staticEvents[0].events[i].startTime, ClientID: self.ClientID, Comment: \"\", EndTime: self.staticEvents[0].events[i].endTime, ForDate: self.staticEvents[0].events[i].dateFieldHidden, ProviderID: self.ProviderID };  \r\n                console.log(data);\r\n                self.CustomerHttp.post(data, \"/UpdateAppBasicInfo\").then(function (res: any) {\r\n                \r\n                    self.CustomerHttp.get(\"/UpdateAppStatus/\" + res + \"/5\").then(function () {\r\n                   \r\n                    });\r\n                  \r\n                });\r\n            }\r\n            \r\n            \r\n        }\r\n    }\r\n\r\n        \r\n\r\n\r\n    angular.module('spafoo.ctrl.ProSetSoonest', []).controller('ProSetSoonest',ProSetSoonestController);\r\n\r\n}\r\n\r\n "],"sourceRoot":"/source/"}