{"version":3,"sources":["controllers/FindProvider/FindProvider.controller.ts"],"names":[],"mappings":"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","file":"controllers/FindProvider/FindProvider.controller.js","sourcesContent":["module FindProviderController {\r\n    class FindProviderController {\r\n        initialLatLong: any;\r\n        getServicesName: any;\r\n        mapOptions: any;\r\n        mapDiv: any;\r\n        ServiceData: {};\r\n        profilePic: string;\r\n        TagField: string;\r\n        userName: string;\r\n        distance: any;\r\n        infoWindow: boolean;\r\n        userId: number;\r\n        customerType: string;\r\n        messages: string;\r\n        InMile: number;\r\n        static currentLatLong: any;\r\n        static map: any = 0;\r\n        $inject = ['$state', '$scope', '$ionicLoading', 'CustomerHttp', 'SharedHttp', '$q', '$window']\r\n        constructor(\r\n            private $state: angular.ui.IStateService,\r\n            private $scope: angular.IScope,\r\n            private $ionicLoading: ionic.loading.IonicLoadingService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\r\n            private $q: ng.IQService,\r\n            private $window: ng.IWindowService) {\r\n            var self = this;\r\n            self.customerType = window.localStorage.getItem('Role');\r\n            $window.localStorage.setItem(\"url1\", 'FindProvider');\r\n            document.addEventListener(\"deviceready\", function () {\r\n\r\n                self.GetWithInMile();\r\n                self.InitializeMaps(33.448376, -112.074036);\r\n                // Initialize the map plugin\r\n                var options = {\r\n                    enableHighAccuracy: true,\r\n                    maximumAge: 3600000\r\n                };\r\n                    navigator.geolocation.getCurrentPosition(self.onSuccess, self.onError, options);\r\n\r\n                    self.SharedHttp.IsGPSOn();\r\n                //navigator.geolocation.getCurrentPosition(self.geolocationSuccess, self.geoLocationError, { maximumAge: 3000, timeout: 5000, enableHighAccuracy: false });\r\n\r\n            });\r\n            $(\"#infowindow\").hide();\r\n            if (FindProviderController.map != 0) {\r\n                FindProviderController.map.clear();\r\n            }\r\n            self.doSearchProvider();\r\n            self.userId = 0;\r\n\r\n        }\r\n        GetWithInMile() {\r\n            var self = this;\r\n            self.CustomerHttp.get('/GetWithInMile').then(function (response: any) {\r\n                self.InMile = parseInt(response.GetWithInMileResult);\r\n            });\r\n\r\n        }\r\n\r\n        doSearchProvider() {\r\n\r\n            var self = this;\r\n\r\n            this.CustomerHttp.get(\"/ListRootBottomService\").then(function (response: any) {\r\n                var _Final = \"\"\r\n                $.each(response.ListRootBottomServiceResult, function (i, o) {\r\n\r\n                    if (o.parentIDField == -1) {\r\n                        if (_Final.trim() == '') {\r\n                            _Final = \"<option value='-1'>Select Service</option><optgroup label='\" + o.serviceNameField + \"'>\";\r\n                        }\r\n                        else\r\n                            _Final += \"</optgroup><optgroup label='\" + o.serviceNameField + \"'>\";\r\n                    }\r\n                    else {\r\n                        _Final += \"<option value='\" + o.serviceIDField + \"'>\" + o.serviceNameField + \"</option>\";\r\n                    }\r\n                })\r\n                $('#ddlServices').html(_Final);\r\n                self.getServicesName = response.ListRootBottomServiceResult;\r\n\r\n\r\n            },\r\n                function (e) {\r\n                    //alert('code: ' + e.code + '\\n' + 'message: ' + e.message + '\\n');\r\n\r\n\r\n                });\r\n        }\r\n\r\n        InitializeMaps(latitude:any, longitude:any) {\r\n            var self = this;\r\n            self.mapDiv = document.getElementById(\"map_canvas\");\r\n\r\n\r\n            const init = new plugin.google.maps.LatLng(latitude, longitude);\r\n            self.mapOptions = {\r\n                'backgroundColor': 'white',\r\n                'mapType': plugin.google.maps.MapTypeId.ROADMAP,\r\n                'controls': {\r\n                    'compass': true,\r\n                    'myLocationButton': true,\r\n                    'indoorPicker': true,\r\n                    'zoom': true\r\n                },\r\n                'gestures': {\r\n                    'scroll': true,\r\n\r\n                    'rotate': true,\r\n                    'zoom': true\r\n                },\r\n                'camera': {\r\n                    'latLng': init,\r\n\r\n                    'zoom': 15,\r\n                    //'bearing': 50\r\n                }\r\n            };\r\n            FindProviderController.map = plugin.google.maps.Map.getMap(self.mapDiv, self.mapOptions);\r\n            FindProviderController.map.on(plugin.google.maps.event.MAP_CLICK, function () {\r\n\r\n                $(\"#infowindow\").hide();\r\n                //self.infoWindow = false;\r\n\r\n            });\r\n        }\r\n\r\n        onSuccess(position: any) {\r\n            var self = this;\r\n            FindProviderController.currentLatLong = position;\r\n         //   alert(parseFloat(FindProviderController.currentLatLong.split(',')[0]) + \" , \" + parseFloat(FindProviderController.currentLatLong.split(',')[1]))\r\n            self.InitializeMaps(position.coords.latitude, position.coords.longitude);\r\n\r\n            // You have to wait the MAP_READY event.\r\n        }\r\n        onError(e: any) {\r\n\r\n        }\r\n        getProviders(serviceId: any) {\r\n            var self = this;\r\n            FindProviderController.map.clear();\r\n            FindProviderController.map.setClickable(true);\r\n            $(\"#infowindow\").hide();\r\n            self.CustomerHttp.get('/ListProvidersByServices/' + serviceId).then(function (response: any) {\r\n                if (response.ListProvidersByServicesResult.length != 0) {\r\n                    for (var i = 0; i < response.ListProvidersByServicesResult.length; i++) {\r\n                        self.addMarkers(response.ListProvidersByServicesResult[i].vanityUrlField, response.ListProvidersByServicesResult[i].userIDField);\r\n                        if (i == 0) {\r\n                            var lat = response.ListProvidersByServicesResult[i].vanityUrlField.substring(0, response.ListProvidersByServicesResult[i].vanityUrlField.indexOf(':'));\r\n                            var long = response.ListProvidersByServicesResult[i].vanityUrlField.substring(response.ListProvidersByServicesResult[i].vanityUrlField.indexOf(':') + 1);\r\n\r\n                            const providerLoc = new plugin.google.maps.LatLng(lat, long);\r\n                            //FindProviderController.map.animateCamera({\r\n                            //    'target': providerLoc,\r\n                            //    'zoom': 10\r\n                            //}, function (marker: any) {\r\n                            //    marker.showInfoWindow();\r\n                            //});\r\n                        }\r\n                    }\r\n                } else {\r\n                    FindProviderController.map.setClickable(false);\r\n                    self.messages = 'No provider found for the service you have chosen';\r\n                    $(\"#PDone\").modal();\r\n                }\r\n            }, function (e) {\r\n\r\n            })\r\n\r\n        }\r\n        rad(x: any) {\r\n            return x * Math.PI / 180;\r\n        };\r\n\r\n        getDistance(p1: any, p2: any) {\r\n            var self = this;\r\n            var R = 6378137; // Earthâ€™s mean radius in meter\r\n            var dLat = self.rad(p2.latitude - p1.latitude);\r\n            var dLong = self.rad(p2.longitude - p1.longitude);\r\n            var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n                Math.cos(self.rad(p1.latitude)) * Math.cos(self.rad(p2.latitude)) * Math.sin(dLong / 2) * Math.sin(dLong / 2);\r\n            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n            var d = R * c;\r\n            return d / 1609.344; // returns the distance in meter\r\n        };\r\n        addMarkers(latlongval: any, userId: any) {\r\n\r\n            var self = this;\r\n\r\n            var lat = latlongval.substring(0, latlongval.indexOf(':'));\r\n            var long = latlongval.substring(latlongval.indexOf(':') + 1);\r\n            var providerLatLong = { latitude: lat, longitude: long };\r\n\r\n            var currentlatlong = { latitude: FindProviderController.currentLatLong.coords.latitude, longitude: FindProviderController.currentLatLong.coords.longitude };\r\n            const providerLoc = new plugin.google.maps.LatLng(lat, long);\r\n            var Prodistance = self.getDistance(providerLatLong, currentlatlong).toFixed(1);\r\n            if (parseInt(Prodistance) <= parseInt(self.InMile)) {\r\n\r\n                FindProviderController.map.animateCamera({\r\n                    'target': providerLoc,\r\n                    'zoom': 10\r\n                }, function (marker: any) {\r\n                    marker.showInfoWindow();\r\n                });\r\n\r\n\r\n                FindProviderController.map.addMarker({\r\n                    'position': providerLoc,\r\n                    //'icon': 'data:image/png;base64,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',\r\n                    'icon': 'data:image/png;base64,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',\r\n                    'styles': {\r\n                        'text-align': 'left',\r\n\r\n                        'font-weight': 'bold',\r\n                        'color': 'green'\r\n                    },\r\n                    //'id':userId,\r\n                }, function (marker: any) {\r\n\r\n                    marker.set(\"params\", {\r\n                        id: userId,\r\n                        distance: Prodistance\r\n                    });\r\n                    //alert(marker.get(\"id\"));\r\n                    //alert(\"marker options\" + JSON.stringify(marker.id) + JSON.stringify(marker));\r\n                    marker.addEventListener(plugin.google.maps.event.MARKER_CLICK, function () {\r\n                        self.getUserInfo(marker.get(\"params\").id).then(function (data: any) {\r\n                            marker.setTitle(data.name);\r\n                            marker.setSnippet(marker.get(\"params\").distance + \" miles away\");\r\n                            self.profilePic = data.profilePic;\r\n                            self.TagField = data.tagField;\r\n                            self.userName = data.name;\r\n                            self.userId = data.userId;\r\n                            marker.showInfoWindow();\r\n                            //self.infoWindow = true;\r\n                            $(\"#infowindow\").show();\r\n                        }, function (e) { });\r\n                        //self.CustomerHttp.get('/ListProvidersByServices/' + marker.get(\"params\").id).then(function (response: any) { });\r\n                        //alert(\"Marker is clicked\" + JSON.stringify(marker.get(\"params\")));\r\n                    });\r\n\r\n\r\n                });\r\n            }\r\n\r\n        }\r\n        //providerMessage() {\r\n\r\n        //    var self = this;\r\n        //    self.messages = \"Provider can not book an appointment\";\r\n        //    $(\"#PDone\").modal();\r\n\r\n        //}\r\n        getUserInfo(userId: any) {\r\n\r\n            var image = '';\r\n            var tagline = '';\r\n            var name = ''\r\n            var deferred = this.$q.defer();\r\n            var self = this;\r\n\r\n            self.CustomerHttp.get('/GetUserInfo/' + userId).then(function (response: any) {\r\n                self.ServiceData = response.GetUserInfoResult;\r\n\r\n                self.SharedHttp.getProfilePics(self.ServiceData.profileField.photoField).then(function (imgres) {\r\n\r\n                    image = imgres;\r\n                    self.SharedHttp.GetProTagLine(userId).then(function (res) {\r\n\r\n                        tagline = res;\r\n                        var data = { name: response.GetUserInfoResult.firstNameField + \" \" + response.GetUserInfoResult.lastNameField[0] + \".\", profilePic: image, tagField: tagline, userId: userId };\r\n\r\n                        deferred.resolve(data);\r\n                    }, function (e) { deferred.reject(\"failed to get data\") });\r\n\r\n                }, function (e) { deferred.reject(\"failed to get data\") });\r\n\r\n\r\n            }, function (error) {\r\n                if (error === null) {\r\n\r\n                } else {\r\n                    //console.log(error);\r\n\r\n                }\r\n            });\r\n            return deferred.promise;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    angular.module('spafoo.ctrl.FindProvider', []).controller('FindProvider', FindProviderController);\r\n\r\n}"],"sourceRoot":"/source/"}