{"version":3,"sources":["controllers/MakeAppointment/MakeAppointment.controller.ts"],"names":[],"mappings":"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","file":"controllers/MakeAppointment/MakeAppointment.controller.js","sourcesContent":["module MakeAppointmentController {\r\n    interface IMakeAppointmentController {\r\n        UserID: number;\r\n        ServiceData: {};\r\n        ProviderServiceList: {};\r\n        address: string; city: string; state: string; zip: string;\r\n    }\r\n    class MakeAppointmentController implements IMakeAppointmentController {\r\n        UserID: number;\r\n        ServiceData: {};\r\n        ProviderServiceList: {};\r\n        address: string; city: string; state: string; zip: string;\r\n        static $inject = ['$q', '$state', '$scope', '$location', 'CustomerHttp', '$window', 'SharedHttp','$stateParams'];\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\r\n            private $stateParams: angular.ui.IStateParamsService\r\n        ) {\r\n            var mySelect = $('#first-disabled2');\r\n            $('#special').on('click', function () {\r\n                mySelect.find('option:selected').prop('disabled', true);\r\n                mySelect.selectpicker('refresh');\r\n            });\r\n\r\n            $('#special2').on('click', function () {\r\n                mySelect.find('option:disabled').prop('disabled', false);\r\n                mySelect.selectpicker('refresh');\r\n            });\r\n            $('#basic2').selectpicker({\r\n                liveSearch: true,\r\n                maxOptions: 1\r\n            });\r\n            this.UserID = this.$window.localStorage.getItem('ProviderIDs');\r\n\r\n            this.getProviderPortfolio($stateParams.userId);\r\n            //$(\"#addressfield\").val('result.subThoroughfare + \" \" + result.thoroughfare;');\r\n            //setTimeout(function () {\r\n            //    $(\"#addressfield\").val('result.subThoroughfare + \" \" + result.thoroughfare;');\r\n            //    this.address = 'result.subThoroughfare + \" \" + result.thoroughfare;'\r\n            //    this.city = 'result.locality';\r\n            //    this.state = 'result.adminArea';\r\n            //    this.zip = 'result.postalCode';\r\n            //}, 5000);\r\n            \r\n        }\r\n        getProviderPortfolio(UserID: any) {\r\n            var self = this;\r\n\r\n            self.CustomerHttp.get('/GetUserInfo/' + UserID).then(function (response: any) {\r\n                self.ServiceData = response.GetUserInfoResult;\r\n                self.SharedHttp.GetProviderServices(UserID).then(function (res) { self.ProviderServiceList = res; });\r\n               \r\n             }, function (error) {\r\n\r\n            });\r\n        }\r\n        changedValue(data: any) {\r\n         //   alert(\"changed value called\");\r\n            var self = this;\r\n           // alert(data);\r\n            switch ( parseInt( data))\r\n            {\r\n                case 1:\r\n                   self.GetGPSLocation(); break;\r\n                case 2:\r\n                    \r\n                        //self.address = self.ServiceData.profileField.streetField;\r\n                        //self.city = self.ServiceData.profileField.cityField;\r\n                        //self.state = self.ServiceData.profileField.regionField;\r\n                        //self.zip = self.ServiceData.profileField.postalCodeField;\r\n\r\n                        //alert(self.address);\r\n                    $(\"#addressfield\").val(self.ServiceData.profileField.streetField);\r\n                    $(\"#cityfield\").val(self.ServiceData.profileField.cityField);\r\n                    $(\"#statefield\").val(self.ServiceData.profileField.regionField);\r\n                    $(\"#zipfield\").val(self.ServiceData.profileField.postalCodeField);\r\n                   \r\n                    break;\r\n\r\n                case 3:\r\n                    $(\"#addressfield\").val('');\r\n                    $(\"#cityfield\").val('');\r\n                    $(\"#statefield\").val('');\r\n                    $(\"#zipfield\").val('');\r\n\r\n            }\r\n\r\n            \r\n\r\n        }\r\n\r\n        GetGPSLocation() {\r\n            var self = this;\r\n            var options = {\r\n                enableHighAccuracy: true,\r\n                maximumAge: 3600000\r\n            };\r\n            navigator.geolocation.getCurrentPosition(self.onSuccess, self.onError, options);\r\n           \r\n        }\r\n\r\n        onSuccess(position: any) {\r\n            var self = this;\r\n            const GOOGLE = new plugin.google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n        //    alert(\"onsuccess navigation called\");\r\n            var request = {\r\n                'position': GOOGLE\r\n            };\r\n            plugin.google.maps.Geocoder.geocode(request, function (results: any) {\r\n                if (results.length) {\r\n                    var result = results[0];\r\n                    var position = result.position;\r\n                    var addressfield = [\r\n                        result.subThoroughfare || \"\",\r\n                        result.thoroughfare || \"\",\r\n                        result.locality || \"\",\r\n                        result.adminArea || \"\",\r\n                        result.postalCode || \"\",\r\n                        result.country || \"\"].join(\", \");\r\n                    //alert(\"results are\" + addressfield);\r\n                    //alert(\"address are\" + result.subThoroughfare + \" \" + result.thoroughfare);\r\n                    //alert(\"city are\" + result.locality);\r\n                    //alert(\"state are\" + result.adminArea);\r\n                    //alert(\"zip are\" + result.postalCode);\r\n                    $(\"#addressfield\").val(result.subThoroughfare + \" \" + result.thoroughfare);\r\n                    $(\"#cityfield\").val(result.locality);\r\n                    $(\"#statefield\").val(result.adminArea);\r\n                    $(\"#zipfield\").val(result.postalCode);\r\n                    //self.address = result.subThoroughfare + \" \" + result.thoroughfare;\r\n                    //self.city = result.locality;\r\n                    //self.state = result.adminArea;\r\n                    //self.zip = result.postalCode;\r\n                    \r\n                }\r\n              else {\r\n                    alert(\"Not found\");\r\n                }\r\n            });\r\n            //alert(JSON.stringify(position));\r\n        }\r\n\r\n       \r\n\r\n\r\n        onError(e: any) {\r\n            //alert(JSON.stringify(e));\r\n        }\r\n        CustomSaveAddress(Address: string, City: string, State: string, Zip: string)\r\n        {\r\n            //alert(\"Address :: \" + Address + \" City :: \" + City + \", State :: \" + State + \", Zip :: \" + Zip);\r\n        }\r\n        CreateAppointment(Rcd: any) {\r\n            //alert(JSON.stringify(Rcd));\r\n\r\n            var valuesArray = $('input[name=\"serviceChk\"]:checked').map(function () {\r\n                return this.value;\r\n            }).get().join(\"|\");\r\n            //alert(valuesArray);\r\n        }\r\n   \r\n\r\n\r\n    }\r\n\r\n\r\n    angular.module('spafoo.ctrl.MakeAppointment', []).controller('MakeAppointment', MakeAppointmentController);\r\n\r\n}"],"sourceRoot":"/source/"}