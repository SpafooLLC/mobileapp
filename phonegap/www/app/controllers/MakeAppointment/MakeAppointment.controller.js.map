{"version":3,"sources":["controllers/MakeAppointment/MakeAppointment.controller.ts"],"names":[],"mappings":"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","file":"controllers/MakeAppointment/MakeAppointment.controller.js","sourcesContent":["﻿module MakeAppointmentController {\r\n    interface IMakeAppointmentController {\r\n        UserID: number;\r\n        ServiceData: {};\r\n        ProviderServiceList: {};\r\n        address: string; city: string; state: string; zip: string;\r\n    }\r\n    class MakeAppointmentController implements IMakeAppointmentController {\r\n        UserID: number;\r\n        ServiceData: {};\r\n        MainView: string;\r\n        ProviderServiceList: {};\r\n        address: string; city: string; state: string; zip: string; AppID: any;\r\n        static $inject = ['$q', '$state', '$scope', '$location', 'CustomerHttp', '$window', '$rootScope', 'SharedHttp','$stateParams', '$ionicPopup'];\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private $rootScope: any,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\r\n            private $stateParams: angular.ui.IStateParamsService,\r\n            private $ionicPopup: ionic.popup.IonicPopupService\r\n        ) {\r\n\r\n            this.UserID = this.$window.localStorage.getItem('ProviderIDs');\r\n            this.AppID = 0;\r\n            var status = this.$window.localStorage.getItem('LoginStatus');\r\n            this.customerId = null;\r\n            this.checked_services = [];\r\n            if(!status || status == \"false\"){\r\n                var providerData = {providerId: this.UserID};\r\n                this.$state.go(\"login\", providerData);\r\n            }else{\r\n                this.customerId = $window.localStorage.getItem('CustomerID');\r\n            }\r\n            var mySelect = $('#first-disabled2');\r\n            $('#special').on('click', function () {\r\n                mySelect.find('option:selected').prop('disabled', true);\r\n                mySelect.selectpicker('refresh');\r\n            });\r\n\r\n            $('#special2').on('click', function () {\r\n                mySelect.find('option:disabled').prop('disabled', false);\r\n                mySelect.selectpicker('refresh');\r\n            });\r\n\r\n            /*$('#basic2').selectpicker({\r\n             liveSearch: false,\r\n             maxOptions: 1,\r\n             change: function(){\r\n             console.log(this);\r\n             }\r\n             });*/\r\n            this.isOpenSelectAdress = '';\r\n            this.info = {};\r\n            this.addressId = '';\r\n            this.comment = '';\r\n            this.MainView = 'Basic-Info';\r\n            this.addressText = 'My Profile Address';\r\n            this.selectedServices = [];\r\n            this.totalPrice = 0;\r\n            this.totalDuration = 0;\r\n            this.isEdit = false;\r\n            if(this.$stateParams.appointmentId != \"null\"){\r\n                this.AppointmentID = this.$stateParams.appointmentId;\r\n                this.isEdit = true;\r\n                this.AppID = this.AppointmentID;\r\n            }\r\n            this.getProviderPortfolio($stateParams.userId);\r\n            var date = new Date();\r\n            var d = date.getDate();\r\n            var m = date.getMonth();\r\n            var y = date.getFullYear();\r\n            var self = this;\r\n            this.uiConfig = {\r\n                calendar: {\r\n                    height: 450,\r\n\r\n                    header: {\r\n                        right: 'today prev,next'\r\n                    },\r\n                    dayClick: function(date: any, jsEvent: any, view: any){\r\n                        self.onTimeSelected(date, jsEvent);\r\n                    },\r\n                    eventDrop: $scope.alertOnDrop,\r\n                    eventResize: $scope.alertOnResize\r\n                }\r\n            };\r\n            this.staticEvents = [\r\n\r\n                // your event source\r\n                {\r\n                    events: [ // put the array in the `events` property\r\n\r\n                       /* {\r\n                            title: 'event2',\r\n                            start: '2016-09-01',\r\n                            end: '2016-09-01'\r\n                        }, {\r\n                            title: 'event2',\r\n                            start: '2016-09-03',\r\n                            end: '2016-09-03'\r\n                        }, {\r\n                            title: 'event2',\r\n                            start: '2016-09-05',\r\n                            end: '2016-09-05'\r\n                        }, {\r\n                            title: 'event2',\r\n                            start: '2016-09-07',\r\n                            end: '2016-09-07'\r\n                        }, {\r\n                            title: 'event2',\r\n                            start: '2016-09-09',\r\n                            end: '2016-09-09'\r\n                        },*/\r\n\r\n                    ],\r\n                    color: 'green',     // an option!\r\n                    textColor: 'black' // an option!\r\n                }\r\n\r\n                // any other event sources...\r\n\r\n            ];\r\n            this.eventSource = this.staticEvents;\r\n            /*this.renderCalender = function() {\r\n\r\n             /!*if($calender.calendars[$calender]){\r\n             $calender.calendars[$calender].fullCalendar('render');\r\n             }*!/\r\n             };*/\r\n            //$(\"#addressfield\").val('result.subThoroughfare + \" \" + result.thoroughfare;');\r\n            //setTimeout(function () {\r\n            //    $(\"#addressfield\").val('result.subThoroughfare + \" \" + result.thoroughfare;');\r\n            //    this.address = 'result.subThoroughfare + \" \" + result.thoroughfare;'\r\n            //    this.city = 'result.locality';\r\n            //    this.state = 'result.adminArea';\r\n            //    this.zip = 'result.postalCode';\r\n            //}, 5000);\r\n\r\n        }\r\n        openDropdown(){\r\n            this.isOpenSelectAdress = this.isOpenSelectAdress == '' ? 'open' : '';\r\n        }\r\n        getProviderPortfolio(UserID: any) {\r\n            var self = this;\r\n\r\n            self.CustomerHttp.get('/GetUserInfo/' + UserID).then(function (response: any) {\r\n                self.ServiceData = response.GetUserInfoResult;\r\n                self.SharedHttp.GetProviderServices(UserID).then(function (res) { self.ProviderServiceList = res; });\r\n                self.CustomerHttp.get('/GetUserInfo/' + self.customerId).then(function (response: any) {\r\n                    self.info.address = self.ServiceData.profileField.streetField = response.GetUserInfoResult.profileField.streetField;\r\n                    self.info.city = self.ServiceData.profileField.cityField = response.GetUserInfoResult.profileField.cityField;\r\n                    self.info.state = self.ServiceData.profileField.regionField = response.GetUserInfoResult.profileField.regionField;\r\n                    self.info.zip = self.ServiceData.profileField.postalCodeField = response.GetUserInfoResult.profileField.postalCodeField;\r\n                    if(self.isEdit){\r\n                        self.CustomerHttp.get('/GetAppointment/' + self.AppointmentID).then(function (response: any) {\r\n                            self.ServiceData.appointment = response.GetAppointmentResult;\r\n                            self.CustomerHttp.get('/GetAppLocation/' + self.AppointmentID).then(function (response: any) {\r\n                                var e = response.GetAppLocationResult;\r\n                                self.info.address = e.addressField;\r\n                                self.info.city = e.cityField;\r\n                                self.info.state = e.stateField;\r\n                                self.info.zip = e.zipField;\r\n\r\n                            });\r\n                            self.appointment = self.ServiceData.appointment;\r\n                            self.appointment.servicesField.map(function(serv: any){\r\n                                var serviceString = serv.serviceIDField+':'+1+':'+serv.priceField;\r\n                                $('input[value=\"'+serviceString+'\"]').prop('checked', 'checked');\r\n                                self.comment = self.appointment.commentsField;\r\n                            })\r\n                        });\r\n                    }\r\n                })\r\n            });\r\n        }\r\n\r\n        changedValue(data: any, text: any) {\r\n            var self = this;\r\n            // alert(data);\r\n            self.addressText = text;\r\n            switch ( parseInt( data))\r\n            {\r\n                case 1:\r\n                    self.GetGPSLocation(); break;\r\n                case 2:\r\n\r\n                    //self.address = self.ServiceData.profileField.streetField;\r\n                    //self.city = self.ServiceData.profileField.cityField;\r\n                    //self.state = self.ServiceData.profileField.regionField;\r\n                    //self.zip = self.ServiceData.profileField.postalCodeField;\r\n\r\n                    //alert(self.address);\r\n                    $(\"#addressfield\").val(self.ServiceData.profileField.streetField);\r\n                    $(\"#cityfield\").val(self.ServiceData.profileField.cityField);\r\n                    $(\"#statefield\").val(self.ServiceData.profileField.regionField);\r\n                    $(\"#zipfield\").val(self.ServiceData.profileField.postalCodeField);\r\n\r\n                    break;\r\n\r\n                case 3:\r\n                    $(\"#addressfield\").val('');\r\n                    $(\"#cityfield\").val('');\r\n                    $(\"#statefield\").val('');\r\n                    $(\"#zipfield\").val('');\r\n\r\n            }\r\n\r\n            this.isOpenSelectAdress = '';\r\n\r\n        }\r\n\r\n        GetGPSLocation() {\r\n            var self = this;\r\n            var options = {\r\n                enableHighAccuracy: true,\r\n                maximumAge: 3600000\r\n            };\r\n            navigator.geolocation.getCurrentPosition(self.onSuccess, self.onError, options);\r\n\r\n        }\r\n\r\n        onSuccess(position: any) {\r\n            var self = this;\r\n            //const GOOGLE = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n            /*$.get('http://maps.googleapis.com/maps/api/geocode/json?latlng='+position.coords.latitude+','+ position.coords.longitude+'&sensor=true', function(resp){\r\n             var addressObj = resp.results[0].address_components;\r\n             self.info.address = addressObj[0].long_name + \" \" + addressObj[1].long_name;\r\n             self.info.city = addressObj[4].long_name;\r\n             self.info.state = addressObj[5].long_name;\r\n             self.info.zip = addressObj[7].long_name;\r\n             });*/\r\n            //    alert(\"onsuccess navigation called\");\r\n            /*var request = {\r\n             'position': GOOGLE\r\n             };\r\n             plugin.google.maps.Geocoder.geocode(request, function (results: any) {\r\n             if (results.length) {\r\n             var result = results[0];\r\n             var position = result.position;\r\n             var addressfield = [\r\n             result.subThoroughfare || \"\",\r\n             result.thoroughfare || \"\",\r\n             result.locality || \"\",\r\n             result.adminArea || \"\",\r\n             result.postalCode || \"\",\r\n             result.country || \"\"].join(\", \");\r\n\r\n             /!* $(\"#addressfield\").val(result.subThoroughfare + \" \" + result.thoroughfare);\r\n             $(\"#cityfield\").val(result.locality);\r\n             $(\"#statefield\").val(result.adminArea);\r\n             $(\"#zipfield\").val(result.postalCode);*!/\r\n             self.info.address = result.subThoroughfare + \" \" + result.thoroughfare;\r\n             self.info.city = result.locality;\r\n             self.info.state = result.adminArea;\r\n             self.info.zip = result.postalCode;\r\n\r\n             }\r\n             else {\r\n             alert(\"Not found\");\r\n             }\r\n             });\r\n             alert(JSON.stringify(position));*/\r\n        }\r\n        onError(e: any) {\r\n            alert(JSON.stringify(e));\r\n        }\r\n\r\n        viewSelect(view: any){\r\n            this.MainView = view;\r\n        }\r\n\r\n        CreateAppointment(Rcd: any) {\r\n            var self = this;\r\n            var status = self.SharedHttp.getLoginStatus();\r\n            var servLists = [];\r\n            self.totalDuration = 0;\r\n            self.totalPrice = 0;\r\n            $('.serviceChecks:checked').map(function () {\r\n                var ServId = this.value.split(':')[0];\r\n                self.ProviderServiceList.map(function(serv){\r\n                    if(serv.serviceIDField == ServId){\r\n                        self.totalDuration+=serv.durationField;\r\n                        self.totalPrice+=serv.priceField;\r\n                        servLists.push(serv);\r\n                    }\r\n                })\r\n            });\r\n            self.selectedServices = servLists;\r\n            if(self.selectedServices.length) {\r\n                self.MainView = 'Order-Summary';\r\n                self.selectedServices.map(function(ser){\r\n                   ser.qtyField = 1;\r\n                });\r\n            } else{\r\n                self.showIonicAlert('Please select the Service(s) for Appointment');\r\n            }\r\n        }\r\n        changeSummery(){\r\n            var self = this;\r\n            self.totalDuration = 0;\r\n            self.totalPrice = 0;\r\n            self.serviceString = self.selectedServices.map(function(serv){\r\n                self.totalDuration+= isNaN(serv.durationField * serv.qtyField) ? serv.durationField : serv.durationField * serv.qtyField;\r\n                self.totalPrice+= isNaN(serv.priceField * serv.qtyField) ? serv.priceField : serv.priceField * serv.qtyField;\r\n                //servLists.push(serv);\r\n            });\r\n            self.serviceString = '';\r\n            self.selectedServices.map(function(srvc) {\r\n                var str = srvc.serviceIDField+':'+srvc.qtyField+':'+srvc.priceField;\r\n                if(self.serviceString == ''){\r\n                    self.serviceString = str;\r\n                } else{\r\n                    self.serviceString+='|'+str;\r\n                }\r\n            });\r\n        }\r\n        appointmentView(){\r\n            var self = this;\r\n            self.changeSummery();\r\n            self.eventSource = [];\r\n            //self.eventSource.push(self.appointment.forDateField);\r\n            self.MainView = 'Appointment-DateTime'\r\n\r\n        }\r\n\r\n        onViewTitleChanged = function (title) {\r\n            this.viewTitle = title;\r\n        };\r\n\r\n        onTimeSelected(time, event){\r\n            var self = this;\r\n            self.availability = false;\r\n            if(!self.isToday(time)){\r\n                self.showIonicAlert('Sorry, you cannot select date before today');\r\n            } else{\r\n                self.selectedDate = time;\r\n                self.onlyDate = moment(self.selectedDate).format('L');\r\n                var tTime = self.totalDuration;\r\n                self.from = self.onlyDate+' '+moment('09.00', \"HH:mm\").format(\"HH:mm\");\r\n                self.to = self.onlyDate+' '+moment('09.00', 'HH:mm').add(self.totalDuration, 'm').format(\"HH:mm\");\r\n                var popUp = self.$ionicPopup.show({\r\n                    scope: self.$scope,\r\n                    title: 'Choose your time slot',\r\n                    templateUrl: 'app/templates/Partials/AppointmentSlotSlider.html',\r\n                    buttons: [\r\n                        { text: 'Cancel' },\r\n                        {\r\n                            text: '<b>Ok</b>',\r\n                            type: 'button-positive',\r\n                            onTap: function(e) {\r\n                                e.preventDefault();\r\n                                if(self.availability){\r\n                                    self.paymentMethod();\r\n                                    popUp.close();\r\n                                } else{\r\n                                    self.showIonicAlert('Please select an available time slot');\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n                self.isSlotAvailable();\r\n                setTimeout(function(){\r\n                    $(\"#range\").ionRangeSlider({\r\n                        type: \"double\",\r\n                        min: +moment('09:00', 'HH:mm').format(\"X\"),\r\n                        max: +moment('21:00', 'HH:mm').format(\"X\"),\r\n                        from: +moment('09:00', 'HH:mm').format(\"X\"),\r\n                        to: +moment('09:00', 'HH:mm').add(self.totalDuration, 'm').format(\"X\"),\r\n                        //step: +moment('05', 'mm').format('hh:mm A'),\r\n                        //step: 300000,\r\n                        drag_interval: true,\r\n                        prettify: function (num) {\r\n                            return moment(num, \"X\").format(\"hh:mm A\");\r\n                        },\r\n                        onFinish: function (data) {\r\n                            self.from = self.onlyDate+' '+moment(data.from, \"X\").format(\"HH:mm\");\r\n                            self.to = self.onlyDate+' '+moment(data.to, \"X\").format(\"HH:mm\");\r\n                            self.isSlotAvailable();\r\n                        },\r\n                    });\r\n                }, 100)\r\n            }\r\n        }\r\n\r\n        showIonicAlert(text, template){\r\n            var self = this;\r\n            var template = template || '';\r\n            return self.$ionicPopup.alert({\r\n                title: text,\r\n                template: template\r\n            });\r\n        }\r\n\r\n        paymentMethod(){\r\n            var self = this;\r\n            self.CustomerHttp.get('/GetCustomerProfile/'+this.customerId).then(function(resp){\r\n                self.selectedCard = 0;\r\n                self.CCards = [];\r\n                var profile = JSON.parse(resp.GetCustomerProfileResult).profile;\r\n                self.PID = profile.customerProfileId;\r\n                if(typeof profile.paymentProfiles != \"undefined\" && profile.paymentProfiles.length){\r\n                    profile.paymentProfiles.map(function(cc){\r\n                        self.CCards.push(cc);\r\n                    });\r\n                    self.CustomerEmail = profile.email;\r\n                }\r\n                self.MainView = 'Payment-Method';\r\n            });\r\n        }\r\n\r\n        isSlotAvailable(){\r\n            var self = this;\r\n            var appId = self.$window.localStorage.getItem('AppointmentIDs');\r\n            var providerId = self.$stateParams.userId;\r\n            var postObj = {\r\n                AppID: self.AppID,\r\n                EndDateTime:self.from,\r\n                ProID:providerId,\r\n                StartDateTime:self.to\r\n            };\r\n            var url = self.isEdit ? '/IsProviderSlotFreeEM' : '/IsProviderSlotFree';\r\n            self.CustomerHttp.post(postObj, url).then(function (response: any) {\r\n                if(response === true){\r\n                    self.selectedFrom = self.from;\r\n                    self.selectedTo = self.to;\r\n                    self.availability = true;\r\n                }else{\r\n                    self.availability = false;\r\n                }\r\n            })\r\n        }\r\n\r\n        isToday (time) {\r\n            var today = new Date(),\r\n                currentCalendarDate = new Date(time);\r\n\r\n            today.setHours(0, 0, 0, 0);\r\n            currentCalendarDate.setHours(0, 0, 0, 0);\r\n            return currentCalendarDate.getTime() >= today.getTime();\r\n        }\r\n\r\n        validatePaymentMethod(){\r\n            var self = this;\r\n            if(self.selectedCard == 0){\r\n                self.MainView = 'Payment-Information';\r\n                self.nameOnCard = '';\r\n                self.cardNumber = '';\r\n                self.radioInline = '';\r\n                self.paymentTerm = '';\r\n                self.cvv = '';\r\n                self.expMonth = '01';\r\n                self.expYear = '2015';\r\n            }else{\r\n                self.showIonicConfirmation();\r\n            }\r\n        }\r\n        customCardPayment(){\r\n            var self = this;\r\n            if(self.nameOnCard == '' || !self.nameOnCard.trim().length){\r\n                self.showIonicAlert('Name on card is required');\r\n            } else if(self.cardNumber == '' || !self.cardNumber.trim().length){\r\n                self.showIonicAlert('Card number is required');\r\n            } else if(isNaN(parseInt(self.cardNumber))){\r\n                self.showIonicAlert('Card number must be numeric');\r\n            } else if(self.radioInline == '' || !self.radioInline.trim().length){\r\n                self.showIonicAlert('Card type is required');\r\n            } else if(self.cvv == '' || !self.cvv.trim().length){\r\n                self.showIonicAlert('CVV is required');\r\n            } else if(isNaN(parseInt(self.cvv))){\r\n                self.showIonicAlert('CVV must be numeric');\r\n            } else if(self.cvv.trim().length !== 3){\r\n                self.showIonicAlert('CVV must be 3 digits');\r\n            } else if(self.paymentTerm == ''){\r\n                self.showIonicAlert('You need to agree with our payment terms');\r\n            } else{\r\n                self.showIonicConfirmation(true);\r\n            }\r\n        }\r\n        showIonicConfirmation(customCard){\r\n            var self = this;\r\n            var type = customCard || false;\r\n            if(!type) {\r\n                var card = self.CCards.filter(function (cc) {\r\n                    return cc.customerPaymentProfileId === self.selectedCard;\r\n                });\r\n                card = card[0];\r\n                self.mainCard = card.payment.Item.cardNumber;\r\n            } else{\r\n                var cFull = self.cardNumber;\r\n                self.mainCard = 'XXXX'+cFull.slice(cFull.length -  4, cFull.length);\r\n            }\r\n\r\n            var confirmPopup = self.$ionicPopup.confirm({\r\n                title: '<i style=\"color: #112173\" class=\"fa fa-info-circle fa-3x\"></i>',\r\n                template: 'Your card ending with '+self.mainCard+' will be charge for amount of '+self.totalPrice+' USD'\r\n            });\r\n            confirmPopup.then(function(res) {\r\n                if(res) {\r\n                    if (!type) {\r\n                        var PID = self.PID;\r\n                        var PPID = card.customerPaymentProfileId;\r\n                        var amount = self.totalPrice;\r\n                        //str.slice(str.length -  4, str.length);\r\n                        self.CustomerHttp.get('/AuthProfileJSON/' + PID + '/' + PPID + '/' + amount).then(function (response:any) {\r\n                            var resp = JSON.parse(response.AuthProfileJSONResult);\r\n                            if (resp.transactionResponse.responseCode == 1) {\r\n                                self.transId = resp.transactionResponse.transId;\r\n                                self.finalMakeAppointment();\r\n                            } else {\r\n                                self.showIonicAlert('Sorry, the transaction was NOT successfull cause of the following reason', resp.transactionResponse.errors[0].errorText);\r\n                            }\r\n                        })\r\n                    } else{\r\n                        var obj = {\r\n                            \"Amount\": self.totalPrice,\r\n                            \"CCNumber\": self.cardNumber,\r\n                            \"CVV\": self.cvv,\r\n                            \"Email\": self.CustomerEmail,\r\n                            \"Expiry\":self.expMonth+'/'+self.expYear,\r\n                            \"UID\": self.customerId\r\n                        };\r\n                        self.CustomerHttp.post(obj, '/AuthCardJSON').then(function (response:any) {\r\n                            var resp = JSON.parse(response);\r\n                            if (resp.transactionResponse.responseCode == 1) {\r\n                                self.transId = resp.transactionResponse.transId;\r\n                                self.finalMakeAppointment();\r\n                            } else {\r\n                                self.showIonicAlert('Sorry, the transaction was NOT successfull cause of the following reason', resp.transactionResponse.errors[0].errorText);\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        finalMakeAppointment(){\r\n            var self = this;\r\n            var postObj = {\r\n                city: self.info.city,\r\n                state: self.info.state,\r\n                street: self.info.address,\r\n                zip: self.info.zip\r\n            };\r\n            self.CustomerHttp.post(postObj, '/AddAddress').then(function (response: any) {\r\n                self.addressId = response;\r\n            });\r\n            self.showIonicAlert('<i class=\"fa fa-check-circle fa-3x\"></i>', 'Your Appointment has been confirmed!').then(function(){\r\n                var obj = {\r\n                    AddressID: self.addressId,\r\n                    AtTime: moment(self.selectedFrom, 'hh:mm A').format('HH:mm'),\r\n                    CCNumber: '',\r\n                    CSVSRVC: self.serviceString+'|',\r\n                    ClientID: self.customerId,\r\n                    Comment: self.comment,\r\n                    EditAppID: self.AppID,\r\n                    EndTime: moment(self.selectedTo, 'hh:mm A').format('HH:mm'),\r\n                    Expriry: '',\r\n                    ForDate: self.onlyDate,\r\n                    PayTxnID: '',\r\n                    ProviderID: self.$stateParams.userId,\r\n                    oAuthTxn: self.transId\r\n                };\r\n                self.CustomerHttp.post(obj,'/MakeAppointment').then(function (response: any) {\r\n                    if(!isNaN(parseInt(response))){\r\n                        self.$state.go('MySchedule');\r\n                    }else{\r\n                        self.showIonicAlert('Sorry, your appointment not successfully done!');\r\n                    }\r\n                })\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    angular.module('spafoo.ctrl.MakeAppointment', []).controller('MakeAppointment', MakeAppointmentController);\r\n\r\n}"],"sourceRoot":"/source/"}