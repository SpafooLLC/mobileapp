{"version":3,"sources":["controllers/MakeAppointment/MakeAppointment.controller.ts"],"names":[],"mappings":"AAAA,IAAO,yBAAyB,CAk9B/B;AAl9BD,WAAO,2BAAyB,EAAC,CAAC;IAO9B;QAeI,mCACY,EAAgB,EAChB,MAAgC,EAChC,MAAiB,EACjB,SAA8B,EAC9B,YAAoD,EACpD,OAA0B,EAC1B,UAAe,EACf,UAAgD,EAChD,YAA4C,EAC5C,WAA0C;YAT1C,OAAE,GAAF,EAAE,CAAc;YAChB,WAAM,GAAN,MAAM,CAA0B;YAChC,WAAM,GAAN,MAAM,CAAW;YACjB,cAAS,GAAT,SAAS,CAAqB;YAC9B,iBAAY,GAAZ,YAAY,CAAwC;YACpD,YAAO,GAAP,OAAO,CAAmB;YAC1B,eAAU,GAAV,UAAU,CAAK;YACf,eAAU,GAAV,UAAU,CAAsC;YAChD,iBAAY,GAAZ,YAAY,CAAgC;YAC5C,gBAAW,GAAX,WAAW,CAA+B;YAbtD,kBAAa,GAAW,CAAC,CAAC;YAud1B,uBAAkB,GAAG,UAAU,KAAK;gBAChC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YAC3B,CAAC,CAAC;YAzcE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;YACvC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAC9D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YAClE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAC3B,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC;gBAC/B,IAAI,YAAY,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;gBAC/C,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC1D,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;YAC1C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YACjE,CAAC;YACD,IAAI,QAAQ,GAAG,CAAC,CAAC,kBAAkB,CAAC,CAAC;YACrC,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE;gBACtB,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;gBACxD,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;YAEH,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE;gBACvB,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;gBACzD,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAC7B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC;YAC7B,IAAI,CAAC,WAAW,GAAG,oBAAoB,CAAC;YACxC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAC3B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,IAAI,MAAM,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC,CAAC;gBACrF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;gBACrD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC;YACpC,CAAC;YACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,MAAM,CAAC;YAC7C,EAAE,CAAC,CAAC,YAAY,CAAC,MAAM,IAAI,MAAM,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;gBAE3D,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACnD,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;YAC5B,CAAC;YACD,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;YACtB,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YACxB,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAC3B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,IAAI,GAAG,IAAI,CAAC;QACpB,CAAC;QACD,gDAAY,GAAZ;YACI,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,IAAI,EAAE,GAAG,MAAM,GAAG,EAAE,CAAC;QAC1E,CAAC;QACD,wDAAoB,GAApB,UAAqB,MAAW;YAC5B,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBAEjF,QAAQ,CAAC,iBAAiB,CAAC,gBAAgB,GAAG,QAAQ,CAAC,iBAAiB,CAAC,cAAc,GAAG,GAAG,GAAG,QAAQ,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;gBAElJ,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,iBAAiB,CAAC;gBAC9C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAE7D,CAAC;gBACD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;oBACtB,IAAI,CAAC,WAAW,EAAE,CAAC;gBACvB,CAAC;gBACD,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,4BAA4B,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,GAAQ;wBACzF,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC,8BAA8B,CAAC;wBAC9D,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;4BAClD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,UAAU,OAAO;gCAC1C,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;oCAC5E,IAAI,aAAa,GAAG,OAAO,CAAC,cAAc,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,UAAU,CAAC;oCAChF,UAAU,CAAC;wCACP,CAAC,CAAC,eAAe,GAAG,aAAa,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;oCACzE,CAAC,EAAE,GAAG,CAAC,CAAC;oCACR,MAAM,CAAC,KAAK,CAAC;gCACjB,CAAC;4BACL,CAAC,CAAC,CAAA;wBACN,CAAC;oBACL,CAAC,CAAC,CAAC;gBACP,CAAC;gBACD,IAAI,CAAC,CAAC;oBACF,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG;wBAC1D,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC;wBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;4BAClD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,UAAU,OAAO;gCAC1C,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;oCAC5E,IAAI,aAAa,GAAG,OAAO,CAAC,cAAc,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,UAAU,CAAC;oCAChF,UAAU,CAAC;wCACP,CAAC,CAAC,eAAe,GAAG,aAAa,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;oCACzE,CAAC,EAAE,GAAG,CAAC,CAAC;oCACR,MAAM,CAAC,KAAK,CAAC;gCACjB,CAAC;4BACL,CAAC,CAAC,CAAA;wBACN,CAAC;oBACL,CAAC,CAAC,CAAC;gBACP,CAAC;gBACD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;oBACjF,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,WAAW,CAAC;oBAChG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,GAAG,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,SAAS,CAAC;oBAC5F,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,WAAW,CAAC;oBAChG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,GAAG,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,eAAe,CAAC;oBACxG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,GAAG,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,SAAS,CAAC;oBAC5F,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBACf,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC;wBAC9D,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC;wBACzD,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC;wBAC5D,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC;wBAC9D,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC;oBAC9D,CAAC;gBACL,CAAC,CAAC,CAAA;YACN,CAAC,CAAC,CAAC;QACP,CAAC;QAED,kDAAc,GAAd,UAAe,IAAS;YACpB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,IAAI,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;gBAClC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;oBACzE,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,oBAAoB,CAAC;oBAChD,IAAI,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC;oBAClC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;wBAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,iBAAiB,IAAI,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,iBAAiB,IAAI,IAAI,CAAC,CAAC,CAAC;4BAExF,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;4BACzH,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;4BACzG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;4BAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC;wBAC9C,CAAC;wBACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,iBAAiB,IAAI,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,iBAAiB,IAAI,IAAI,CAAC,CAAC,CAAC;4BAC7F,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;4BACnD,IAAI,CAAC,kBAAkB,GAAG,UAAU,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;4BACzG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;4BAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAA;wBAC7C,CAAC;wBACD,IAAI,CAAC,CAAC;4BACF,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;4BAC/B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wBAC/B,CAAC;oBACL,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,8BAA8B;wBAC9B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;oBACnC,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAED,+CAAW,GAAX;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBACvF,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,oBAAoB,CAAC;gBAC7D,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;oBACvF,IAAI,CAAC,GAAG,QAAQ,CAAC,oBAAoB,CAAC;oBACtC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,YAAY,CAAC;oBACnC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC7B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,UAAU,CAAC;oBAC/B,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC;oBAC3B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC;gBAClC,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;gBAChD,UAAU,CAAC;oBACP,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,IAAS;wBAClD,IAAI,aAAa,GAAG,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;wBAC1E,CAAC,CAAC,eAAe,GAAG,aAAa,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;wBACrE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;oBAClD,CAAC,CAAC,CAAA;gBACN,CAAC,EAAE,GAAG,CAAC,CAAA;YACX,CAAC,CAAC,CAAC;QACP,CAAC;QAED,gDAAY,GAAZ,UAAa,IAAS,EAAE,IAAS;YAC7B,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,eAAe;YACf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,MAAM,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACrB,KAAK,CAAC;oBACF,IAAI,CAAC,cAAc,EAAE,CAAC;oBACtB,KAAK,CAAC;gBACV,KAAK,CAAC;oBACF,sBAAsB;oBACtB,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC;oBAC9D,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC;oBACzD,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC;oBAC5D,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC;oBAC9D,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC;oBAC1D,KAAK,CAAC;gBAEV,KAAK,CAAC;oBACF,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;oBACvB,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;oBACpB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;oBACrB,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;oBACnB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAC7B,CAAC;YAED,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAEjC,CAAC;QAED,kDAAc,GAAd;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,OAAO,GAAG;gBACV,kBAAkB,EAAE,IAAI;gBACxB,UAAU,EAAE,OAAO;aACtB,CAAC;YACF,SAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,UAAU,QAAQ;gBACvD,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBAClG,2CAA2C;gBAC3C,IAAI,OAAO,GAAG;oBACV,UAAU,EAAE,MAAM;iBACrB,CAAC;gBACF,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,UAAU,OAAY;oBAC/D,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;wBACjB,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;wBACxB,IAAI,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;wBAC/B,0IAA0I;wBAC1I,8cAA8c;wBAC9c,GAAG;wBAEH,GAAG;wBACH,EAAE,CAAC,CAAC,MAAM,CAAC,eAAe,IAAI,WAAW,IAAI,MAAM,CAAC,eAAe,IAAI,EAAE,IAAI,MAAM,CAAC,YAAY,IAAI,EAAE,IAAI,MAAM,CAAC,eAAe,IAAI,SAAS,IAAI,MAAM,CAAC,YAAY,IAAI,WAAW,IAAI,MAAM,CAAC,YAAY,IAAI,SAAS,CAAC,CAAC,CAAC;4BACtN,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;wBAC3B,CAAC;wBACD,IAAI,CAAC,CAAC;4BACF,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,eAAe,GAAG,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC;wBAC3E,CAAC;wBACD,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,IAAI,SAAS,IAAI,MAAM,CAAC,QAAQ,IAAI,EAAE,IAAI,MAAM,CAAC,QAAQ,IAAI,WAAW,CAAC,CAAC,CAAC;4BAC1F,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;wBACxB,CAAC;wBACD,IAAI,CAAC,CAAC;4BACF,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC;wBACrC,CAAC;wBACD,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,IAAI,WAAW,IAAI,MAAM,CAAC,SAAS,IAAI,SAAS,IAAI,MAAM,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC;4BAC7F,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;wBACzB,CAAC;wBACD,IAAI,CAAC,CAAC;4BACF,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC;wBACvC,CAAC;wBACD,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,IAAI,MAAM,CAAC,UAAU,IAAI,SAAS,IAAI,MAAM,CAAC,UAAU,IAAI,WAAW,CAAC,CAAC,CAAC;4BAChG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;wBACvB,CAAC;wBACD,IAAI,CAAC,CAAC;4BACF,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC;wBACtC,CAAC;oBAOL,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAE9B,CAAC;QAED,2CAAO,GAAP,UAAQ,CAAM;QAEd,CAAC;QAED,8CAAU,GAAV,UAAW,IAAS;YAChB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,sBAAsB,GAAG,eAAe,GAAG,IAAI,CAAC;YAC5E,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,YAAY,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,WAAW,EAAE,CAAC;YACvB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,gBAAgB,CAAC,CAAC,CAAC;gBACzD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBACZ,IAAI,GAAG,eAAe,CAAC;gBAC3B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,MAAM,CAAC;gBACX,CAAC;YACL,CAAC;YACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACzB,CAAC;QAED,qDAAiB,GAAjB,UAAkB,GAAQ;YACtB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;YAC9C,IAAI,SAAS,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,EAAE,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,QAAQ,GAAG,gCAAgC,CAAC;gBACjD,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;gBAEpB,MAAM,CAAC;YACX,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,QAAQ,GAAG,6BAA6B,CAAC;gBAC9C,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;gBACpB,MAAM,CAAC;YACX,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,QAAQ,GAAG,8BAA8B,CAAC;gBAC/C,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;gBACpB,MAAM,CAAC;YACX,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,QAAQ,GAAG,oCAAoC,CAAC;gBACrD,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;gBACpB,MAAM,CAAC;YACX,CAAC;YAED,CAAC,CAAC,wBAAwB,CAAC,CAAC,GAAG,CAAC;gBAC5B,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,UAAU,IAAI;oBACvC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,MAAM,CAAC,CAAC,CAAC;wBAChC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC;wBAC3E,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC;wBACnC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACzB,CAAC;gBACL,CAAC,CAAC,CAAA;YACN,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;YAClC,qCAAqC;YACrC,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,QAAQ,GAAG,eAAe,CAAC;gBAChC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,UAAU,GAAG;oBACnC,GAAG,CAAC,QAAQ,GAAG,CAAC,CAAC;oBACjB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBACd,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,IAAI;4BAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC;gCAC5C,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;4BACjC,CAAC;wBACL,CAAC,CAAC,CAAC;wBACH,IAAI,CAAC,aAAa,EAAE,CAAC;oBACzB,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,cAAc,CAAC,8CAA8C,CAAC,CAAC;YACxE,CAAC;QACL,CAAC;QAGD,iDAAa,GAAb,UAAc,KAAK;YACf,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,cAAc,CAAC,2CAA2C,CAAC,CAAC;YACrE,CAAC;YACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,UAAU,IAAI;gBACzD,IAAI,CAAC,aAAa,IAAI,KAAK,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,aAAa,IAAI,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,IAAI,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9L,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9G,uBAAuB;YAC3B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,UAAU,IAAI;gBACpC,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC5E,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;gBAC7B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,aAAa,IAAI,GAAG,GAAG,GAAG,CAAC;gBACpC,CAAC;YACL,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACzC,CAAC;QAID,iDAAa,GAAb,UAAc,KAAK;YACf,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACvC,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,GAAG,YAAY,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACxF,CAAC;QAED,mDAAe,GAAf;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBACZ,IAAI,CAAC,aAAa,EAAE,CAAC;YACzB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,SAAS,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;gBACvC,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;gBACrC,IAAI,CAAC,YAAY,GAAG;oBAChB;wBACI,MAAM,EAAE,EAAE;qBACb;iBACJ,CAAC;gBACF,IAAI,CAAC,QAAQ,GAAG;oBACZ,QAAQ,EAAE;wBACN,aAAa,EAAE,MAAM;wBACrB,MAAM,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE;wBAC/D,WAAW,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO;wBACzD,WAAW,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC;wBACzB,YAAY,EAAE,IAAI;wBAClB,QAAQ,EAAE,UAAU,IAAS,EAAE,OAAY,EAAE,IAAS;4BAClD,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;wBACvC,CAAC;wBACD,QAAQ,EAAE,IAAI;wBACd,gBAAgB,EAAE,KAAK;wBACvB,UAAU,EAAE,CAAC;wBACb,UAAU,EAAE,UAAU,IAAI,EAAE,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;4BAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;qBACxJ;iBACJ,CAAC;gBACF,UAAU,CAAC;oBACP,CAAC,CAAC,0BAA0B,CAAC,CAAC,IAAI,CAAC,wJAAwJ,CAAC,CAAC;gBACjM,CAAC,EAAE,CAAC,CAAC,CAAC;gBACN,0BAA0B;gBAC1B,IAAI,CAAC,QAAQ,GAAG,sBAAsB,CAAA;YAC1C,CAAC;QACL,CAAC;QAED,oDAAgB,GAAhB,UAAiB,KAAK,EAAE,GAAG;YAEvB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,mCAAmC;YACnC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACnE,IAAI,KAAK,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBAC1C,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBAC3C,IAAI,OAAO,GAAG;oBACV,WAAW,EAAE,GAAG;oBAChB,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM;oBAC/B,aAAa,EAAE,KAAK;iBACvB,CAAC;gBACF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,GAAQ;oBAExE,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;oBAC/C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACrC,IAAI,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;wBAC7G,IAAI,YAAY,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC;wBACrH,IAAI,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC;wBACrG,IAAI,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC;wBAC7G,IAAI,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;wBAC/B,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;wBACrE,IAAI,OAAO,GAAG,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;wBAElE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;4BAC7B,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC;4BACrD,KAAK,EAAE,MAAM,CAAC,QAAQ,GAAG,GAAG,GAAG,UAAU,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,UAAU,GAAG,GAAG,GAAG,YAAY,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;4BAChJ,SAAS,EAAE,UAAU;4BACrB,KAAK,EAAE,SAAS;yBACnB,CAAC,CAAC;oBACP,CAAC;oBACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC,IAAI,CAAC,UAAU,CAAM;wBACzE,IAAI,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;wBACxB,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC;4BACpB,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,YAAY,GAAG,GAAG,GAAG,CAAC,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC,CAAC,YAAY,GAAG,GAAG,GAAG,CAAC,CAAC,YAAY,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;wBAC3R,CAAC,CAAC,CAAC;oBACP,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAMD,kDAAc,GAAd,UAAe,IAAI,EAAE,KAAK;YACtB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5B,iBAAiB;gBACjB,IAAI,CAAC,cAAc,CAAC,4CAA4C,CAAC,CAAC;YACtE,CAAC;YAAC,IAAI,CAAC,CAAC;gBAEJ,IAAI,IAAI,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC1C,IAAI,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAE7B,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;oBAAC,IAAI,GAAG,EAAE,CAAA;gBAAC,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,IAAI,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;oBAAC,IAAI,GAAG,EAAE,CAAA;gBAAC,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,IAAI,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;oBAAC,IAAI,GAAG,EAAE,CAAA;gBAAC,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;oBAAC,IAAI,GAAG,CAAC,CAAC;oBAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;gBAAC,CAAC;gBACvL,IAAI,WAAW,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC;gBAE7C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACtD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBAChJ,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBAE3O,CAAC,CAAC,cAAc,CAAC,CAAC,KAAK,EAAE,CAAC;gBAG1B,IAAI,gBAAgB,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACjH,mGAAmG;gBACnG,wOAAwO;gBAExO,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,gBAAgB,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC9F,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAEnO,iFAAiF;gBAEjF,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,gBAAgB,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAE/F,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAChD,wBAAwB;gBACxB,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC;oBACvB,IAAI,EAAE,QAAQ;oBACd,GAAG,EAAE,GAAG;oBACR,GAAG,EAAE,GAAG;oBACR,IAAI,EAAE,EAAE;oBACR,EAAE,EAAE,IAAI;oBACR,+CAA+C;oBAC/C,IAAI,EAAE,GAAG;oBACT,eAAe;oBACf,aAAa,EAAE,IAAI;oBACnB,QAAQ,EAAE,UAAU,GAAG;wBACnB,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;oBAC7C,CAAC;oBACD,QAAQ,EAAE,UAAU,IAAI;wBACpB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;wBACpD,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;wBAChD,IAAI,CAAC,eAAe,EAAE,CAAC;oBAC3B,CAAC;oBACD,WAAW,EAAE,IAAI;iBACpB,CAAC,CAAC;gBACH,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACjD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;oBACf,GAAG,EAAE,GAAG;oBACR,GAAG,EAAE,GAAG;oBACR,IAAI,EAAE,EAAE;oBACR,EAAE,EAAE,IAAI;iBACX,CAAC,CAAC;gBACH,IAAI,CAAC,eAAe,EAAE,CAAC;YAE3B,CAAC;QACL,CAAC;QAED,iDAAa,GAAb;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;QAED,sDAAkB,GAAlB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtD,CAAC,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAChC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;gBACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC/B,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACjC,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrC,CAAC,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAChC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;gBACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC/B,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAEjC,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,IAAI,CAAC,cAAc,CAAC,sCAAsC,CAAC,CAAC;YAChE,CAAC;QACL,CAAC;QAED,kDAAc,GAAd,UAAe,IAAI,EAAE,QAAQ;YACzB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;QACxB,CAAC;QAED,iDAAa,GAAb,UAAc,EAAE;YACZ,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5C,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAChC,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,0BAA0B,CAAC,CAAC,CAAC;gBACjD,IAAI,CAAC,wBAAwB,EAAE,CAAC;YACpC,CAAC;QACL,CAAC;QAED,kDAAc,GAAd;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,QAAQ,GAAG,qBAAqB,CAAC;YACtC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;YACd,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;YACtB,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;YACxC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC1B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;YAC5B,CAAC;YACD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YAC3B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YAC7B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YAEzB,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACpC,UAAU,CAAC;gBACP,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACxC,CAAC,EACK,IAAI,CAAC,CAAA;QAGf,CAAC;QAGD,iDAAa,GAAb;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI;gBAC/E,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;gBACjB,IAAI,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC;gBAC5C,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBAEV,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;oBAC1B,uCAAuC;oBACvC,uEAAuE;oBACvE,EAAE,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC;wBAClB,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,iBAAiB,CAAC;wBACrC,0CAA0C;wBAC1C,EAAE,CAAC,CAAC,OAAO,OAAO,CAAC,eAAe,IAAI,WAAW,IAAI,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;4BAC3E,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,EAAE;gCACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;4BACzB,CAAC,CAAC,CAAC;4BAEH,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,KAAK,CAAC;4BACnC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC;gCACvB,IAAI,CAAC,cAAc,CAAC,4DAA4D,CAAC,CAAC;4BAEtF,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACJ,IAAI,CAAC,QAAQ,GAAG,gBAAgB,CAAC;4BACrC,CAAC;wBACL,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACJ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;4BAC3B,IAAI,CAAC,cAAc,EAAE,CAAC;wBAC1B,CAAC;oBACL,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;wBAC3B,IAAI,CAAC,cAAc,EAAE,CAAC;oBAC1B,CAAC;gBAEL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC3B,IAAI,CAAC,cAAc,EAAE,CAAC;gBAC1B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC;QAED,mDAAe,GAAf;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;gBAChE,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;gBAC1C,IAAI,OAAO,GAAG;oBACV,KAAK,EAAE,IAAI,CAAC,KAAK;oBACjB,WAAW,EAAE,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI;oBAC5C,KAAK,EAAE,UAAU;oBACjB,aAAa,EAAE,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE;iBAC/C,CAAC;gBACF,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,uBAAuB,GAAG,qBAAqB,CAAC;gBACxE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;oBAC7D,EAAE,CAAC,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC;wBACpB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;wBAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC;wBAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oBAC7B,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;oBAC9B,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC;gBAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAE7B,CAAC;QACL,CAAC;QAED,2CAAO,GAAP,UAAQ,KAAK,EAAE,QAAQ;YACnB,IAAI,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;YACvB,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACzE,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAC1F,MAAM,CAAC,QAAQ,GAAG,KAAK,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC9F,CAAC;QAED,yDAAqB,GAArB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC;gBACzB,IAAI,CAAC,cAAc,EAAE,CAAC;YAC1B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACjC,CAAC;QACL,CAAC;QAED,qDAAiB,GAAjB;YAEI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC;YAClC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1D,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,CAAC;YACpD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC;gBAC7C,IAAI,CAAC,cAAc,CAAC,sCAAsC,CAAC,CAAC;YAChE,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,CAAC;YACnD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAI,CAAC,cAAc,CAAC,6BAA6B,CAAC,CAAC;YACvD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC;gBACpE,IAAI,CAAC,cAAc,CAAC,qCAAqC,CAAC,CAAC;YAC/D,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;gBACnE,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,CAAC;YACjD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;gBACnD,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;YAC3C,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;YAC/C,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClE,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;YAC7C,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,IAAI,IAAI,CAAC,OAAO,IAAI,SAAS,CAAC,CAAC,CAAC;gBACvD,IAAI,CAAC,cAAc,CAAC,kCAAkC,CAAC,CAAC;YAC5D,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;gBACjD,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,CAAC;YACjD,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK,IAAI,SAAS,CAAC,CAAC,CAAC;gBACnD,IAAI,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;YAClD,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,EAAE,IAAI,IAAI,CAAC,GAAG,IAAI,SAAS,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,cAAc,CAAC,kCAAkC,CAAC,CAAC;YAC5D,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,IAAI,SAAS,CAAC,CAAC,CAAC;gBACvE,IAAI,CAAC,cAAc,CAAC,2BAA2B,CAAC,CAAC;YACrD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,IAAI,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC,CAAC,CAAC;gBACjE,IAAI,CAAC,cAAc,CAAC,0CAA0C,CAAC,CAAC;YACpE,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,IAAI,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,cAAc,CAAC,0CAA0C,CAAC,CAAC;YACpE,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YACrC,CAAC;QACL,CAAC;QAED,yDAAqB,GAArB,UAAsB,UAAU;YAC5B,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,IAAI,CAAC,IAAI,GAAG,UAAU,IAAI,KAAK,CAAC;YAChC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBACb,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE;oBACtC,MAAM,CAAC,EAAE,CAAC,wBAAwB,KAAK,IAAI,CAAC,YAAY,CAAC;gBAC7D,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;YACtD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;YACvE,CAAC;YACD,0HAA0H;YAC1H,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,kBAAkB,IAAI,IAAI,GAAG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;YAChG,IAAI,CAAC,QAAQ,GAAG,sBAAsB,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,oBAAoB,GAAG,IAAI,CAAC,UAAU,GAAG,6HAA6H,CAAC;YACtP,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE,CAAC;QAC/B,CAAC;QAED,oDAAgB,GAAhB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACpC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;gBACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC3B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;gBAC7B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBACzB,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;YACvC,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;gBAClB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;gBACf,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;gBAChB,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;gBACd,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC;QAEL,CAAC;QAED,iDAAa,GAAb;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,kBAAkB,IAAI,IAAI,GAAG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;YAChG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBACb,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC;gBAC9C,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;gBACtC,8IAA8I;gBAC9I,oDAAoD;gBACpD,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC7B,8CAA8C;gBAC9C,yCAAyC;gBACzC,8GAA8G;gBAC9G,4DAA4D;gBAC5D,0DAA0D;gBAC1D,uDAAuD;gBACvD,0DAA0D;gBAC1D,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAKhC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,kBAAkB;gBAClB,IAAI,GAAG,GAAG;oBACN,QAAQ,EAAE,IAAI,CAAC,UAAU;oBACzB,UAAU,EAAE,IAAI,CAAC,UAAU;oBAC3B,KAAK,EAAE,IAAI,CAAC,GAAG;oBACf,OAAO,EAAE,IAAI,CAAC,aAAa;oBAC3B,QAAQ,EAAE,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO;oBAC5C,KAAK,EAAE,IAAI,CAAC,UAAU;oBACtB,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE;iBAE3I,CAAC;gBACF,+EAA+E;gBAC/E,qCAAqC;gBAErC,+BAA+B;gBAC/B,GAAG;gBACH,4CAA4C;gBAE5C,6EAA6E;gBAC7E,0CAA0C;gBAC1C,mEAAmE;gBACnE,WAAW;gBACX,cAAc;gBACd,WAAW;gBACX,mIAAmI;gBACnI,WAAW;gBAEX,GAAG;gBACH,QAAQ;gBACR,sJAAsJ;gBACtJ,GAAG;gBAEH,mDAAmD;gBACnD,sDAAsD;gBAEtD,gCAAgC;gBAChC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,wBAAwB,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ;oBACzE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAEtC,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC;wBAC/D,IAAI,CAAC,oBAAoB,EAAE,CAAC;wBAC5B,IAAI,CAAC,yBAAyB,GAAG,QAAQ,CAAC,UAAU,CAAC;oBACzD,CAAC;oBACD,IAAI,CAAC,CAAC;wBACF,IAAI,CAAC,cAAc,CAAC,2EAA2E,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;oBACxH,CAAC;gBAEL,CAAC,EAAE,UAAU,KAAK,IAAI,CAAC,CAAC,CAAC;YAS7B,CAAC;QACL,CAAC;QAGD,kDAAc,GAAd;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,QAAQ,GAAG,gBAAgB,CAAC;YACrC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,0BAA0B,CAAC,CAAC,CAAC;gBACnD,IAAI,CAAC,wBAAwB,EAAE,CAAC;YACpC,CAAC;QACL,CAAC;QACD,wDAAoB,GAApB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,OAAO,GAAG;gBACV,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;gBACpB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;gBACtB,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO;gBACzB,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG;aACrB,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBACvE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBAC3F,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;gBAC1B,IAAI,CAAC,MAAM,GAAG,0BAA0B,CAAC;gBAEzC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC;oBACvB,IAAI,CAAC,wBAAwB,EAAE,CAAA;gBACnC,CAAC;gBACD,IAAI,CAAC,CAAC;oBACF,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;oBACjC,IAAI,CAAC,cAAc,CAAC,4DAA4D,CAAC,CAAA;gBAErF,CAAC;YACL,CAAC,CAAC,CAAC;QAEP,CAAC;QAED,4DAAwB,GAAxB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACrF,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACpF,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC7C,6DAA6D;YAC7D,IAAI,GAAG,GAAG;gBACN,SAAS,EAAE,CAAC,IAAI,CAAC,SAAS,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;gBACxD,MAAM,EAAE,MAAM;gBACd,QAAQ,EAAE,EAAE;gBACZ,OAAO,EAAE,IAAI,CAAC,aAAa,GAAG,GAAG;gBACjC,QAAQ,EAAE,IAAI,CAAC,UAAU;gBACzB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,SAAS,EAAE,IAAI,CAAC,KAAK;gBACrB,OAAO,EAAE,OAAO;gBAChB,OAAO,EAAE,EAAE;gBACX,OAAO,EAAE,OAAO;gBAChB,QAAQ,EAAE,EAAE;gBACZ,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAE,CAAC,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM;gBACtE,YAAY,EAAE,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,yBAAyB,CAAC;gBAC5E,QAAQ,EAAE,CAAC,IAAI,CAAC,aAAa,IAAI,SAAS,GAAG,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;gBACtE,cAAc,EAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAC,EAAE,CAAC;aAC/C,CAAC;YAEE,IAAI,OAAO,GAAG,8BAA8B,GAAG,GAAG,CAAC,SAAS,GAAG,UAAU,GAAG,GAAG,CAAC,MAAM,GAAG,YAAY,GAAG,GAAG,CAAC,QAAQ,GAAG,WAAW,GAAG,GAAG,CAAC,OAAO,GAAG,YAAY,GAAG,GAAG,CAAC,QAAQ,GAAG,WAAW,GAAG,GAAG,CAAC,OAAO,GAAG,aAAa,GAAG,GAAG,CAAC,SAAS,GAAG,WAAW,GAAG,GAAG,CAAC,OAAO,GAAG,WAAW,GAAG,GAAG,CAAC,OAAO,GAAG,WAAW,GAAG,GAAG,CAAC,OAAO,GAAG,YAAY,GAAG,GAAG,CAAC,QAAQ,GAAG,cAAc,GAAG,GAAG,CAAC,UAAU,GAAG,gBAAgB,GAAG,GAAG,CAAC,YAAY,GAAG,YAAY,GAAG,GAAG,CAAC,QAAQ,GAAE,kBAAkB,GAAG,GAAG,CAAC,cAAc,CAAC;YAChf,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBACvD,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC7B,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;gBACjC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,cAAc,CAAC,gDAAgD,CAAC,CAAC;gBAC1E,CAAC;YACL,CAAC,CAAC,CAAA;QACN,CAAC;QAED,6CAAS,GAAT;YACI,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,CAAC;QACzB,CAAC;QAt7BM,iCAAO,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,cAAc,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,CAAC,CAAC;QAw7BnJ,gCAAC;IAAD,CAt8BA,AAs8BC,IAAA;IAGD,OAAO,CAAC,MAAM,CAAC,6BAA6B,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,iBAAiB,EAAE,yBAAyB,CAAC,CAAC;AAE/G,CAAC,EAl9BM,yBAAyB,KAAzB,yBAAyB,QAk9B/B","file":"controllers/MakeAppointment/MakeAppointment.controller.js","sourcesContent":["module MakeAppointmentController {\r\n    interface IMakeAppointmentController {\r\n        UserID: any;\r\n        ServiceData: {};\r\n        ProviderServiceList: {};\r\n        address: string; city: string; state: string; zip: string;\r\n    }\r\n    class MakeAppointmentController implements IMakeAppointmentController {\r\n        UserID: any;\r\n\r\n        customer_PaymentProfileId: string;\r\n        MainView: string;\r\n        ProviderServiceList: {};\r\n        messages: any;\r\n        action: any;\r\n        CouponData: any;\r\n        IsHidden: boolean;\r\n        ISvalidCoupon: boolean; isEdit: boolean;\r\n        totalDiscountPrice: number;\r\n        discountPrice: number = 0; totalPrice: number; ServiceIDs: any;\r\n        address: string; city: string; state: string; zip: string; AppID: any; info: any; ServiceData: any;\r\n        static $inject = ['$q', '$state', '$scope', '$location', 'CustomerHttp', '$window', '$rootScope', 'SharedHttp', '$stateParams', '$ionicPopup'];\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private $rootScope: any,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\r\n            private $stateParams: angular.ui.IStateParamsService,\r\n            private $ionicPopup: ionic.popup.IonicPopupService\r\n        ) {\r\n\r\n            this.UserID = this.$stateParams.userId;\r\n            this.AppID = 0;\r\n            this.ServiceData = {};\r\n            var status = this.$window.localStorage.getItem('LoginStatus');\r\n            this.ServiceIDs = this.$window.localStorage.getItem('ServiceIDs');\r\n            this.customerId = null;\r\n            this.action = '';\r\n            this.checked_services = [];\r\n            if (!status || status == \"false\") {\r\n                var providerData = { providerId: this.UserID };\r\n                $window.localStorage.setItem(\"url\", window.location.hash);\r\n                this.$state.go(\"login\", providerData);\r\n            } else {\r\n                this.customerId = $window.localStorage.getItem('CustomerID');\r\n            }\r\n            var mySelect = $('#first-disabled2');\r\n            $('#special').on('click', function () {\r\n                mySelect.find('option:selected').prop('disabled', true);\r\n                mySelect.selectpicker('refresh');\r\n            });\r\n\r\n            $('#special2').on('click', function () {\r\n                mySelect.find('option:disabled').prop('disabled', false);\r\n                mySelect.selectpicker('refresh');\r\n            });\r\n\r\n            this.isOpenSelectAdress = '';\r\n            this.info = {};\r\n            this.addressId = '';\r\n            this.comment = '';\r\n            this.MainView = 'Basic-Info';\r\n            this.addressText = 'My Profile Address';\r\n            this.selectedServices = [];\r\n            this.totalPrice = 0;\r\n            this.totalDuration = 0;\r\n            this.isEdit = false;\r\n            if (this.$stateParams.appointmentId != \"null\" && this.$stateParams.appointmentId != \"\") {\r\n                this.AppointmentID = this.$stateParams.appointmentId;\r\n                this.isEdit = true;\r\n                this.AppID = this.AppointmentID;\r\n            }\r\n            this.ASAP = this.$stateParams.type == 'ASAP';\r\n            if ($stateParams.userId != \"null\" && this.customerId != null) {\r\n\r\n                this.getProviderPortfolio($stateParams.userId);\r\n            }\r\n            else {\r\n                this.$state.go(\"login\");\r\n            }\r\n            var date = new Date();\r\n            var d = date.getDate();\r\n            var m = date.getMonth();\r\n            var y = date.getFullYear();\r\n            this.IsHidden = false;\r\n            var self = this;\r\n        }\r\n        openDropdown() {\r\n            this.isOpenSelectAdress = this.isOpenSelectAdress == '' ? 'open' : '';\r\n        }\r\n        getProviderPortfolio(UserID: any) {\r\n            var self = this;\r\n\r\n            self.CustomerHttp.get('/GetUserInfo/' + this.customerId).then(function (response: any) {\r\n\r\n                response.GetUserInfoResult.displayNameField = response.GetUserInfoResult.firstNameField + \" \" + response.GetUserInfoResult.lastNameField[0] + \".\";\r\n\r\n                self.ServiceData = response.GetUserInfoResult;\r\n                for (var i = 0; i < response.GetUserInfoResult.length; i++) {\r\n\r\n                }\r\n                if (self.isEdit == true) {\r\n                    self.getEditInfo();\r\n                }\r\n                if (UserID.indexOf('|') > -1) {\r\n                    self.CustomerHttp.get('/GetSpecificServiceRecord/' + self.ServiceIDs).then(function (res: any) {\r\n                        self.ProviderServiceList = res.GetSpecificServiceRecordResult;\r\n                        if (self.ProviderServiceList.length && !self.isEdit) {\r\n                            self.ProviderServiceList.map(function (proServ) {\r\n                                if (proServ.serviceIDField == self.$window.localStorage.getItem('ServiceIDs')) {\r\n                                    var serviceString = proServ.serviceIDField + ':' + 1 + ':' + proServ.priceField;\r\n                                    setTimeout(function () {\r\n                                        $('input[value=\"' + serviceString + '\"]').prop('checked', 'checked');\r\n                                    }, 300);\r\n                                    return false;\r\n                                }\r\n                            })\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    self.SharedHttp.GetProviderServices(UserID).then(function (res) {\r\n                        self.ProviderServiceList = res;\r\n                        if (self.ProviderServiceList.length && !self.isEdit) {\r\n                            self.ProviderServiceList.map(function (proServ) {\r\n                                if (proServ.serviceIDField == self.$window.localStorage.getItem('ServiceIDs')) {\r\n                                    var serviceString = proServ.serviceIDField + ':' + 1 + ':' + proServ.priceField;\r\n                                    setTimeout(function () {\r\n                                        $('input[value=\"' + serviceString + '\"]').prop('checked', 'checked');\r\n                                    }, 300);\r\n                                    return false;\r\n                                }\r\n                            })\r\n                        }\r\n                    });\r\n                }\r\n                self.CustomerHttp.get('/GetUserInfo/' + self.customerId).then(function (response: any) {\r\n                    self.ServiceData.profileField.streetField = response.GetUserInfoResult.profileField.streetField;\r\n                    self.ServiceData.profileField.cityField = response.GetUserInfoResult.profileField.cityField;\r\n                    self.ServiceData.profileField.regionField = response.GetUserInfoResult.profileField.regionField;\r\n                    self.ServiceData.profileField.postalCodeField = response.GetUserInfoResult.profileField.postalCodeField;\r\n                    self.ServiceData.profileField.cellField = response.GetUserInfoResult.profileField.cellField;\r\n                    if (!self.isEdit) {\r\n                        self.info.address = self.ServiceData.profileField.streetField;\r\n                        self.info.city = self.ServiceData.profileField.cityField;\r\n                        self.info.state = self.ServiceData.profileField.regionField;\r\n                        self.info.zip = self.ServiceData.profileField.postalCodeField;\r\n                        self.info.phone = self.ServiceData.profileField.cellField;\r\n                    }\r\n                })\r\n            });\r\n        }\r\n\r\n        ValidateCoupon(code: any) {\r\n            var self = this;\r\n            self.ISvalidCoupon = false;\r\n            if (code != undefined && code != \"\") {\r\n                self.CustomerHttp.get('/ValidateCoupon/' + code).then(function (response: any) {\r\n                    self.CouponData = response.ValidateCouponResult;\r\n                    var TotalPrices = self.totalPrice;\r\n                    if (self.CouponData != null) {\r\n                        if (self.CouponData.discountTypeField == '%' && self.CouponData.discountTypeField != null) {\r\n\r\n                            self.discountPrice = ((parseFloat(self.CouponData.discountField).toFixed(2) * parseFloat(TotalPrices).toFixed(2)) / 100);\r\n                            self.totalDiscountPrice = parseFloat(TotalPrices).toFixed(2) - parseFloat(self.discountPrice).toFixed(2);\r\n                            self.ISvalidCoupon = true;\r\n                            self.totalPrice = self.totalDiscountPrice;\r\n                        }\r\n                        else if (self.CouponData.discountTypeField == '$' && self.CouponData.discountTypeField != null) {\r\n                            self.discountPrice = self.CouponData.discountField;\r\n                            self.totalDiscountPrice = parseFloat(TotalPrices).toFixed(2) - parseFloat(self.discountPrice).toFixed(2);\r\n                            self.ISvalidCoupon = true;\r\n                            self.totalPrice = self.totalDiscountPrice\r\n                        }\r\n                        else {\r\n                            self.totalDiscountPrice = null;\r\n                            self.ISvalidCoupon = false;\r\n                        }\r\n                    } else {\r\n                        // self.ISvalidCoupon = false;\r\n                        self.totalDiscountPrice = null;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        getEditInfo() {\r\n            var self = this;\r\n            self.CustomerHttp.get('/GetAppointment/' + self.AppointmentID).then(function (response: any) {\r\n                self.ServiceData.appointment = response.GetAppointmentResult;\r\n                self.CustomerHttp.get('/GetAppLocation/' + self.AppointmentID).then(function (response: any) {\r\n                    var e = response.GetAppLocationResult;\r\n                    self.info.address = e.addressField;\r\n                    self.info.city = e.cityField;\r\n                    self.info.state = e.stateField;\r\n                    self.info.zip = e.zipField;\r\n                    self.info.phone = e.cellField;\r\n                });\r\n                self.appointment = self.ServiceData.appointment;\r\n                setTimeout(function () {\r\n                    self.appointment.servicesField.map(function (serv: any) {\r\n                        var serviceString = serv.serviceIDField + ':' + 1 + ':' + serv.priceField;\r\n                        $('input[value=\"' + serviceString + '\"]').prop('checked', 'checked');\r\n                        self.comment = self.appointment.commentsField;\r\n                    })\r\n                }, 500)\r\n            });\r\n        }\r\n\r\n        changedValue(data: any, text: any) {\r\n            var self = this;\r\n            // alert(data);\r\n            self.addressText = text;\r\n            switch (parseInt(data)) {\r\n                case 1:\r\n                    self.GetGPSLocation();\r\n                    break;\r\n                case 2:\r\n                    //alert(self.address);\r\n                    self.info.address = self.ServiceData.profileField.streetField;\r\n                    self.info.city = self.ServiceData.profileField.cityField;\r\n                    self.info.state = self.ServiceData.profileField.regionField;\r\n                    self.info.zip = self.ServiceData.profileField.postalCodeField;\r\n                    self.info.phone = self.ServiceData.profileField.cellField;\r\n                    break;\r\n\r\n                case 3:\r\n                    self.info.address = '';\r\n                    self.info.city = '';\r\n                    self.info.state = '';\r\n                    self.info.zip = '';\r\n                    self.info.phone = '';\r\n            }\r\n\r\n            this.isOpenSelectAdress = '';\r\n\r\n        }\r\n\r\n        GetGPSLocation() {\r\n            var self = this;\r\n            var options = {\r\n                enableHighAccuracy: true,\r\n                maximumAge: 3600000\r\n            };\r\n            navigator.geolocation.getCurrentPosition(function (position) {\r\n                const GOOGLE = new plugin.google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n                //    alert(\"onsuccess navigation called\");\r\n                var request = {\r\n                    'position': GOOGLE\r\n                };\r\n                plugin.google.maps.Geocoder.geocode(request, function (results: any) {\r\n                    if (results.length) {\r\n                        var result = results[0];\r\n                        var position = result.position;\r\n                        //  alert(result.subThoroughfare + \"/ \" + result.thoroughfare + \"/\" + result.locality + \"/\" + result.adminArea + \"/\" + result.postalCode);\r\n                        //if (result.subThoroughfare == \"undefined\" || result.subThoroughfare == \"\" || result.thoroughfare == \"\" || result.subThoroughfare == undefined || result.thoroughfare == undefined || result.postalCode == \"\" || result.postalCode == undefined || result.postalCode == \"undefined\" || result.locality == undefined || result.locality == \"\" || result.locality == \"undefined\" || result.adminArea == \"undefined\" || result.adminArea == undefined || result.adminArea == \"\")\r\n                        //{\r\n\r\n                        //}\r\n                        if (result.subThoroughfare == \"undefined\" || result.subThoroughfare == \"\" || result.thoroughfare == \"\" || result.subThoroughfare == undefined || result.thoroughfare == \"undefined\" || result.thoroughfare == undefined) {\r\n                            self.info.address = '';\r\n                        }\r\n                        else {\r\n                            self.info.address = result.subThoroughfare + \" \" + result.thoroughfare;\r\n                        }\r\n                        if (result.locality == undefined || result.locality == \"\" || result.locality == \"undefined\") {\r\n                            self.info.city = '';\r\n                        }\r\n                        else {\r\n                            self.info.city = result.locality;\r\n                        }\r\n                        if (result.adminArea == \"undefined\" || result.adminArea == undefined || result.adminArea == \"\") {\r\n                            self.info.state = '';\r\n                        }\r\n                        else {\r\n                            self.info.state = result.adminArea;\r\n                        }\r\n                        if (result.postalCode == \"\" || result.postalCode == undefined || result.postalCode == \"undefined\") {\r\n                            self.info.zip = '';\r\n                        }\r\n                        else {\r\n                            self.info.zip = result.postalCode;\r\n                        }\r\n\r\n                        /*self.info.address = result.subThoroughfare || '' + \" \" + result.thoroughfare || '';\r\n                        self.info.city = result.locality || '';\r\n                        self.info.state = result.adminArea || '';\r\n                        self.info.zip = result.postalCode || '';*/\r\n\r\n                    }\r\n                });\r\n            }, self.onError, options);\r\n\r\n        }\r\n\r\n        onError(e: any) {\r\n\r\n        }\r\n\r\n        viewSelect(view: any) {\r\n            var self = this;\r\n            view = self.ASAP && view == 'Appointment-DateTime' ? 'Order-Summary' : view;\r\n            if (self.isEdit && view == 'Basic-Info') {\r\n                self.getEditInfo();\r\n            } else if (self.backToCalendar && view == 'Payment-Method') {\r\n                if (self.ASAP) {\r\n                    view = 'Order-Summary';\r\n                } else {\r\n                    self.appointmentView();\r\n                    return;\r\n                }\r\n            }\r\n            this.MainView = view;\r\n        }\r\n\r\n        CreateAppointment(Rcd: any) {\r\n            var self = this;\r\n            var status = self.SharedHttp.getLoginStatus();\r\n            var servLists = [];\r\n            self.totalDuration = 0;\r\n            self.totalPrice = 0;\r\n            if ($(\"#addressfield\").val() == '') {\r\n                self.messages = \"Enter address field to proceed\";\r\n                $(\"#PDone\").modal();\r\n\r\n                return;\r\n            }\r\n            if ($(\"#cityfield\").val() == '') {\r\n                self.messages = \"Enter city field to proceed\";\r\n                $(\"#PDone\").modal();\r\n                return;\r\n            }\r\n            if ($(\"#statefield\").val() == '') {\r\n                self.messages = \"Enter state field to proceed\";\r\n                $(\"#PDone\").modal();\r\n                return;\r\n            }\r\n            if ($(\"#zipfield\").val() == '') {\r\n                self.messages = \"Enter postal code field to proceed\";\r\n                $(\"#PDone\").modal();\r\n                return;\r\n            }\r\n\r\n            $('.serviceChecks:checked').map(function () {\r\n                var ServId = this.value.split(':')[0];\r\n                self.ProviderServiceList.map(function (serv) {\r\n                    if (serv.serviceIDField == ServId) {\r\n                        self.totalDuration += serv.durationField == '-1' ? 60 : serv.durationField;\r\n                        self.totalPrice += serv.priceField;\r\n                        servLists.push(serv);\r\n                    }\r\n                })\r\n            });\r\n            self.selectedServices = servLists;\r\n            //console.log(self.selectedServices);\r\n            if (self.selectedServices.length) {\r\n                self.MainView = 'Order-Summary';\r\n                self.selectedServices.map(function (ser) {\r\n                    ser.qtyField = 1;\r\n                    if (self.isEdit) {\r\n                        self.appointment.servicesField.map(function (srvc) {\r\n                            if (srvc.serviceIDField == ser.serviceIDField) {\r\n                                ser.qtyField = srvc.qtyField;\r\n                            }\r\n                        });\r\n                        self.changeSummery();\r\n                    }\r\n                });\r\n            } else {\r\n                self.showIonicAlert('Please select the Service(s) for Appointment');\r\n            }\r\n        }\r\n\r\n\r\n        changeSummery(value) {\r\n            var self = this;\r\n            self.totalDuration = 0;\r\n            self.totalPrice = 0;\r\n            if (value > 10) {\r\n                self.showIonicAlert('Max allowed value for a single item is 10');\r\n            }\r\n            self.serviceString = self.selectedServices.map(function (serv) {\r\n                self.totalDuration += isNaN(serv.durationField * serv.qtyField) ? serv.durationField == '-1' ? 60 : serv.durationField : serv.durationField == '-1' ? 60 : serv.durationField * serv.qtyField;\r\n                self.totalPrice += isNaN(serv.priceField * serv.qtyField) ? serv.priceField : serv.priceField * serv.qtyField;\r\n                //servLists.push(serv);\r\n            });\r\n            self.serviceString = '';\r\n            self.selectedServices.map(function (srvc) {\r\n                var str = srvc.serviceIDField + ':' + srvc.qtyField + ':' + srvc.priceField;\r\n                if (self.serviceString == '') {\r\n                    self.serviceString = str;\r\n                } else {\r\n                    self.serviceString += '|' + str;\r\n                }\r\n            });\r\n            self.ValidateCoupon(self.CouponCode);\r\n        }\r\n\r\n\r\n\r\n        removeService(index) {\r\n            var self = this;\r\n            self.selectedServices.splice(index, 1);\r\n            !self.selectedServices.length ? self.MainView = 'Basic-Info' : self.changeSummery();\r\n        }\r\n\r\n        appointmentView() {\r\n            var self = this;\r\n            self.changeSummery();\r\n            self.eventSource = [];\r\n            if (self.ASAP) {\r\n                self.paymentMethod();\r\n            } else {\r\n                var startDate = new Date('08/28/2016');\r\n                var endDate = new Date('10/09/2016');\r\n                self.staticEvents = [\r\n                    {\r\n                        events: [],\r\n                    }\r\n                ];\r\n                self.uiConfig = {\r\n                    calendar: {\r\n                        contentHeight: 'auto',\r\n                        header: { left: 'prev,next today', center: '', right: 'title' },\r\n                        defaultView: 'month', selectable: true, timezone: 'local',\r\n                        defaultDate: (new Date()),\r\n                        selectHelper: true,\r\n                        dayClick: function (date: any, jsEvent: any, view: any) {\r\n                            self.onTimeSelected(date, jsEvent);\r\n                        },\r\n                        editable: true,\r\n                        slotEventOverlap: false,\r\n                        eventLimit: 1,\r\n                        viewRender: function (view, element) { this.calendar.removeEvents(); if (self.isToday(view.end, true)) self.getOccupiedSlots(view.start, view.end); }\r\n                    }\r\n                };\r\n                setTimeout(function () {\r\n                    $('.fc-toolbar > .fc-center').html('<div class=\"pctip\"><i class=\"fa red2 fa-square\"></i> Provider Not Available &nbsp;&nbsp;&nbsp;<i class=\"fa blue fa-square\"></i> Already Reserved</div>');\r\n                }, 0);\r\n                //self.getOccupiedSlots();\r\n                self.MainView = 'Appointment-DateTime'\r\n            }\r\n        }\r\n\r\n        getOccupiedSlots(start, end) {\r\n\r\n            var self = this;\r\n            //self.staticEvents[0].events = [];\r\n            if (self.UserID.indexOf('|') <= -1) {\r\n                var date = new Date(), y = date.getFullYear(), m = date.getMonth();\r\n                var start = moment().format('MM/DD/YYYY');\r\n                var end = moment(end).format('MM/DD/YYYY');\r\n                var postObj = {\r\n                    EndDateTime: end,\r\n                    ProID: self.$stateParams.userId,\r\n                    StartDateTime: start,\r\n                };\r\n                self.CustomerHttp.get('/ListMyAvail/' + self.UserID).then(function (res: any) {\r\n\r\n                    var aviles = JSON.parse(res.ListMyAvailResult);\r\n                    for (var i = 0; i < aviles.length; i++) {\r\n                        var starthours = aviles[i].StartTime.Hours > 9 ? aviles[i].StartTime.Hours : '0' + aviles[i].StartTime.Hours;\r\n                        var startminutes = aviles[i].StartTime.Minutes > 9 ? aviles[i].StartTime.Minutes : '0' + aviles[i].StartTime.Minutes;\r\n                        var endhours = aviles[i].EndTime.Hours > 9 ? aviles[i].EndTime.Hours : '0' + aviles[i].EndTime.Hours;\r\n                        var endminutes = aviles[i].EndTime.Minutes > 9 ? aviles[i].EndTime.Minutes : '0' + aviles[i].EndTime.Minutes;\r\n                        var dateMonth = aviles[i].Date;\r\n                        var dateMonth1 = self.SharedHttp.getFormatedDate(dateMonth, \"MM DD\");\r\n                        var abcDate = (dateMonth).replace(\"/Date(\", \"\").replace(\")/\", \"\");\r\n\r\n                        self.staticEvents[0].events.push({\r\n                            start: moment(parseInt(abcDate)).format('YYYY-MM-DD'),\r\n                            title: moment(endhours + ':' + endminutes, 'HH:mm').format('h:mm A') + ' - ' + moment(starthours + ':' + startminutes, 'HH:mm').format('h:mm A'),\r\n                            dateField: dateMonth1,\r\n                            color: '#ff0000'\r\n                        });\r\n                    }\r\n                    self.CustomerHttp.post(postObj, '/GetProOccupiedSlots').then(function (d: any) {\r\n                        var _Today = new Date();\r\n                        $.each(d, function (i, o) {\r\n                            self.staticEvents[0].events.push({ title: moment(o.atTimeField, 'HH:mm').format('h:mm A') + ' - ' + moment(o.endTimeField, 'HH:mm').format('h:mm A'), start: o.forDateField + ' ' + o.atTimeField, end: o.forDateField + ' ' + o.endTimeField, color: '#1e319b', textColor: 'white' });\r\n                        });\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        onViewTitleChanged = function (title) {\r\n            this.viewTitle = title;\r\n        };\r\n\r\n        onTimeSelected(time, event) {\r\n            var self = this;\r\n            self.availability = false;\r\n            if (!self.isToday(time, true)) {\r\n                //   alert(time);\r\n                self.showIonicAlert('Sorry, you cannot select date before today');\r\n            } else {\r\n\r\n                var mins = parseInt(moment().format('m'));\r\n                var hrs = parseInt(moment().format('h'));\r\n                var A = moment().format('A');\r\n\r\n                if (mins > 0 && mins < 15) { mins = 15 } else if (mins > 15 && mins < 30) { mins = 30 } else if (mins > 30 && mins < 45) { mins = 45 } else if (mins > 45) { mins = 0; hrs = hrs + 1; }\r\n                var currenttime = hrs + \":\" + mins + \" \" + A;\r\n\r\n                self.selectedDate = time;\r\n                self.onlyDate = moment(self.selectedDate).format('L');\r\n                self.from = self.isToday(time, true) ? moment(currenttime, 'h:mm A').add(60, 'm').format(\"h:mm A\") : moment('09.00', \"h:mm A\").format(\"h:mm A\");\r\n                self.to = self.isToday(time, true) ? moment(moment(currenttime, 'h:mm A').add(60, 'm').format(\"h:mm A\"), \"h:mm A\").add(self.totalDuration, 'm').format(\"h:mm A\") : moment('09.00', 'h:mm A').add(self.totalDuration, 'm').format(\"h:mm A\");\r\n\r\n                $('#PDoneSlider').modal();\r\n\r\n\r\n                var todayCurrentTime = moment(moment(currenttime, 'h:mm A').add(60, 'm').format(\"h:mm A\"), \"h:mm A\").format(\"X\");\r\n                //var to = self.isToday(time, true) ? todayCurrentTime : moment(currenttime, 'h:mm A').format(\"X\");\r\n                //var from = self.isToday(time, true) ? moment(moment(currenttime, 'h:mm A').add(60, 'm').format(\"h:mm A\"), \"h:mm A\").add(self.totalDuration, 'm').format(\"X\") : moment(currenttime, 'h:mm A').add(self.totalDuration, 'm').format(\"X\");\r\n\r\n                var to = self.isToday(time, false) ? todayCurrentTime : moment('00:00', 'h:mm A').format(\"X\");\r\n                var from = self.isToday(time, false) ? moment(moment(currenttime, 'h:mm A').add(60, 'm').format(\"h:mm A\"), \"h:mm A\").add(self.totalDuration, 'm').format(\"X\") : moment('00:00', 'h:mm A').add(self.totalDuration, 'm').format(\"X\");\r\n\r\n                //var from = +moment('09:00', 'h:mm A').add(self.totalDuration, 'm').format(\"X\");\r\n\r\n                var min = self.isToday(time, false) ? todayCurrentTime : moment('00:00', 'h:mm A').format(\"X\");\r\n\r\n                var max = moment('23:45', 'h:mm A').format(\"X\");\r\n                //setTimeout(function(){\r\n                $(\"#range\").ionRangeSlider({\r\n                    type: \"double\",\r\n                    min: min,\r\n                    max: max,\r\n                    from: to,\r\n                    to: from,\r\n                    //step: +moment('05', 'mm').format('h:mm A A'),\r\n                    step: 900,\r\n                    //step: 300000,\r\n                    drag_interval: true,\r\n                    prettify: function (num) {\r\n                        return moment(num, \"X\").format(\"h:mm A\");\r\n                    },\r\n                    onFinish: function (data) {\r\n                        self.from = moment(data.from, \"X\").format(\"h:mm A\");\r\n                        self.to = moment(data.to, \"X\").format(\"h:mm A\");\r\n                        self.isSlotAvailable();\r\n                    },\r\n                    force_edges: true\r\n                });\r\n                self.slider = $(\"#range\").data(\"ionRangeSlider\");\r\n                self.slider.update({\r\n                    min: min,\r\n                    max: max,\r\n                    from: to,\r\n                    to: from\r\n                });\r\n                self.isSlotAvailable();\r\n                //}, 3000)\r\n            }\r\n        }\r\n\r\n        destroySlider() {\r\n            var self = this;\r\n            self.slider.destroy();\r\n        }\r\n\r\n        dateTimeChooseDone() {\r\n            var self = this;\r\n            if (self.availability && self.UserID.indexOf('|') <= -1) {\r\n                $('#PDoneSlider').modal('hide');\r\n                self.showSTTime = self.selectedFrom;\r\n                self.showENTime = self.selectedTo;\r\n                self.showTHDay = self.onlyDate;\r\n                $('#PConfirm').modal('show');\r\n            }\r\n            else if (self.UserID.indexOf('|') > -1) {\r\n                $('#PDoneSlider').modal('hide');\r\n                self.showSTTime = self.selectedFrom;\r\n                self.showENTime = self.selectedTo;\r\n                self.showTHDay = self.onlyDate;\r\n                $('#PConfirm').modal('show');\r\n\r\n            }\r\n            else {\r\n                self.showIonicAlert('Please select an available time slot');\r\n            }\r\n        }\r\n\r\n        showIonicAlert(text, template) {\r\n            var self = this;\r\n            $(\".modal\").modal('hide');\r\n            self.messages = text;\r\n            $(\"#PDone\").modal();\r\n        }\r\n\r\n        actionAfterOk(ac) {// ||  self.totalPrice==0\r\n            var self = this;\r\n            if (self.action == '' && self.totalPrice == 0) {\r\n                self.finalMakeAppointment();\r\n            }\r\n            else if (self.action == 'redirectAfterAppointment') {\r\n                self.redirectAfterAppointment();\r\n            }\r\n        }\r\n\r\n        customCardPage() {\r\n            var self = this;\r\n            self.MainView = 'Payment-Information';\r\n            self.nameOnCard = '';\r\n            self.cardNumber = '';\r\n            self.radioInline = '';\r\n            self.paymentTerm = '';\r\n            self.cvv = '';\r\n            self.expMonth = '01';\r\n            self.modalGoback = false;\r\n            self.years = [];\r\n            var date = new Date();\r\n            var year = parseInt(date.getFullYear());\r\n            self.expYear = year;\r\n            for (var i = 0; i < 20; i++) {\r\n                self.years.push(year++);\r\n            }\r\n            self.chkBilling = false;\r\n            self.Address = self.info.address;\r\n            self.City = self.info.city;\r\n            self.State = self.info.state;\r\n            self.Zip = self.info.zip;\r\n\r\n            $(\"#MobileNo\").mask(\"000-000-0000\");\r\n            setTimeout(function () {\r\n                $(\"#MobileNo\").val(self.info.phone);\r\n            }\r\n                , 1000)\r\n\r\n\r\n        }\r\n\r\n\r\n        paymentMethod() {\r\n            var self = this;\r\n            self.backToCalendar = false;\r\n            self.CustomerHttp.get('/GetCustomerProfile/' + self.customerId).then(function (resp) {\r\n                self.selectedCard = 0;\r\n                self.CCards = [];\r\n                var profile = resp.GetCustomerProfileResult;\r\n                if (profile) {\r\n\r\n                    profile = profile.profile;\r\n                    //      alert(JSON.stringify(profile));\r\n                    //   self.customer_PaymentProfileId = profile.customerPaymentProfileId;\r\n                    if (profile != null) {\r\n                        self.PID = profile.customerProfileId;\r\n                        //  self.customer_PaymentProfileId = null;\r\n                        if (typeof profile.paymentProfiles != \"undefined\" && profile.paymentProfiles) {\r\n                            profile.paymentProfiles.map(function (cc) {\r\n                                self.CCards.push(cc);\r\n                            });\r\n\r\n                            self.CustomerEmail = profile.email;\r\n                            if (self.totalPrice == 0) {\r\n                                self.showIonicAlert('Thank you! Your appointment is awaiting provider response!');\r\n\r\n                            } else {\r\n                                self.MainView = 'Payment-Method';\r\n                            }\r\n                        } else {\r\n                            self.backToCalendar = true;\r\n                            self.customCardPage();\r\n                        }\r\n                    } else {\r\n                        self.backToCalendar = true;\r\n                        self.customCardPage();\r\n                    }\r\n\r\n                } else {\r\n                    self.backToCalendar = true;\r\n                    self.customCardPage();\r\n                }\r\n            });\r\n        }\r\n\r\n        isSlotAvailable() {\r\n            var self = this;\r\n            if (self.UserID.indexOf('|') <= -1) {\r\n                var appId = self.$window.localStorage.getItem('AppointmentIDs');\r\n                var providerId = self.$stateParams.userId;\r\n                var postObj = {\r\n                    AppID: self.AppID,\r\n                    EndDateTime: self.onlyDate + ' ' + self.from,\r\n                    ProID: providerId,\r\n                    StartDateTime: self.onlyDate + ' ' + self.to\r\n                };\r\n                var url = self.isEdit ? '/IsProviderSlotFreeEM' : '/IsProviderSlotFree';\r\n                self.CustomerHttp.post(postObj, url).then(function (response: any) {\r\n                    if (response === true) {\r\n                        self.selectedFrom = self.from;\r\n                        self.selectedTo = self.to;\r\n                        self.availability = true;\r\n                    } else {\r\n                        self.availability = false;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                self.selectedFrom = self.from;\r\n                self.selectedTo = self.to;\r\n                self.availability = true;\r\n\r\n            }\r\n        }\r\n\r\n        isToday(start, todayAnd) {\r\n            var today = new Date();\r\n            today = new Date(today.getFullYear(), today.getMonth(), today.getDate());\r\n            var check = new Date(start._d.getFullYear(), start._d.getMonth(), start._d.getDate() + 1);\r\n            return todayAnd ? check >= today : moment(check).format('X') == moment(today).format('X');\r\n        }\r\n\r\n        validatePaymentMethod() {\r\n            var self = this;\r\n            if (self.selectedCard == 0) {\r\n                self.customCardPage();\r\n            } else {\r\n                self.showIonicConfirmation();\r\n            }\r\n        }\r\n\r\n        customCardPayment() {\r\n\r\n            var self = this;\r\n            self.Phone = $(\"#MobileNo\").val();\r\n            if (self.nameOnCard == '' || !self.nameOnCard.trim().length) {\r\n                self.showIonicAlert('Name on card is required');\r\n            } else if (self.nameOnCard.trim().length > 150) {\r\n                self.showIonicAlert('Name of card should be max lenth 150');\r\n            } else if (self.cardNumber == '' || !self.cardNumber.trim().length) {\r\n                self.showIonicAlert('Card number is required');\r\n            } else if (/\\D/.test(self.cardNumber)) {\r\n                self.showIonicAlert('Card number must be numeric');\r\n            } else if (self.cardNumber.length < 14 || self.cardNumber.length > 16) {\r\n                self.showIonicAlert('Card number should be between 14-16');\r\n            } else if (self.radioInline == '' || !self.radioInline.trim().length) {\r\n                self.showIonicAlert('Card type is required');\r\n            } else if (self.cvv == '' || !self.cvv.trim().length) {\r\n                self.showIonicAlert('CVV is required');\r\n            } else if (/\\D/.test(self.cvv)) {\r\n                self.showIonicAlert('CVV must be numeric');\r\n            } else if (self.cvv.trim().length < 3 || self.cvv.trim().length > 4) {\r\n                self.showIonicAlert('CVV should be 3-4');\r\n            }\r\n            else if (self.Address == '' || self.Address == undefined) {\r\n                self.showIonicAlert('Billing Address must be required');\r\n            }\r\n            else if (self.City == '' || self.City == undefined) {\r\n                self.showIonicAlert('City must be required');\r\n            }\r\n            else if (self.State == '' || self.State == undefined) {\r\n                self.showIonicAlert('State must be required');\r\n            }\r\n            else if (self.Zip == '' || self.Zip == undefined) {\r\n                self.showIonicAlert('Zip/Postal Code must be required');\r\n            }\r\n            else if ($(\"#MobileNo\").val() == '' || $(\"#MobileNo\").val() == undefined) {\r\n                self.showIonicAlert('Phone no must be required');\r\n            } else if (self.paymentTerm == '' || self.paymentTerm == undefined) {\r\n                self.showIonicAlert('You need to agree with our payment terms');\r\n            }\r\n            else if (self.paymentTerm == '' || self.paymentTerm == undefined) {\r\n                self.showIonicAlert('You need to agree with our payment terms');\r\n            }\r\n            else {\r\n                self.showIonicConfirmation(true);\r\n            }\r\n        }\r\n\r\n        showIonicConfirmation(customCard) {\r\n            var self = this;\r\n\r\n            self.type = customCard || false;\r\n            if (!self.type) {\r\n                var card = self.CCards.filter(function (cc) {\r\n                    return cc.customerPaymentProfileId === self.selectedCard;\r\n                });\r\n                self.card = card[0];\r\n                self.mainCard = self.card.payment.Item.cardNumber;\r\n            } else {\r\n                var cFull = self.cardNumber;\r\n                self.mainCard = 'XX' + cFull.slice(cFull.length - 4, cFull.length);\r\n            }\r\n            // self.messages = 'Your card ending with ' + self.mainCard + ' will be charge for amount of ' + self.totalPrice + ' USD';\r\n            self.totalPrice = (self.totalDiscountPrice != null ? self.totalDiscountPrice : self.totalPrice);\r\n            self.messages = 'Your card ending in ' + self.mainCard.replace('XXXX', 'XX') + ' will be charged $' + self.totalPrice + ' USD after the appointment is completed. If cancelled within 12 hours of the set appointment time, you will be charged $25.';\r\n            $(\"#PDonePayment\").modal();\r\n        }\r\n\r\n        HandleCCAddresUI() {\r\n            var self = this;\r\n            self.IsHidden = true;\r\n            $(\"#MobileNo\").mask(\"000-000-0000\");\r\n            if (!self.chkBilling) {\r\n                self.IsHidden = false;\r\n                self.Address = self.info.address;\r\n                self.City = self.info.city;\r\n                self.State = self.info.state;\r\n                self.Zip = self.info.zip;\r\n                $(\"#MobileNo\").val(self.info.phone)\r\n            }\r\n            else {\r\n                self.Address = '';\r\n                self.City = '';\r\n                self.State = '';\r\n                self.Zip = '';\r\n                $(\"#MobileNo\").val('');\r\n            }\r\n\r\n        }\r\n\r\n        actionPayment() {\r\n            var self = this;\r\n            self.totalPrice = (self.totalDiscountPrice != null ? self.totalDiscountPrice : self.totalPrice);\r\n            if (!self.type) {\r\n                var PID = self.PID;\r\n                var PPID = self.card.customerPaymentProfileId;\r\n                self.customer_PaymentProfileId = PPID;\r\n                // at this point you have he customerPaymentProfileId, now no more auth or capture ..just subbmit the data to web method to create appointment\r\n                // this is the flow when user select existing card ?\r\n                var amount = self.totalPrice;\r\n                //  alert(PID + ' / ' + PPID + ' /' + amount);\r\n                //str.slice(str.length -  4, str.length);\r\n                //self.CustomerHttp.get('/AuthProfileJSON/' + PID + '/' + PPID + '/' + amount).then(function (response: any) {\r\n                //    var resp = JSON.parse(response.AuthProfileJSONResult);\r\n                //    //   console.log(\"hi ji :: \" +JSON.stringify(resp));\r\n                //    if (resp.transactionResponse.responseCode == 1) {\r\n                //        self.transId = resp.transactionResponse.transId;\r\n                self.finalMakeAppointment();\r\n                //    } else {\r\n                //        self.showIonicAlert('Sorry, the transaction was NOT successfull cause of the following reason ' + resp.transactionResponse.errors[0].errorText);\r\n                //    }\r\n                //})\r\n            } else {\r\n                //    alert('hi');\r\n                var obj = {\r\n                    \"Amount\": self.totalPrice,\r\n                    \"CCNumber\": self.cardNumber,\r\n                    \"CVV\": self.cvv,\r\n                    \"Email\": self.CustomerEmail,\r\n                    \"Expiry\": self.expMonth + '/' + self.expYear,\r\n                    \"UID\": self.customerId,\r\n                    \"Name\": self.nameOnCard, \"Address\": self.Address, \"City\": self.City, \"State\": self.State, \"Zip\": self.Zip, \"Phone\": $(\"#MobileNo\").val()\r\n\r\n                };\r\n                //self.CustomerHttp.post(obj, '/AuthCardJSON1').then(function (response: any) {\r\n                //   var resp = JSON.parse(response);\r\n\r\n                //if (response.Usertype == '1')\r\n                //{\r\n                //    console.log(JSON.stringify(response));\r\n\r\n                //        if (response.Source === 'E00039' || response.Source === 'I00001') {\r\n                //            self.finalMakeAppointment();\r\n                //            self.customer_PaymentProfileId = response.CustomerID;\r\n                //        }\r\n                //        else\r\n                //        {\r\n                //            self.showIonicAlert('Sorry, the transaction was NOT successfull cause of the following reason ' + response.Success );\r\n                //        }\r\n\r\n                //}\r\n                //else {\r\n                //    self.showIonicAlert('Sorry, the transaction was NOT successfull cause of the following reason ' + resp.transactionResponse.errors[0].errorText);\r\n                //}\r\n\r\n                //if (resp.transactionResponse.responseCode == 1) {\r\n                //    self.transId = resp.transactionResponse.transId;\r\n\r\n                //    //if (self.saveCardInfo) {\r\n                self.CustomerHttp.post(obj, '/CreateCustomerProfile').then(function (response) {\r\n                    console.log(JSON.stringify(response));\r\n\r\n                    if (response.Source === 'E00039' || response.Source === 'I00001') {\r\n                        self.finalMakeAppointment();\r\n                        self.customer_PaymentProfileId = response.CustomerID;\r\n                    }\r\n                    else {\r\n                        self.showIonicAlert('Sorry, the transaction was NOT successfull cause of the following reason ' + response.Success);\r\n                    }\r\n\r\n                }, function (error) { });\r\n                //}\r\n\r\n\r\n                //} else {\r\n                //    //self.modalGoback = true;\r\n                //    self.showIonicAlert('Sorry, the transaction was NOT successfull cause of the following reason ' + resp.transactionResponse.errors[0].errorText);\r\n                //}\r\n                //   });\r\n            }\r\n        }\r\n\r\n\r\n        wronInfoGoBack() {\r\n            var self = this;\r\n            if (self.modalGoback) {\r\n                self.MainView = 'Payment-Method';\r\n            } else if (self.action == 'redirectAfterAppointment') {\r\n                self.redirectAfterAppointment();\r\n            }\r\n        }\r\n        finalMakeAppointment() {\r\n            var self = this;\r\n            var postObj = {\r\n                city: self.info.city,\r\n                state: self.info.state,\r\n                street: self.info.address,\r\n                zip: self.info.zip\r\n            };\r\n            self.CustomerHttp.post(postObj, '/AddAddress').then(function (response: any) {\r\n                self.CustomerHttp.get('/UpdateCouponCount/' + self.CouponCode).then(function (response: any) {\r\n                });\r\n                self.addressId = response;\r\n                self.action = 'redirectAfterAppointment';\r\n\r\n                if (self.totalPrice == 0) {\r\n                    self.redirectAfterAppointment()\r\n                }\r\n                else {\r\n                    $(\"#PDonePayment\").modal('hide');\r\n                    self.showIonicAlert('Thank you! Your appointment is awaiting provider response!')\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        redirectAfterAppointment() {\r\n            var self = this;\r\n            var AtTime = self.ASAP ? '' : moment(self.selectedFrom, 'h:mm A A').format('h:mm A');\r\n            var EndTime = self.ASAP ? '' : moment(self.selectedTo, 'h:mm A A').format('h:mm A');\r\n            var ForDate = self.ASAP ? '' : self.onlyDate;\r\n            //  alert(self.customer_PaymentProfileId + \"   \" + self.PID);\r\n            var obj = {\r\n                AddressID: (self.addressId != \"\" ? self.addressId : \"0\"),\r\n                AtTime: AtTime,\r\n                CCNumber: '',\r\n                CSVSRVC: self.serviceString + '|',\r\n                ClientID: self.customerId,\r\n                Comment: self.comment,\r\n                EditAppID: self.AppID,\r\n                EndTime: EndTime,\r\n                Expriry: '',\r\n                ForDate: ForDate,\r\n                PayTxnID: '',\r\n                ProviderID: self.UserID.indexOf('|') > -1 ?-1:self.$stateParams.userId,\r\n                PayProfileID: (self.totalPrice == 0 ? '-1' : self.customer_PaymentProfileId),\r\n                Discount: (self.discountPrice != undefined ? self.discountPrice : '0'),\r\n                AnyProviderIDs:self.UserID.replace('-1|','')\r\n            };\r\n                \r\n                var urlPost = '/MakeAppointment1?AddressID=' + obj.AddressID + '&AtTime=' + obj.AtTime + '&CCNumber=' + obj.CCNumber + '&CSVSRVC=' + obj.CSVSRVC + '&ClientID=' + obj.ClientID + '&Comment=' + obj.Comment + '&EditAppID=' + obj.EditAppID + '&EndTime=' + obj.EndTime + '&Expriry=' + obj.Expriry + '&ForDate=' + obj.ForDate + '&PayTxnID=' + obj.PayTxnID + '&ProviderID=' + obj.ProviderID + '&PayProfileID=' + obj.PayProfileID + '&Discount=' + obj.Discount+ '&AnyProviderIDs=' + obj.AnyProviderIDs;\r\n            self.CustomerHttp.get(urlPost).then(function (response: any) {\r\n                if (!isNaN(parseInt(response))) {\r\n                    self.$state.go('MySchedule');\r\n                } else {\r\n                    self.showIonicAlert('Sorry, your appointment not successfully done!');\r\n                }\r\n            })\r\n        }\r\n\r\n        showPTerm() {\r\n            $('#PTerms').modal();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    angular.module('spafoo.ctrl.MakeAppointment', []).controller('MakeAppointment', MakeAppointmentController);\r\n\r\n}\r\n"],"sourceRoot":"/source/"}