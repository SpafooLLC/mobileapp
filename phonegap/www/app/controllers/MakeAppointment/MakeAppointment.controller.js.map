{"version":3,"sources":["controllers/MakeAppointment/MakeAppointment.controller.ts"],"names":[],"mappings":"AAAA,IAAO,yBAAyB,CAyqB/B;AAzqBD,WAAO,2BAAyB,EAAC,CAAC;IAO9B;QASI,mCACY,EAAgB,EAChB,MAAgC,EAChC,MAAiB,EACjB,SAA8B,EAC9B,YAAoD,EACpD,OAA0B,EAC1B,UAAe,EACf,UAAgD,EAChD,YAA4C,EAC5C,WAA0C;YAT1C,OAAE,GAAF,EAAE,CAAc;YAChB,WAAM,GAAN,MAAM,CAA0B;YAChC,WAAM,GAAN,MAAM,CAAW;YACjB,cAAS,GAAT,SAAS,CAAqB;YAC9B,iBAAY,GAAZ,YAAY,CAAwC;YACpD,YAAO,GAAP,OAAO,CAAmB;YAC1B,eAAU,GAAV,UAAU,CAAK;YACf,eAAU,GAAV,UAAU,CAAsC;YAChD,iBAAY,GAAZ,YAAY,CAAgC;YAC5C,gBAAW,GAAX,WAAW,CAA+B;YAyVtD;;;;;;;;;;;;;;eAcG;YAGH,uBAAkB,GAAG,UAAU,KAAK;gBAChC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YAC3B,CAAC,CAAC;YAzWE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;YACvC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAC9D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAC3B,EAAE,CAAA,CAAC,CAAC,MAAM,IAAI,MAAM,IAAI,OAAO,CAAC,CAAA,CAAC;gBAC7B,IAAI,YAAY,GAAG,EAAC,UAAU,EAAE,IAAI,CAAC,MAAM,EAAC,CAAC;gBAC7C,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;YAC1C,CAAC;YAAA,IAAI,CAAA,CAAC;gBACF,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YACjE,CAAC;YACD,IAAI,QAAQ,GAAG,CAAC,CAAC,kBAAkB,CAAC,CAAC;YACrC,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE;gBACtB,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;gBACxD,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;YAEH,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE;gBACvB,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;gBACzD,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAC7B,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC;YAC7B,IAAI,CAAC,WAAW,GAAG,oBAAoB,CAAC;YACxC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAC3B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,EAAE,CAAA,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,IAAI,MAAM,CAAC,CAAA,CAAC;gBAC1C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;gBACrD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC;YACpC,CAAC;YACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,MAAM,CAAC;YAC7C,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAC/C,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;YACtB,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YACxB,IAAI,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAC3B,IAAI,IAAI,GAAG,IAAI,CAAC;QACpB,CAAC;QACD,gDAAY,GAAZ;YACI,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,IAAI,EAAE,GAAG,MAAM,GAAG,EAAE,CAAC;QAC1E,CAAC;QACD,wDAAoB,GAApB,UAAqB,MAAW;YAC5B,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBACxE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,iBAAiB,CAAC;gBAC9C,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,CAAC;oBACd,IAAI,CAAC,WAAW,EAAE,CAAC;gBACrB,CAAC;gBACD,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG;oBAC5D,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC;oBAC/B,EAAE,CAAA,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,CAAC;wBAClD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,UAAS,OAAO;4BAC3C,EAAE,CAAA,CAAC,OAAO,CAAC,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAA,CAAC;gCAC5E,IAAI,aAAa,GAAG,OAAO,CAAC,cAAc,GAAC,GAAG,GAAC,CAAC,GAAC,GAAG,GAAC,OAAO,CAAC,UAAU,CAAC;gCACxE,UAAU,CAAC;oCACT,CAAC,CAAC,eAAe,GAAC,aAAa,GAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;gCACnE,CAAC,EAAE,GAAG,CAAC,CAAC;gCACR,MAAM,CAAC,KAAK,CAAC;4BACf,CAAC;wBACH,CAAC,CAAC,CAAA;oBACJ,CAAC;gBACH,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;oBACjF,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,WAAW,CAAC;oBAChG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,GAAG,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,SAAS,CAAC;oBAC5F,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,WAAW,CAAC;oBAChG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,GAAG,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,eAAe,CAAC;oBAC1G,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,CAAC;wBACb,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC;wBAC9D,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC;wBACzD,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC;wBAC5D,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAA;oBACjE,CAAC;gBACH,CAAC,CAAC,CAAA;YACN,CAAC,CAAC,CAAC;QACP,CAAC;QAED,+CAAW,GAAX;YACE,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBACzF,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,oBAAoB,CAAC;gBAC7D,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;oBACzF,IAAI,CAAC,GAAG,QAAQ,CAAC,oBAAoB,CAAC;oBACtC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,YAAY,CAAC;oBACnC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC7B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,UAAU,CAAC;oBAC/B,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC;gBAE7B,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;gBAChD,UAAU,CAAC;oBACT,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,UAAS,IAAS;wBACnD,IAAI,aAAa,GAAG,IAAI,CAAC,cAAc,GAAC,GAAG,GAAC,CAAC,GAAC,GAAG,GAAC,IAAI,CAAC,UAAU,CAAC;wBAClE,CAAC,CAAC,eAAe,GAAC,aAAa,GAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;wBACjE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;oBAChD,CAAC,CAAC,CAAA;gBACJ,CAAC,EAAE,GAAG,CAAC,CAAA;YACT,CAAC,CAAC,CAAC;QACL,CAAC;QAED,gDAAY,GAAZ,UAAa,IAAS,EAAE,IAAS;YAC7B,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,eAAe;YACf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,MAAM,CAAC,CAAE,QAAQ,CAAE,IAAI,CAAC,CAAC,CACzB,CAAC;gBACG,KAAK,CAAC;oBACF,IAAI,CAAC,cAAc,EAAE,CAAC;oBAAC,KAAK,CAAC;gBACjC,KAAK,CAAC;oBACF,sBAAsB;oBACtB,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;oBAClE,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;oBAC7D,CAAC,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;oBAChE,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;oBAElE,KAAK,CAAC;gBAEV,KAAK,CAAC;oBACF,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;oBAC3B,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;oBACxB,CAAC,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;oBACzB,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YAE/B,CAAC;YAED,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAEjC,CAAC;QAED,kDAAc,GAAd;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,OAAO,GAAG;gBACV,kBAAkB,EAAE,IAAI;gBACxB,UAAU,EAAE,OAAO;aACtB,CAAC;YACF,SAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,UAAS,QAAQ;gBACtD,IAAI,IAAI,GAAG,IAAI,CAAC;gBAChB,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBAClG,2CAA2C;gBAC3C,IAAI,OAAO,GAAG;oBACV,UAAU,EAAE,MAAM;iBACrB,CAAC;gBACF,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,UAAU,OAAY;oBAC/D,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;wBACjB,IAAI,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;wBACxB,IAAI,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;wBAC/B,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,eAAe,GAAG,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;wBAC3E,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;wBACrC,CAAC,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;wBACvC,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;wBACtC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,eAAe,GAAG,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC;wBACvE,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC;wBACjC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC;wBACnC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC;oBACtC,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAE9B,CAAC;QAED,2CAAO,GAAP,UAAQ,CAAM;YACV,2BAA2B;QAC/B,CAAC;QAED,8CAAU,GAAV,UAAW,IAAS;YAChB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,sBAAsB,GAAG,eAAe,GAAG,IAAI,CAAC;YAC5E,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,YAAY,CAAC,CAAA,CAAC;gBACtC,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,CAAC;YACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACzB,CAAC;QAED,qDAAiB,GAAjB,UAAkB,GAAQ;YACtB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;YAC9C,IAAI,SAAS,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,CAAC,CAAC,wBAAwB,CAAC,CAAC,GAAG,CAAC;gBAC5B,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,UAAS,IAAI;oBACtC,EAAE,CAAA,CAAC,IAAI,CAAC,cAAc,IAAI,MAAM,CAAC,CAAA,CAAC;wBAC9B,IAAI,CAAC,aAAa,IAAE,IAAI,CAAC,aAAa,IAAI,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC;wBACzE,IAAI,CAAC,UAAU,IAAE,IAAI,CAAC,UAAU,CAAC;wBACjC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACzB,CAAC;gBACL,CAAC,CAAC,CAAA;YACN,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;YACpC,qCAAqC;YACnC,EAAE,CAAA,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,QAAQ,GAAG,eAAe,CAAC;gBAChC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,UAAS,GAAG;oBAClC,GAAG,CAAC,QAAQ,GAAG,CAAC,CAAC;oBACjB,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,CAAC;wBACd,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,UAAS,IAAI;4BAC9C,EAAE,CAAA,CAAC,IAAI,CAAC,cAAc,IAAI,GAAG,CAAC,cAAc,CAAC,CAAA,CAAC;gCAC5C,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;4BAC/B,CAAC;wBACH,CAAC,CAAC,CAAC;wBACH,IAAI,CAAC,aAAa,EAAE,CAAC;oBACvB,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC;YAAC,IAAI,CAAA,CAAC;gBACH,IAAI,CAAC,cAAc,CAAC,8CAA8C,CAAC,CAAC;YACxE,CAAC;QACL,CAAC;QAED,iDAAa,GAAb;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,UAAS,IAAI;gBACxD,IAAI,CAAC,aAAa,IAAG,KAAK,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,aAAa,IAAI,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,IAAI,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7L,IAAI,CAAC,UAAU,IAAG,KAAK,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7G,uBAAuB;YAC3B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,UAAS,IAAI;gBACnC,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,GAAC,GAAG,GAAC,IAAI,CAAC,QAAQ,GAAC,GAAG,GAAC,IAAI,CAAC,UAAU,CAAC;gBACpE,EAAE,CAAA,CAAC,IAAI,CAAC,aAAa,IAAI,EAAE,CAAC,CAAA,CAAC;oBACzB,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;gBAC7B,CAAC;gBAAC,IAAI,CAAA,CAAC;oBACH,IAAI,CAAC,aAAa,IAAE,GAAG,GAAC,GAAG,CAAC;gBAChC,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC;QAED,iDAAa,GAAb,UAAc,KAAK;YACf,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACvC,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,GAAG,YAAY,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAExF,CAAC;QAED,mDAAe,GAAf;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,uDAAuD;YACvD,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA,CAAC;gBACV,IAAI,CAAC,aAAa,EAAE,CAAC;YACzB,CAAC;YAAC,IAAI,CAAA,CAAC;gBACH,IAAI,SAAS,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;gBACvC,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC;gBACrC,IAAI,CAAC,YAAY,GAAG;oBAClB;wBACE,MAAM,EAAE,EAAE;qBACX;iBACF,CAAC;gBACF,IAAI,CAAC,QAAQ,GAAG;oBACZ,QAAQ,EAAE;wBACN,aAAa,EAAE,MAAM;wBACrB,MAAM,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE;wBAC/D,WAAW,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI;wBACtC,WAAW,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC;wBACzB,YAAY,EAAE,IAAI;wBAClB,QAAQ,EAAE,UAAS,IAAS,EAAE,OAAY,EAAE,IAAS;4BACjD,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;wBACvC,CAAC;wBACD,QAAQ,EAAE,IAAI;wBACd,gBAAgB,EAAE,KAAK;wBACvB,UAAU,EAAE,CAAC;wBACb;;2BAEG;wBACH,UAAU,EAAE,UAAS,IAAI,EAAE,OAAO,IAAI,EAAE,CAAA,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;4BAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;qBACxH;iBACJ,CAAC;gBACF,UAAU,CAAC;oBACT,CAAC,CAAC,0BAA0B,CAAC,CAAC,IAAI,CAAC,2HAA2H,CAAC,CAAC;gBAClK,CAAC,EAAE,CAAC,CAAC,CAAC;gBACN,0BAA0B;gBAC1B,IAAI,CAAC,QAAQ,GAAG,sBAAsB,CAAA;YAC1C,CAAC;QACL,CAAC;QAED,oDAAgB,GAAhB,UAAiB,KAAK,EAAE,GAAG;YAEvB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,mCAAmC;YACnC,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnE,IAAI,KAAK,GAAG,MAAM,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YAC1C,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YAC3C,mCAAmC;YACnC,sCAAsC;YACtC,IAAI,OAAO,GAAG;gBACV,WAAW,EAAE,GAAG;gBAChB,wBAAwB;gBACxB,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM;gBAC/B,uBAAuB;gBACvB,aAAa,EAAE,KAAK;aACvB,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,GAAQ;gBAExE,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;gBAE/C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACrC,IAAI,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,GAAG,GAAG,GAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC3G,IAAI,YAAY,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,GAAG,GAAG,GAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC;oBACnH,IAAI,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,GAAG,GAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC;oBACnG,IAAI,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,GAAG,GAAG,GAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC;oBAC3G,IAAI,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBAC/B,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;oBACrE,IAAI,OAAO,GAAG,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;oBAClE,IAAI,QAAQ,GAAG,EAAE,CAAC;oBAElB,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;wBAC7B,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC;wBACrD,KAAK,EAAE,MAAM,CAAC,QAAQ,GAAC,GAAG,GAAC,UAAU,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAC,KAAK,GAAC,MAAM,CAAC,UAAU,GAAC,GAAG,GAAC,YAAY,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;wBACpI,2EAA2E;wBAC3E,qEAAqE;wBACrE,wBAAwB;wBACxB,8BAA8B;wBAC9B,SAAS,EAAE,UAAU;wBACrB,kEAAkE;wBAClE,KAAK,EAAE,SAAS;qBACnB,CAAC,CAAC;gBACP,CAAC;gBACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC,IAAI,CAAC,UAAU,CAAM;oBAC3E,IAAI,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;oBACxB,IAAI,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,MAAM,CAAC,OAAO,EAAE,GAAG,GAAG,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;oBAChL,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC;wBACtB,8BAA8B;wBAC9B,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,YAAY,GAAG,GAAG,GAAG,CAAC,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC,CAAC,YAAY,GAAG,GAAG,GAAG,CAAC,CAAC,YAAY,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;wBACvR,GAAG;oBACL,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACP,CAAC;QAuBD,kDAAc,GAAd,UAAe,IAAI,EAAE,KAAK;YACtB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAA,CAAC;gBAC1B,IAAI,CAAC,cAAc,CAAC,4CAA4C,CAAC,CAAC;YACtE,CAAC;YAAC,IAAI,CAAA,CAAC;gBACH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACtD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBAC5H,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBACvN,CAAC,CAAC,cAAc,CAAC,CAAC,KAAK,EAAE,CAAC;gBAC1B,IAAI,gBAAgB,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC5F,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,gBAAgB,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC9F,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC9M,iFAAiF;gBACjF,IAAI,GAAG,GAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,gBAAgB,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAChG,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAChD,wBAAwB;gBACxB,CAAC,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC;oBACvB,IAAI,EAAE,QAAQ;oBACd,GAAG,EAAE,GAAG;oBACR,GAAG,EAAE,GAAG;oBACR,IAAI,EAAE,EAAE;oBACR,EAAE,EAAE,IAAI;oBACR,+CAA+C;oBAC/C,eAAe;oBACf,aAAa,EAAE,IAAI;oBACnB,QAAQ,EAAE,UAAU,GAAG;wBACnB,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;oBAC7C,CAAC;oBACD,QAAQ,EAAE,UAAU,IAAI;wBACpB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;wBACpD,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;wBAChD,IAAI,CAAC,eAAe,EAAE,CAAC;oBAC3B,CAAC;oBACH,WAAW,EAAE,IAAI;iBAClB,CAAC,CAAC;gBACL,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBACjD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;oBACjB,IAAI,EAAE,EAAE;oBACR,EAAE,EAAE,IAAI;iBACT,CAAC,CAAC;gBACH,IAAI,CAAC,eAAe,EAAE,CAAC;YAEzB,CAAC;QACL,CAAC;QAEH,iDAAa,GAAb;YACE,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;QAEC,sDAAkB,GAAlB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAA,CAAC,IAAI,CAAC,YAAY,CAAC,CAAA,CAAC;gBAClB,CAAC,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAChC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;gBACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC/B,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACjC,CAAC;YAAC,IAAI,CAAA,CAAC;gBACH,IAAI,CAAC,cAAc,CAAC,sCAAsC,CAAC,CAAC;YAChE,CAAC;QACL,CAAC;QAED,kDAAc,GAAd,UAAe,IAAI,EAAE,QAAQ;YACzB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;QACxB,CAAC;QAED,iDAAa,GAAb,UAAc,EAAE;YACZ,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,IAAI,0BAA0B,CAAC,CAAA,CAAC;gBAC1C,IAAI,CAAC,wBAAwB,EAAE,CAAC;YACpC,CAAC;QACL,CAAC;QAED,iDAAa,GAAb;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,sBAAsB,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAS,IAAI;gBAC5E,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;gBACjB,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,OAAO,CAAC;gBAChE,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,iBAAiB,CAAC;gBACrC,EAAE,CAAA,CAAC,OAAO,OAAO,CAAC,eAAe,IAAI,WAAW,IAAI,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA,CAAC;oBAChF,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,UAAS,EAAE;wBACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBACzB,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,KAAK,CAAC;gBACvC,CAAC;gBACD,IAAI,CAAC,QAAQ,GAAG,gBAAgB,CAAC;YACrC,CAAC,CAAC,CAAC;QACP,CAAC;QAED,mDAAe,GAAf;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;YAChE,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;YAC1C,IAAI,OAAO,GAAG;gBACV,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,WAAW,EAAC,IAAI,CAAC,QAAQ,GAAC,GAAG,GAAC,IAAI,CAAC,IAAI;gBACvC,KAAK,EAAC,UAAU;gBAChB,aAAa,EAAC,IAAI,CAAC,QAAQ,GAAC,GAAG,GAAC,IAAI,CAAC,EAAE;aAC1C,CAAC;YACF,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,uBAAuB,GAAG,qBAAqB,CAAC;YACxE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBAC7D,EAAE,CAAA,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAA,CAAC;oBAClB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;oBAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC;oBAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBAC7B,CAAC;gBAAA,IAAI,CAAA,CAAC;oBACF,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC9B,CAAC;YACL,CAAC,CAAC,CAAA;QACN,CAAC;QAED,2CAAO,GAAP,UAAS,IAAI,EAAE,QAAQ;YACnB,IAAI,KAAK,GAAG,IAAI,IAAI,EAAE,EAClB,mBAAmB,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;YAEzC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC3B,mBAAmB,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC3C,IAAI,QAAQ,GAAG,mBAAmB,CAAC,OAAO,EAAE,CAAC;YAC7C,IAAI,SAAS,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;YAChC,MAAM,CAAC,QAAQ,GAAI,QAAQ,IAAI,SAAS,GAAG,QAAQ,IAAI,SAAS,CAAC;QACnE,CAAC;QAED,yDAAqB,GAArB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAA,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC,CAAA,CAAC;gBACvB,IAAI,CAAC,QAAQ,GAAG,qBAAqB,CAAC;gBACtC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;gBACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;gBACrB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;gBACd,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;gBAChB,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;gBACtB,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;gBACxC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAC,CAAC;oBACxB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC5B,CAAC;YACL,CAAC;YAAA,IAAI,CAAA,CAAC;gBACF,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACjC,CAAC;QACL,CAAC;QACD,qDAAiB,GAAjB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAA,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAA,CAAC;gBACxD,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,CAAC;YACpD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,GAAG,CAAC,CAAA,CAAC;gBAC3C,IAAI,CAAC,cAAc,CAAC,sCAAsC,CAAC,CAAC;YAChE,CAAC;YAAC,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAA,CAAC;gBAC/D,IAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC,CAAC;YACnD,CAAC;YAAE,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAA,CAAC;gBACnC,IAAI,CAAC,cAAc,CAAC,6BAA6B,CAAC,CAAC;YACvD,CAAC;YAAE,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,CAAC,CAAA,CAAC;gBACnE,IAAI,CAAC,cAAc,CAAC,qCAAqC,CAAC,CAAC;YAC/D,CAAC;YAAC,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAA,CAAC;gBACjE,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,CAAC;YACjD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,GAAG,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAA,CAAC;gBACjD,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;YAC3C,CAAC;YAAC,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA,CAAC;gBAC3B,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;YAC/C,CAAC;YAAC,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA,CAAC;gBAChE,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;YAC7C,CAAC;YAAC,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC,CAAA,CAAC;gBAC9B,IAAI,CAAC,cAAc,CAAC,0CAA0C,CAAC,CAAC;YACpE,CAAC;YAAC,IAAI,CAAA,CAAC;gBACH,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YACrC,CAAC;QACL,CAAC;QACD,yDAAqB,GAArB,UAAsB,UAAU;YAC5B,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,IAAI,CAAC,IAAI,GAAG,UAAU,IAAI,KAAK,CAAC;YAChC,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBACZ,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE;oBACtC,MAAM,CAAC,EAAE,CAAC,wBAAwB,KAAK,IAAI,CAAC,YAAY,CAAC;gBAC7D,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;YACtD,CAAC;YAAC,IAAI,CAAA,CAAC;gBACH,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC5B,IAAI,CAAC,QAAQ,GAAG,MAAM,GAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAI,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;YACxE,CAAC;YACD,IAAI,CAAC,QAAQ,GAAG,wBAAwB,GAAC,IAAI,CAAC,QAAQ,GAAC,gCAAgC,GAAC,IAAI,CAAC,UAAU,GAAC,MAAM,CAAC;YAC/G,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE,CAAC;QAC/B,CAAC;QACD,iDAAa,GAAb;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBACb,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC;gBAC9C,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC7B,yCAAyC;gBACzC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,mBAAmB,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,QAAY;oBACpG,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;oBACtD,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC7C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;wBAChD,IAAI,CAAC,oBAAoB,EAAE,CAAC;oBAChC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,cAAc,CAAC,2EAA2E,GAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;oBAClJ,CAAC;gBACL,CAAC,CAAC,CAAA;YACN,CAAC;YAAC,IAAI,CAAA,CAAC;gBACH,IAAI,GAAG,GAAG;oBACN,QAAQ,EAAE,IAAI,CAAC,UAAU;oBACzB,UAAU,EAAE,IAAI,CAAC,UAAU;oBAC3B,KAAK,EAAE,IAAI,CAAC,GAAG;oBACf,OAAO,EAAE,IAAI,CAAC,aAAa;oBAC3B,QAAQ,EAAC,IAAI,CAAC,QAAQ,GAAC,GAAG,GAAC,IAAI,CAAC,OAAO;oBACvC,KAAK,EAAE,IAAI,CAAC,UAAU;iBACzB,CAAC;gBACF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,eAAe,CAAC,CAAC,IAAI,CAAC,UAAU,QAAY;oBACpE,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;oBAChC,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC7C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC;wBAChD,IAAI,CAAC,oBAAoB,EAAE,CAAC;oBAChC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;wBACxB,IAAI,CAAC,cAAc,CAAC,2EAA2E,GAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;oBAClJ,CAAC;gBACL,CAAC,CAAC,CAAA;YACN,CAAC;QACL,CAAC;QACD,kDAAc,GAAd;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,QAAQ,GAAG,gBAAgB,CAAC;YACnC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,IAAI,0BAA0B,CAAC,CAAA,CAAC;gBACnD,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAClC,CAAC;QACL,CAAC;QACD,wDAAoB,GAApB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,OAAO,GAAG;gBACV,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;gBACpB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;gBACtB,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO;gBACzB,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG;aACrB,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBACvE,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;YAC9B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,GAAG,0BAA0B,CAAC;YACzC,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACjC,IAAI,CAAC,cAAc,CAAC,gDAAgD,CAAA,sCAAsC,CAAC,CAAA;QAC/G,CAAC;QAED,4DAAwB,GAAxB;YACI,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACrF,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACpF,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC7C,IAAI,GAAG,GAAG;gBACN,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,MAAM,EAAE,MAAM;gBACd,QAAQ,EAAE,EAAE;gBACZ,OAAO,EAAE,IAAI,CAAC,aAAa,GAAC,GAAG;gBAC/B,QAAQ,EAAE,IAAI,CAAC,UAAU;gBACzB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,SAAS,EAAE,IAAI,CAAC,KAAK;gBACrB,OAAO,EAAE,OAAO;gBAChB,OAAO,EAAE,EAAE;gBACX,OAAO,EAAE,OAAO;gBAChB,QAAQ,EAAE,EAAE;gBACZ,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM;gBACpC,QAAQ,EAAE,IAAI,CAAC,OAAO;aACzB,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBACvE,EAAE,CAAA,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA,CAAC;oBAC3B,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;gBACjC,CAAC;gBAAA,IAAI,CAAA,CAAC;oBACF,IAAI,CAAC,cAAc,CAAC,gDAAgD,CAAC,CAAC;gBAC1E,CAAC;YACL,CAAC,CAAC,CAAA;QACN,CAAC;QAnpBM,iCAAO,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,cAAc,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,EAAC,cAAc,EAAE,aAAa,CAAC,CAAC;QAqpBlJ,gCAAC;IAAD,CA7pBA,AA6pBC,IAAA;IAGD,OAAO,CAAC,MAAM,CAAC,6BAA6B,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,iBAAiB,EAAE,yBAAyB,CAAC,CAAC;AAE/G,CAAC,EAzqBM,yBAAyB,KAAzB,yBAAyB,QAyqB/B","file":"controllers/MakeAppointment/MakeAppointment.controller.js","sourcesContent":["module MakeAppointmentController {\n    interface IMakeAppointmentController {\n        UserID: number;\n        ServiceData: {};\n        ProviderServiceList: {};\n        address: string; city: string; state: string; zip: string;\n    }\n    class MakeAppointmentController implements IMakeAppointmentController {\n        UserID: number;\n        ServiceData: {};\n        MainView: string;\n        ProviderServiceList: {};\n        messages: any;\n        action: any;\n        address: string; city: string; state: string; zip: string; AppID: any; info: any; ServiceData: any;\n        static $inject = ['$q', '$state', '$scope', '$location', 'CustomerHttp', '$window', '$rootScope', 'SharedHttp','$stateParams', '$ionicPopup'];\n        constructor(\n            private $q: ng.IQService,\n            private $state: angular.ui.IStateService,\n            private $scope: ng.IScope,\n            private $location: ng.ILocationService,\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\n            private $window: ng.IWindowService,\n            private $rootScope: any,\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\n            private $stateParams: angular.ui.IStateParamsService,\n            private $ionicPopup: ionic.popup.IonicPopupService\n        ) {\n\n            this.UserID = this.$stateParams.userId;\n            this.AppID = 0;\n            this.ServiceData = {};\n            var status = this.$window.localStorage.getItem('LoginStatus');\n            this.customerId = null;\n            this.action = '';\n            this.checked_services = [];\n            if(!status || status == \"false\"){\n                var providerData = {providerId: this.UserID};\n                this.$state.go(\"login\", providerData);\n            }else{\n                this.customerId = $window.localStorage.getItem('CustomerID');\n            }\n            var mySelect = $('#first-disabled2');\n            $('#special').on('click', function () {\n                mySelect.find('option:selected').prop('disabled', true);\n                mySelect.selectpicker('refresh');\n            });\n\n            $('#special2').on('click', function () {\n                mySelect.find('option:disabled').prop('disabled', false);\n                mySelect.selectpicker('refresh');\n            });\n\n            this.isOpenSelectAdress = '';\n            this.info = {};\n            this.addressId = '';\n            this.comment = '';\n            this.MainView = 'Basic-Info';\n            this.addressText = 'My Profile Address';\n            this.selectedServices = [];\n            this.totalPrice = 0;\n            this.totalDuration = 0;\n            this.isEdit = false;\n            if(this.$stateParams.appointmentId != \"null\"){\n                this.AppointmentID = this.$stateParams.appointmentId;\n                this.isEdit = true;\n                this.AppID = this.AppointmentID;\n            }\n            this.ASAP = this.$stateParams.type == 'ASAP';\n            this.getProviderPortfolio($stateParams.userId);\n            var date = new Date();\n            var d = date.getDate();\n            var m = date.getMonth();\n            var y = date.getFullYear();\n            var self = this;\n        }\n        openDropdown(){\n            this.isOpenSelectAdress = this.isOpenSelectAdress == '' ? 'open' : '';\n        }\n        getProviderPortfolio(UserID: any) {\n            var self = this;\n\n            self.CustomerHttp.get('/GetUserInfo/' + UserID).then(function (response: any) {\n                self.ServiceData = response.GetUserInfoResult;\n                if(self.isEdit){\n                  self.getEditInfo();\n                }\n                self.SharedHttp.GetProviderServices(UserID).then(function (res) {\n                  self.ProviderServiceList = res;\n                  if(self.ProviderServiceList.length && !self.isEdit){\n                    self.ProviderServiceList.map(function(proServ){\n                      if(proServ.serviceIDField == self.$window.localStorage.getItem('ServiceIDs')){\n                        var serviceString = proServ.serviceIDField+':'+1+':'+proServ.priceField;\n                        setTimeout(function(){\n                          $('input[value=\"'+serviceString+'\"]').prop('checked', 'checked');\n                        }, 300);\n                        return false;\n                      }\n                    })\n                  }\n                });\n                self.CustomerHttp.get('/GetUserInfo/' + self.customerId).then(function (response: any) {\n                    self.ServiceData.profileField.streetField = response.GetUserInfoResult.profileField.streetField;\n                    self.ServiceData.profileField.cityField = response.GetUserInfoResult.profileField.cityField;\n                    self.ServiceData.profileField.regionField = response.GetUserInfoResult.profileField.regionField;\n                    self.ServiceData.profileField.postalCodeField = response.GetUserInfoResult.profileField.postalCodeField;\n                  if(!self.isEdit){\n                      self.info.address = self.ServiceData.profileField.streetField;\n                      self.info.city = self.ServiceData.profileField.cityField;\n                      self.info.state = self.ServiceData.profileField.regionField;\n                      self.info.zip = self.ServiceData.profileField.postalCodeField\n                  }\n                })\n            });\n        }\n\n        getEditInfo(){\n          var self = this;\n          self.CustomerHttp.get('/GetAppointment/' + self.AppointmentID).then(function (response: any) {\n            self.ServiceData.appointment = response.GetAppointmentResult;\n            self.CustomerHttp.get('/GetAppLocation/' + self.AppointmentID).then(function (response: any) {\n              var e = response.GetAppLocationResult;\n              self.info.address = e.addressField;\n              self.info.city = e.cityField;\n              self.info.state = e.stateField;\n              self.info.zip = e.zipField;\n\n            });\n            self.appointment = self.ServiceData.appointment;\n            setTimeout(function(){\n              self.appointment.servicesField.map(function(serv: any){\n                var serviceString = serv.serviceIDField+':'+1+':'+serv.priceField;\n                $('input[value=\"'+serviceString+'\"]').prop('checked', 'checked');\n                self.comment = self.appointment.commentsField;\n              })\n            }, 500)\n          });\n        }\n\n        changedValue(data: any, text: any) {\n            var self = this;\n            // alert(data);\n            self.addressText = text;\n            switch ( parseInt( data))\n            {\n                case 1:\n                    self.GetGPSLocation(); break;\n                case 2:\n                    //alert(self.address);\n                    $(\"#addressfield\").val(self.ServiceData.profileField.streetField);\n                    $(\"#cityfield\").val(self.ServiceData.profileField.cityField);\n                    $(\"#statefield\").val(self.ServiceData.profileField.regionField);\n                    $(\"#zipfield\").val(self.ServiceData.profileField.postalCodeField);\n\n                    break;\n\n                case 3:\n                    $(\"#addressfield\").val('');\n                    $(\"#cityfield\").val('');\n                    $(\"#statefield\").val('');\n                    $(\"#zipfield\").val('');\n\n            }\n\n            this.isOpenSelectAdress = '';\n\n        }\n\n        GetGPSLocation() {\n            var self = this;\n            var options = {\n                enableHighAccuracy: true,\n                maximumAge: 3600000\n            };\n            navigator.geolocation.getCurrentPosition(function(position){\n                var self = this;\n                const GOOGLE = new plugin.google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n                //    alert(\"onsuccess navigation called\");\n                var request = {\n                    'position': GOOGLE\n                };\n                plugin.google.maps.Geocoder.geocode(request, function (results: any) {\n                    if (results.length) {\n                        var result = results[0];\n                        var position = result.position;\n                        $(\"#addressfield\").val(result.subThoroughfare + \" \" + result.thoroughfare);\n                        $(\"#cityfield\").val(result.locality);\n                        $(\"#statefield\").val(result.adminArea);\n                        $(\"#zipfield\").val(result.postalCode);\n                        self.info.address = result.subThoroughfare + \" \" + result.thoroughfare;\n                        self.info.city = result.locality;\n                        self.info.state = result.adminArea;\n                        self.info.zip = result.postalCode;\n                    }\n                });\n            }, self.onError, options);\n\n        }\n\n        onError(e: any) {\n            //alert(JSON.stringify(e));\n        }\n\n        viewSelect(view: any){\n            var self = this;\n            view = self.ASAP && view == 'Appointment-DateTime' ? 'Order-Summary' : view;\n            if(self.isEdit && view == 'Basic-Info'){\n              self.getEditInfo();\n            }\n            this.MainView = view;\n        }\n\n        CreateAppointment(Rcd: any) {\n            var self = this;\n            var status = self.SharedHttp.getLoginStatus();\n            var servLists = [];\n            self.totalDuration = 0;\n            self.totalPrice = 0;\n            $('.serviceChecks:checked').map(function () {\n                var ServId = this.value.split(':')[0];\n                self.ProviderServiceList.map(function(serv){\n                    if(serv.serviceIDField == ServId){\n                        self.totalDuration+=serv.durationField == '-1' ? 60 : serv.durationField;\n                        self.totalPrice+=serv.priceField;\n                        servLists.push(serv);\n                    }\n                })\n            });\n            self.selectedServices = servLists;\n          //console.log(self.selectedServices);\n            if(self.selectedServices.length) {\n                self.MainView = 'Order-Summary';\n                self.selectedServices.map(function(ser){\n                    ser.qtyField = 1;\n                    if(self.isEdit){\n                      self.appointment.servicesField.map(function(srvc){\n                        if(srvc.serviceIDField == ser.serviceIDField){\n                          ser.qtyField = srvc.qtyField;\n                        }\n                      });\n                      self.changeSummery();\n                    }\n                });\n            } else{\n                self.showIonicAlert('Please select the Service(s) for Appointment');\n            }\n        }\n\n        changeSummery(){\n            var self = this;\n            self.totalDuration = 0;\n            self.totalPrice = 0;\n            self.serviceString = self.selectedServices.map(function(serv){\n                self.totalDuration+= isNaN(serv.durationField * serv.qtyField) ? serv.durationField == '-1' ? 60 : serv.durationField : serv.durationField == '-1' ? 60 : serv.durationField * serv.qtyField;\n                self.totalPrice+= isNaN(serv.priceField * serv.qtyField) ? serv.priceField : serv.priceField * serv.qtyField;\n                //servLists.push(serv);\n            });\n            self.serviceString = '';\n            self.selectedServices.map(function(srvc) {\n                var str = srvc.serviceIDField+':'+srvc.qtyField+':'+srvc.priceField;\n                if(self.serviceString == ''){\n                    self.serviceString = str;\n                } else{\n                    self.serviceString+='|'+str;\n                }\n            });\n        }\n\n        removeService(index){\n            var self = this;\n            self.selectedServices.splice(index, 1);\n            !self.selectedServices.length ? self.MainView = 'Basic-Info' : self.changeSummery();\n\n        }\n\n        appointmentView(){\n            var self = this;\n            self.changeSummery();\n            self.eventSource = [];\n            //self.eventSource.push(self.appointment.forDateField);\n            if(self.ASAP){\n                self.paymentMethod();\n            } else{\n                var startDate = new Date('08/28/2016');\n                var endDate = new Date('10/09/2016');\n                self.staticEvents = [\n                  {\n                    events: [],\n                  }\n                ];\n                self.uiConfig = {\n                    calendar: {\n                        contentHeight: 'auto',\n                        header: { left: 'prev,next today', center: '', right: 'title' },\n                        defaultView: 'month', selectable: true,\n                        defaultDate: (new Date()),\n                        selectHelper: true,\n                        dayClick: function(date: any, jsEvent: any, view: any){\n                            self.onTimeSelected(date, jsEvent);\n                        },\n                        editable: true,\n                        slotEventOverlap: false,\n                        eventLimit: 1,\n                        /*events: function (start, end, timezone, callback) {\n                            getOccupiedSlots(moment(start).format('MM-DD-YYYY'), moment(end).format('MM-DD-YYYY'), timezone, callback)\n                        }*/\n                        viewRender: function(view, element) { if(self.isToday(view.end, true)) self.getOccupiedSlots(view.start, view.end); }\n                    }\n                };\n                setTimeout(function(){\n                  $('.fc-toolbar > .fc-center').html('<div class=\"pctip\"><ul> <li class=\"pava\">Provider Not Available </li> <li class=\"pres\">Already Reserved</li> </ul> </div>');\n                }, 0);\n                //self.getOccupiedSlots();\n                self.MainView = 'Appointment-DateTime'\n            }\n        }\n\n        getOccupiedSlots(start, end) {\n\n            var self = this;\n            //self.staticEvents[0].events = [];\n            var date = new Date(), y = date.getFullYear(), m = date.getMonth();\n            var start = moment().format('MM/DD/YYYY');\n            var end = moment(end).format('MM/DD/YYYY');\n            //var firstDay = new Date(y, m, 1);\n            //var lastDay = new Date(y, m + 1, 0);\n            var postObj = {\n                EndDateTime: end,\n                //EndDateTime:self.from,\n                ProID: self.$stateParams.userId,\n                //StartDateTime:self.to\n                StartDateTime: start,\n            };\n            self.CustomerHttp.get('/ListMyAvail/' + self.UserID).then(function (res: any) {\n\n                var aviles = JSON.parse(res.ListMyAvailResult);\n\n                for (var i = 0; i < aviles.length; i++) {\n                    var starthours = aviles[i].StartTime.Hours > 9 ? aviles[i].StartTime.Hours : '0'+aviles[i].StartTime.Hours;\n                    var startminutes = aviles[i].StartTime.Minutes > 9 ? aviles[i].StartTime.Minutes : '0'+aviles[i].StartTime.Minutes;\n                    var endhours = aviles[i].EndTime.Hours > 9 ? aviles[i].EndTime.Hours : '0'+aviles[i].EndTime.Hours;\n                    var endminutes = aviles[i].EndTime.Minutes > 9 ? aviles[i].EndTime.Minutes : '0'+aviles[i].EndTime.Minutes;\n                    var dateMonth = aviles[i].Date;\n                    var dateMonth1 = self.SharedHttp.getFormatedDate(dateMonth, \"MM DD\");\n                    var abcDate = (dateMonth).replace(\"/Date(\", \"\").replace(\")/\", \"\");\n                    var getmonth = '';\n\n                    self.staticEvents[0].events.push({\n                        start: moment(parseInt(abcDate)).format('YYYY-MM-DD'),\n                        title: moment(endhours+':'+endminutes, 'HH:mm').format('h:mm a')+' - '+moment(starthours+':'+startminutes, 'HH:mm').format('h:mm a'),\n                        //startTime: new Date(1970, 0, 1, starthours, aviles[i].StartTime.Minutes),\n                        //endTime: new Date(1970, 0, 1, endhours, aviles[i].EndTime.Minutes),\n                        //id: aviles[i].AvailID,\n                        //proId: aviles[i].ProviderID,\n                        dateField: dateMonth1,\n                        //dateFieldHidden: moment(parseInt(abcDate)).format('MM/DD/YYYY'),\n                        color: '#ff0000'\n                    });\n                }\n                self.CustomerHttp.post(postObj, '/GetProOccupiedSlots').then(function (d: any) {\n                  var _Today = new Date();\n                  var strToday = ((_Today.getMonth() + 1) < 10 ? '0' : '') + (_Today.getMonth() + 1) + \"/\" + ((_Today.getDate() < 10) ? '0' : '') + _Today.getDate() + \"/\" + _Today.getFullYear();\n                  $.each(d, function (i, o) {\n                    //if (o.ForDate >= strToday) {\n                    self.staticEvents[0].events.push({ title: moment(o.atTimeField, 'HH:mm').format('h:mm a') + ' - ' + moment(o.endTimeField, 'HH:mm').format('h:mm a'), start: o.forDateField + ' ' + o.atTimeField, end: o.forDateField + ' ' + o.endTimeField, color: '#1e319b', textColor: 'white' });\n                    //}\n                  });\n                });\n            });\n        }\n\n        /*amPmTime(hour, minute) {\n          var _rVal = \"\";\n          if (hour > 12) {\n            hour = (hour - 12);\n            _rVal = \"\" + (hour) + \":\" + (minute < 10 ? \"0\" + minute : minute) + \" pm\";\n          } else {\n            if (hour == 12) {\n              _rVal = \"\" + 12 + \":\" + (minute < 10 ? \"0\" + minute : minute) + \" pm\";\n            }\n            if (hour < 12) {\n              _rVal = \"\" + hour + \":\" + (minute < 10 ? \"0\" + minute : minute) + \" am\";\n            }\n          }\n          return _rVal;\n        }*/\n\n\n        onViewTitleChanged = function (title) {\n            this.viewTitle = title;\n        };\n\n        onTimeSelected(time, event){\n            var self = this;\n            self.availability = false;\n            if(!self.isToday(time, true)){\n                self.showIonicAlert('Sorry, you cannot select date before today');\n            } else{\n                self.selectedDate = time;\n                self.onlyDate = moment(self.selectedDate).format('L');\n                self.from = self.isToday(time, false) ? moment().add(60, 'm').format(\"h:mm a\") : moment('09.00', \"h:mm a\").format(\"h:mm a\");\n                self.to = self.isToday(time, false) ? moment(moment().add(60, 'm').format(\"h:mm a\"), \"h:mm a\").add(self.totalDuration, 'm').format(\"h:mm a\") : moment('09.00', 'h:mm a').add(self.totalDuration, 'm').format(\"h:mm a\");\n                $('#PDoneSlider').modal();\n                var todayCurrentTime = moment(moment().add(60, 'm').format(\"h:mm a\"), \"h:mm a\").format(\"X\");\n                var to = self.isToday(time, false) ? todayCurrentTime : moment('09:00', 'h:mm a').format(\"X\");\n                var from = self.isToday(time, false) ? moment(moment().add(60, 'm').format(\"h:mm a\"), \"h:mm a\").add(self.totalDuration, 'm').format(\"X\") : moment('09:00', 'h:mm a').add(self.totalDuration, 'm').format(\"X\");\n                //var from = +moment('09:00', 'h:mm a').add(self.totalDuration, 'm').format(\"X\");\n                var min =  self.isToday(time, false) ? todayCurrentTime : moment('09:00', 'h:mm a').format(\"X\");\n                var max = moment('21:00', 'h:mm a').format(\"X\");\n                //setTimeout(function(){\n                $(\"#range\").ionRangeSlider({\n                    type: \"double\",\n                    min: min,\n                    max: max,\n                    from: to,\n                    to: from,\n                    //step: +moment('05', 'mm').format('h:mm a A'),\n                    //step: 300000,\n                    drag_interval: true,\n                    prettify: function (num) {\n                        return moment(num, \"X\").format(\"h:mm a\");\n                    },\n                    onFinish: function (data) {\n                        self.from = moment(data.from, \"X\").format(\"h:mm a\");\n                        self.to = moment(data.to, \"X\").format(\"h:mm a\");\n                        self.isSlotAvailable();\n                    },\n                  force_edges: true\n                });\n              self.slider = $(\"#range\").data(\"ionRangeSlider\");\n              self.slider.update({\n                from: to,\n                to: from\n              });\n              self.isSlotAvailable();\n                //}, 100)\n            }\n        }\n\n      destroySlider(){\n        var self = this;\n        self.slider.destroy();\n      }\n\n        dateTimeChooseDone(){\n            var self = this;\n            if(self.availability){\n                $('#PDoneSlider').modal('hide');\n                self.showSTTime = self.selectedFrom;\n                self.showENTime = self.selectedTo;\n                self.showTHDay = self.onlyDate;\n                $('#PConfirm').modal('show');\n            } else{\n                self.showIonicAlert('Please select an available time slot');\n            }\n        }\n\n        showIonicAlert(text, template){\n            var self = this;\n            $(\".modal\").modal('hide');\n            self.messages = text;\n            $(\"#PDone\").modal();\n        }\n\n        actionAfterOk(ac){\n            var self = this;\n            if(self.action == 'redirectAfterAppointment'){\n                self.redirectAfterAppointment();\n            }\n        }\n\n        paymentMethod(){\n            var self = this;\n            self.CustomerHttp.get('/GetCustomerProfile/'+this.customerId).then(function(resp){\n                self.selectedCard = 0;\n                self.CCards = [];\n                var profile = JSON.parse(resp.GetCustomerProfileResult).profile;\n                self.PID = profile.customerProfileId;\n                if(typeof profile.paymentProfiles != \"undefined\" && profile.paymentProfiles.length){\n                    profile.paymentProfiles.map(function(cc){\n                        self.CCards.push(cc);\n                    });\n                    self.CustomerEmail = profile.email;\n                }\n                self.MainView = 'Payment-Method';\n            });\n        }\n\n        isSlotAvailable(){\n            var self = this;\n            var appId = self.$window.localStorage.getItem('AppointmentIDs');\n            var providerId = self.$stateParams.userId;\n            var postObj = {\n                AppID: self.AppID,\n                EndDateTime:self.onlyDate+' '+self.from,\n                ProID:providerId,\n                StartDateTime:self.onlyDate+' '+self.to\n            };\n            var url = self.isEdit ? '/IsProviderSlotFreeEM' : '/IsProviderSlotFree';\n            self.CustomerHttp.post(postObj, url).then(function (response: any) {\n                if(response === true){\n                    self.selectedFrom = self.from;\n                    self.selectedTo = self.to;\n                    self.availability = true;\n                }else{\n                    self.availability = false;\n                }\n            })\n        }\n\n        isToday (time, todayAnd) {\n            var today = new Date(),\n                currentCalendarDate = new Date(time);\n\n            today.setHours(0, 0, 0, 0);\n            currentCalendarDate.setHours(0, 0, 0, 0);\n          var currTime = currentCalendarDate.getTime();\n          var todayTime = today.getTime();\n          return todayAnd ?  currTime >= todayTime : currTime == todayTime;\n        }\n\n        validatePaymentMethod(){\n            var self = this;\n            if(self.selectedCard == 0){\n                self.MainView = 'Payment-Information';\n                self.nameOnCard = '';\n                self.cardNumber = '';\n                self.radioInline = '';\n                self.paymentTerm = '';\n                self.cvv = '';\n                self.expMonth = '01';\n                self.modalGoback = false;\n                self.years = [];\n                var date = new Date();\n                var year = parseInt(date.getFullYear());\n                self.expYear = year;\n                for(var i = 0; i < 20; i++){\n                    self.years.push(year++);\n                }\n            }else{\n                self.showIonicConfirmation();\n            }\n        }\n        customCardPayment(){\n            var self = this;\n            if(self.nameOnCard == '' || !self.nameOnCard.trim().length){\n                self.showIonicAlert('Name on card is required');\n            } else if(self.nameOnCard.trim().length > 150){\n                self.showIonicAlert('Name of card should be max lenth 150');\n            } else if(self.cardNumber == '' || !self.cardNumber.trim().length){\n                self.showIonicAlert('Card number is required');\n            }  else if(/\\D/.test(self.cardNumber)){\n                self.showIonicAlert('Card number must be numeric');\n            }  else if(self.cardNumber.length < 14 || self.cardNumber.length > 16){\n                self.showIonicAlert('Card number should be between 14-16');\n            } else if(self.radioInline == '' || !self.radioInline.trim().length){\n                self.showIonicAlert('Card type is required');\n            } else if(self.cvv == '' || !self.cvv.trim().length){\n                self.showIonicAlert('CVV is required');\n            } else if(/\\D/.test(self.cvv)){\n                self.showIonicAlert('CVV must be numeric');\n            } else if(self.cvv.trim().length < 3 || self.cvv.trim().length > 4){\n                self.showIonicAlert('CVV should be 3-4');\n            } else if(self.paymentTerm == ''){\n                self.showIonicAlert('You need to agree with our payment terms');\n            } else{\n                self.showIonicConfirmation(true);\n            }\n        }\n        showIonicConfirmation(customCard){\n            var self = this;\n\n            self.type = customCard || false;\n            if(!self.type) {\n                var card = self.CCards.filter(function (cc) {\n                    return cc.customerPaymentProfileId === self.selectedCard;\n                });\n                self.card = card[0];\n                self.mainCard = self.card.payment.Item.cardNumber;\n            } else{\n                var cFull = self.cardNumber;\n                self.mainCard = 'XXXX'+cFull.slice(cFull.length -  4, cFull.length);\n            }\n            self.messages = 'Your card ending with '+self.mainCard+' will be charge for amount of '+self.totalPrice+' USD';\n            $(\"#PDonePayment\").modal();\n        }\n        actionPayment(){\n            var self = this;\n            if (!self.type) {\n                var PID = self.PID;\n                var PPID = self.card.customerPaymentProfileId;\n                var amount = self.totalPrice;\n                //str.slice(str.length -  4, str.length);\n                self.CustomerHttp.get('/AuthProfileJSON/' + PID + '/' + PPID + '/' + amount).then(function (response:any) {\n                    var resp = JSON.parse(response.AuthProfileJSONResult);\n                    if (resp.transactionResponse.responseCode == 1) {\n                        self.transId = resp.transactionResponse.transId;\n                        self.finalMakeAppointment();\n                    } else {\n                        self.showIonicAlert('Sorry, the transaction was NOT successfull cause of the following reason '+resp.transactionResponse.errors[0].errorText);\n                    }\n                })\n            } else{\n                var obj = {\n                    \"Amount\": self.totalPrice,\n                    \"CCNumber\": self.cardNumber,\n                    \"CVV\": self.cvv,\n                    \"Email\": self.CustomerEmail,\n                    \"Expiry\":self.expMonth+'/'+self.expYear,\n                    \"UID\": self.customerId\n                };\n                self.CustomerHttp.post(obj, '/AuthCardJSON').then(function (response:any) {\n                    var resp = JSON.parse(response);\n                    if (resp.transactionResponse.responseCode == 1) {\n                        self.transId = resp.transactionResponse.transId;\n                        self.finalMakeAppointment();\n                    } else {\n                        self.modalGoback = true;\n                        self.showIonicAlert('Sorry, the transaction was NOT successfull cause of the following reason '+resp.transactionResponse.errors[0].errorText);\n                    }\n                })\n            }\n        }\n        wronInfoGoBack(){\n            var self = this;\n            if(self.modalGoback) {\n              self.MainView = 'Payment-Method';\n            } else if(self.action == 'redirectAfterAppointment'){\n              self.redirectAfterAppointment();\n            }\n        }\n        finalMakeAppointment(){\n            var self = this;\n            var postObj = {\n                city: self.info.city,\n                state: self.info.state,\n                street: self.info.address,\n                zip: self.info.zip\n            };\n            self.CustomerHttp.post(postObj, '/AddAddress').then(function (response: any) {\n                self.addressId = response;\n            });\n            self.action = 'redirectAfterAppointment';\n            $(\"#PDonePayment\").modal('hide');\n            self.showIonicAlert(/*'<i class=\"fa fa-check-circle fa-3x\"></i>', */'Your Appointment has been confirmed!')\n        }\n\n        redirectAfterAppointment(){\n            var self = this;\n            var AtTime = self.ASAP ? '' : moment(self.selectedFrom, 'h:mm a A').format('h:mm a');\n            var EndTime = self.ASAP ? '' : moment(self.selectedTo, 'h:mm a A').format('h:mm a');\n            var ForDate = self.ASAP ? '' : self.onlyDate;\n            var obj = {\n                AddressID: self.addressId,\n                AtTime: AtTime,\n                CCNumber: '',\n                CSVSRVC: self.serviceString+'|',\n                ClientID: self.customerId,\n                Comment: self.comment,\n                EditAppID: self.AppID,\n                EndTime: EndTime,\n                Expriry: '',\n                ForDate: ForDate,\n                PayTxnID: '',\n                ProviderID: self.$stateParams.userId,\n                oAuthTxn: self.transId\n            };\n            self.CustomerHttp.post(obj,'/MakeAppointment').then(function (response: any) {\n                if(!isNaN(parseInt(response))){\n                    self.$state.go('MySchedule');\n                }else{\n                    self.showIonicAlert('Sorry, your appointment not successfully done!');\n                }\n            })\n        }\n\n    }\n\n\n    angular.module('spafoo.ctrl.MakeAppointment', []).controller('MakeAppointment', MakeAppointmentController);\n\n}\n"],"sourceRoot":"/source/"}