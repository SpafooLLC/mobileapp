{"version":3,"sources":["controllers/Pro-ReviewListing/Pro-ReviewListing.controller.ts"],"names":[],"mappings":"AAAA,IAAO,0BAA0B,CA6EhC;AA7ED,WAAO,4BAA0B,EAAC,CAAC;IAE/B;QAQI,oCACY,EAAgB,EAChB,MAAgC,EAChC,WAA0C,EAC1C,aAAgD,EAChD,MAAiB,EACjB,SAA8B,EAC9B,YAAoD,EACpD,OAA0B,EAC1B,OAAkC,EAClC,UAAgD,EAChD,YAA4C;YAV5C,OAAE,GAAF,EAAE,CAAc;YAChB,WAAM,GAAN,MAAM,CAA0B;YAChC,gBAAW,GAAX,WAAW,CAA+B;YAC1C,kBAAa,GAAb,aAAa,CAAmC;YAChD,WAAM,GAAN,MAAM,CAAW;YACjB,cAAS,GAAT,SAAS,CAAqB;YAC9B,iBAAY,GAAZ,YAAY,CAAwC;YACpD,YAAO,GAAP,OAAO,CAAmB;YAC1B,YAAO,GAAP,OAAO,CAA2B;YAClC,eAAU,GAAV,UAAU,CAAsC;YAChD,iBAAY,GAAZ,YAAY,CAAgC;YAEpD,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC;YAClC,iEAAiE;YACjE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACxC,CAAC;QAED,sDAAiB,GAAjB,UAAkB,MAAW;YACzB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,GAAQ;gBACvD,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;gBAEvB,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC;gBAC1I,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,IAAI,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxF,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,MAAM,IAAI,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAEhI,CAAC,CAAC,CAAC,IAAI,CAAC,cAAe,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAA,CAAC,CAAC,CAAC;QAG5D,CAAC;QAED,qDAAgB,GAAhB,UAAiB,MAAW;YACxB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,QAAa;gBACxE,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,iBAAiB,CAAC;gBAC7C,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE,IAAI;oBACrC,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAE;oBAC9B,IAAI,WAAW,GAAG,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;oBACpD,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,kBAAkB,CAAC,WAAW,CAAC,CAAC;oBACnE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;oBAE/F,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAU,GAAQ;wBACnE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;wBAE3D,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,GAAG,CAAC,YAAY,CAAC,WAAW,CAAC;oBAEnE,CAAC,CAAC,CAAC;gBAEN,CAAC,CAAC,CAAC;YAEP,CAAC,EAAE,UAAU,KAAK;gBACd,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;gBAErB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBAEvB,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC;QA5DM,kCAAO,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,aAAa,EAAE,eAAe,EAAE,QAAQ,EAAE,WAAW,EAAE,cAAc,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;QA+DjK,iCAAC;IAAD,CAtEA,AAsEC,IAAA;IAGD,OAAO,CAAC,MAAM,CAAC,8BAA8B,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,kBAAkB,EAAE,0BAA0B,CAAC,CAAC;AAElH,CAAC,EA7EM,0BAA0B,KAA1B,0BAA0B,QA6EhC","file":"controllers/Pro-ReviewListing/Pro-ReviewListing.controller.js","sourcesContent":["module ProReviewListingController {\r\n\r\n    class ProReviewListingController {\r\n        UserID: number;\r\n        ServiceData: {}; ReviewData: {};\r\n        profilePic: string;\r\n        RatingField: string;\r\n        Rateperson: string;\r\n        TagField: string;\r\n        static $inject = ['$q', '$state', '$ionicPopup', '$ionicLoading', '$scope', '$location', 'CustomerHttp', '$window', 'toaster', 'SharedHttp', '$stateParams'];\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $ionicPopup: ionic.popup.IonicPopupService,\r\n            private $ionicLoading: ionic.loading.IonicLoadingService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private toaster: ngtoaster.IToasterService,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\r\n            private $stateParams: angular.ui.IStateParamsService\r\n        ) {\r\n            this.UserID = $stateParams.userId;\r\n            //this.UserID = this.$window.localStorage.getItem('ProviderIDs');\r\n            this.getProviderReview(this.UserID);\r\n        }\r\n\r\n        getProviderReview(UserID: any) {\r\n            var self = this;\r\n            self.SharedHttp.GetUserInfo(UserID).then(function (res: any) {\r\n                self.ServiceData = res;\r\n               \r\n                self.SharedHttp.GetMyRating(UserID).then(function (ress) { self.RatingField = ress.split(':')[0]; self.Rateperson = ress.split(':')[1] });\r\n                self.SharedHttp.GetProTagLine(UserID).then(function (resss) { self.TagField = resss; });            \r\n                self.SharedHttp.getProfilePics(parseInt(res.profileField.photoField)).then(function (imgres) { self.profilePic = imgres; });\r\n           \r\n            }).then(function () {  self.getReviewDetails(UserID);});\r\n\r\n        \r\n        }\r\n\r\n        getReviewDetails(UserID: any) {\r\n            var self = this;\r\n            self.CustomerHttp.get('/GetMyReview/' + UserID).then(function (response: any) {\n                self.ReviewData = response.GetMyReviewResult;\r\n                $.each(self.ReviewData, function (i, item) {\r\n                    var str = item.commentsField ;\r\n                    var uri_encoded = str.replace(/%([^\\d].)/, \"%25$1\");\r\n                    self.ReviewData[i].commentsField = decodeURIComponent(uri_encoded);\r\n                    self.ReviewData[i].datedField = self.SharedHttp.getFormatedDate(item.datedField, \"dd/MM/yyyy\");\r\n                    \r\n                    self.SharedHttp.GetUserInfo(item.byUserIDField).then(function (res: any) {\r\n                        self.ReviewData[i].displayNameField = res.displayNameField;\r\n                     \r\n                        self.ReviewData[i].RegionField = res.profileField.regionField;\r\n                    \r\n                   });\r\n                   \r\n                });â€‹ \r\n\r\n            }, function (error) {\r\n                if (error === null) {\r\n\r\n                } else {\r\n                    console.log(error);\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    angular.module('spafoo.ctrl.ProReviewListing', []).controller('ProReviewListing', ProReviewListingController);\r\n\r\n}"],"sourceRoot":"/source/"}