{"version":3,"sources":["controllers/Pro-Appointments/ProAppointments.controller.ts"],"names":[],"mappings":"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","file":"controllers/Pro-Appointments/ProAppointments.controller.js","sourcesContent":["module ProAppointmentsController {\r\n    \r\n    class ProAppointmentsController  {\r\n        UserID: number;\r\n        ServiceData: any;\r\n\r\n\r\n        static $inject = ['$q', '$state', '$scope', '$location', 'CustomerHttp', '$window', 'SharedHttp'];\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp\r\n        ) {\r\n            this.UserID = this.$window.localStorage.getItem('CustomerID');\r\n            this.getProviderSchedular(this.UserID);\r\n        }\r\n\r\n        getProviderSchedular(UserID: any) {\r\n            var self = this;\r\n            self.CustomerHttp.get('/ListAppointmentByProvider/' + UserID).then(function (response: any) {\r\n                self.ServiceData = response.ListAppointmentByProviderResult;\r\n                $.each(self.ServiceData, function (i, item) {\r\n                    \r\n                    \r\n                    if (item.forDateField === 'undefined' || item.forDateField === undefined || item.forDateField === null || item.forDateField === '') {\r\n                        self.ServiceData[i].orderDateField = '';\r\n                        self.ServiceData[i].DayField = '00';\r\n                        self.ServiceData[i].MonthField = '-- -- --';\r\n                    } else {\r\n                        var orderdt = self.SharedHttp.getFormatedDate(item.forDateField, \"weekday dd MMMM yyyy\");\r\n                        self.ServiceData[i].orderDateField = orderdt;\r\n                        self.ServiceData[i].DayField = orderdt.split(' ')[1];\r\n                        self.ServiceData[i].MonthField = orderdt.split(' ')[2];\r\n                    }\r\n\r\n                    if (item.atTimeField === 'undefined' || item.atTimeField === undefined || item.atTimeField === null || item.atTimeField === '') {\r\n                        self.ServiceData[i].atTimeField = '00:00 --'\r\n                    } else {\r\n                        self.ServiceData[i].atTimeField = self.SharedHttp.getFormatedTime(item.atTimeField);\r\n                    }\r\n                    \r\n                    \r\n                    \r\n                    var serviceName = \"\";\r\n                    $.each(item.servicesField, function (ig, sitem) {\r\n                        serviceName += sitem.serviceNameField + \",\";\r\n                    });\r\n                    self.ServiceData[i].ServiceList = serviceName.substr(0, serviceName.lastIndexOf(','));\r\n                    self.SharedHttp.GetUserInfo(item.clientIDField).then(function (res: any) {\r\n                        self.ServiceData[i].displayNameField = res.displayNameField;\r\n                        self.ServiceData[i].userIDField = res.userIDField;\r\n                    });\r\n                    self.SharedHttp.GetAddressInfo(item.appointmentIDField).then(function (e: any) { self.ServiceData[i].addressField = e; });\r\n                });\r\n            }, function (error) {\r\n            });\r\n        }\r\n\r\n        RemoveCancelled(AppointmentID: any) {\r\n            var self = this;\r\n            self.CustomerHttp.get('/RemoveApp/' + AppointmentID).then(function (response: any) {\r\n                alert(JSON.stringify(response));\r\n                self.getProviderSchedular(this.UserID);\r\n\r\n            }, function (error) {\r\n            });\r\n        }\r\n\r\n        UnSeenStatus(AppointmentID: any) {\r\n            var self = this;\r\n            self.CustomerHttp.get('/UpdateAppSeenStatus/' + AppointmentID).then(function (response: any) {\r\n                alert(JSON.stringify(response));\r\n                self.getProviderSchedular(this.UserID);\r\n\r\n            }, function (error) {\r\n            });\r\n        }\r\n        GoToProviderPortfolio(UserID: any) {\r\n            var self = this;\r\n            self.$window.localStorage.setItem('ProviderIDs', UserID);\r\n            self.$state.go(\"ProviderPortfolio\");\r\n        }\r\n        GoToScheduleDetail(AppointmentID: any) {\r\n            var self = this;\r\n            self.$window.localStorage.setItem('AppointmentIDs', AppointmentID);\r\n            self.$state.go(\"ProAppointmentDetail\");\r\n        }\r\n        GoToProviderReview(userid: any) {\r\n            alert(\"called\" + userid);\r\n            var self = this;\r\n            self.$state.go('ProReviewListing', { userId: userid });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    angular.module('spafoo.ctrl.ProAppointments',[]).controller('ProAppointments',ProAppointmentsController);\r\n\r\n}"],"sourceRoot":"/source/"}