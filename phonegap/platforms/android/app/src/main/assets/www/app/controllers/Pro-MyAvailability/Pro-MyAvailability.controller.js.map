{"version":3,"sources":["controllers/Pro-MyAvailability/Pro-MyAvailability.controller.ts"],"names":[],"mappings":"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","file":"controllers/Pro-MyAvailability/Pro-MyAvailability.controller.js","sourcesContent":["module ProMyAvailabilityController {\r\n\r\n    class ProMyAvailabilityController {\r\n        eventSource: any[];\r\n        uiConfig: any;\r\n        staticEvents: any;\r\n        staticEvents1: any;\r\n        userId: any;\r\n        serviceData: any[];\r\n        message: string;\r\n        indexBtn: number;\r\n        AddressID: number;\r\n        ClientID: string;\r\n        ProviderID: number;\r\n        AppID: any;\r\n        name: string;\r\n        totalTime: string; \r\n        static $inject = ['$q', '$state', '$scope', '$location', 'CustomerHttp', '$window', 'SharedHttp', 'moment', 'uiCalendarConfig', \"$stateParams\"];\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\r\n            private moment: any,\r\n            private uiCalendarConfig: any,\r\n            private $stateParams: angular.ui.IStateParamsService\r\n        ) {\r\n\r\n            var self = this;\r\n            self.AddressID = $stateParams.AddressID;\r\n            self.ClientID = $stateParams.ClientID;\r\n            self.ProviderID = $stateParams.ProviderID;\r\n            self.AppID = $stateParams.AppID;\r\n            self.name = $stateParams.Name1;\r\n            self.totalTime = $stateParams.totalTime;\r\n            if (self.AppID != \"null\") {\r\n                self.SharedHttp.UnSeenStatus(self.AppID);\r\n            }\r\n            var status = self.$window.localStorage.getItem('LoginStatus');\r\n            if (status === null || status === 'false' || status === false || status === undefined || status === 'undefined' || status === '') {\r\n                self.$state.go('login');\r\n            }\r\n            self.userId = window.localStorage.getItem('CustomerID');\r\n            self.staticEvents1 =\r\n                [\r\n                    // your event source\r\n                    {\r\n                        events: [],\r\n                        // an option!\r\n                    }];\r\n            var count = 0;     \r\n            self.uiConfig = {\r\n                calendar: {\r\n                    height: 450,\r\n                    editable: true,\r\n                    eventLimit: 1,\r\n                    timezone:'local',\r\n                    selectHelper: true,\r\n                    header: {\r\n                        right: 'today prev,next'\r\n                    },\r\n                    dayClick: function (date: any, jsEvent: any, view: any) {\r\n                     //   alert(JSON.stringify(date) + \"---->  \" + JSON.stringify(new Date().setHours(0)));\r\n                        if (!self.isToday(date, jsEvent)) {\r\n                            self.message = \"Selected date should not be before current date\";\r\n                            $(\"#PDoneError\").modal();\r\n                            return;\r\n                        }\r\n\r\n\r\n                        //if (date <= new Date().setHours(0)) {\r\n                        //    self.message = \"Selected date should not be before current date\";\r\n                        //    $(\"#PDoneError\").modal();\r\n                        //    return;\r\n                        //}\r\n                        var selectedDate = moment(date).format('YYYY-MM-DD');\t\t\t\t    // set dateFrom based on user click on calendar\r\n                        if (self.ClientID == 'null') {\r\n                            $(\"#start\" + (self.staticEvents1[0].events.length - 1)).focus();\r\n                            self.staticEvents1[0].events.push({\r\n\r\n                                start: selectedDate, allday: true,\r\n                                dateField: moment(date).format('MMM DD'),\r\n                                dateFieldHidden: moment(date).format('MM/DD/YYYY'),\r\n                                proId: 0,\r\n                                color: '#1e319b',\r\n                                textColor: '#ffffff'\r\n\r\n                            });\r\n                        }\r\n                        else {\r\n                            $(\"#start\" + (self.staticEvents1[0].events.length - 1)).focus();\r\n                            if (count > 0) {\r\n\r\n                                self.staticEvents1[0].events.splice(self.staticEvents1[0].events.length - 1, 1);\r\n\r\n                            }\r\n                            count++;\r\n                            self.staticEvents1[0].events.push({\r\n\r\n                                start: selectedDate, allday: true,\r\n                                dateField: moment(date).format('MMM DD'),\r\n                                dateFieldHidden: moment(date).format('MM/DD/YYYY'),\r\n                                proId: -1,\r\n                                color: '#1e319b',\r\n                                textColor: '#ffffff'\r\n\r\n                            });\r\n\r\n                        }\r\n                    },\r\n\r\n                }\r\n            };\r\n            setTimeout(function () {\r\n                $('.fc-toolbar > .fc-center').html('<div class=\"pctip\"><i class=\"fa blue2 fa-square\"></i> I am available &nbsp;&nbsp;&nbsp;<i class=\"fa red2 fa-square\"></i> Reserved Appointment</div>');\r\n            }, 0);\r\n\r\n\r\n\r\n            // any other event sources...\r\n\r\n            self.availList();\r\n        }\r\n\r\n        isToday(start, todayAnd) {\r\n            var today = new Date();\r\n            today = new Date(today.getFullYear(), today.getMonth(), today.getDate());\r\n            var check = new Date(start._d.getFullYear(), start._d.getMonth(), start._d.getDate() + 1);\r\n            return todayAnd ? check >= today : moment(check).format('X') == moment(today).format('X');\r\n        }\r\n\r\n\r\n        bookedSlot() {\r\n            var self = this;\r\n            var date = new Date()\r\n            var end = date.setDate(date.getDate() + 30);\r\n            var data = { ProID: window.localStorage.getItem(\"CustomerID\"), StartDateTime: moment().format('MM/DD/YYYY'), EndDateTime: moment(end).format('MM/DD/YYYY') };\r\n\r\n            self.CustomerHttp.post(data, '/GetProOccupiedSlots').then(function (res) {\r\n\r\n                for (var i = 0; i < res.length; i++) {\r\n\r\n                    self.staticEvents1[0].events.push({\r\n                        title: res[i].atTimeField + \" - \" + res[i].endTimeField,\r\n                        start: moment(res[i].forDateField).format('YYYY-MM-DD'),\r\n\r\n                        color: '#ff0000',\r\n                        textColor: '#ffffff',\r\n                        startTime: 0\r\n\r\n                    });\r\n                }\r\n            }, function (e) {\r\n                alert(\"error\" + JSON.stringify(e))\r\n\r\n            })\r\n        }\r\n\r\n\r\n        availList() {\r\n\r\n            var self = this;\r\n\r\n\r\n\r\n            //    self.staticEvents[0].events.push(val)\r\n            self.eventSource = [self.staticEvents, self.staticEvents1];\r\n            self.CustomerHttp.get('/ListMyAvail/' + self.userId).then(function (res: any) {\r\n\r\n                self.serviceData = JSON.parse(res.ListMyAvailResult);\r\n\r\n                for (var i = 0; i < self.serviceData.length; i++) {\r\n                    var starthours = self.serviceData[i].StartTime.Hours;\r\n                    var start = '';\r\n                    var getmin1start = '';\r\n                    var mintusStart = self.serviceData[i].StartTime.Minutes;\r\n                    if (mintusStart < 10) {\r\n                        getmin1start = \"0\" + mintusStart;\r\n\r\n                    }\r\n                    else {\r\n                        getmin1start = mintusStart;\r\n\r\n                    }\r\n\r\n                    if (starthours >= 12) {\r\n                        starthours = starthours - 12;\r\n                        if (starthours == 0) {\r\n                            starthours = 12;\r\n                        }\r\n\r\n                        start = starthours + \":\" + getmin1start + \" PM\";\r\n\r\n                    }\r\n                    else {\r\n                        start = starthours + \":\" + getmin1start + \" AM\";\r\n                    }\r\n                    var endhours = self.serviceData[i].EndTime.Hours;\r\n                    var end = '';\r\n                    var getmin1end = '';\r\n                    var mintusEnd = self.serviceData[i].EndTime.Minutes\r\n                    if (mintusEnd < 10) {\r\n                        getmin1end = \"0\" + mintusEnd;\r\n\r\n                    }\r\n                    else {\r\n                        getmin1end = mintusEnd;\r\n\r\n                    }\r\n\r\n                    if (endhours >= 12) {\r\n                        endhours = endhours - 12;\r\n                        if (endhours == 0) {\r\n                            endhours = 12;\r\n                        }\r\n\r\n                        end = endhours + \":\" + getmin1end + \" PM\";\r\n\r\n                    }\r\n                    else {\r\n                        end = endhours + \":\" + getmin1end + \" AM\";\r\n                    }\r\n                    var dateMonth = self.serviceData[i].Date;\r\n\r\n                    var dateMonth1 = self.SharedHttp.getFormatedDate(dateMonth, \"MM DD\");\r\n                    var abcDate = (dateMonth).replace(\"/Date(\", \"\").replace(\")/\", \"\");\r\n\r\n                    //var minStrt = \"\";\r\n                    //if (self.serviceData[i].StartTime.Minutes == 0) {\r\n                    //    minStrt = \"00\"\r\n                    //}\r\n                    //else {\r\n                    //    minStrt = self.serviceData[i].StartTime.Minutes;\r\n                    //}\r\n                    //var minEnd = \"\";\r\n                    //if (self.serviceData[i].EndTime.Minutes == 0) {\r\n                    //    minEnd = \"00\"\r\n                    //}\r\n                    //else {\r\n                    //    minEnd = self.serviceData[i].EndTime.Minutes;\r\n                    //}\r\n\r\n                    self.staticEvents1[0].events.push({\r\n\r\n\r\n                        start: moment(parseInt(abcDate)).format('YYYY-MM-DD'),\r\n                        title: start + \" - \" + end,\r\n                        startTime: new Date(1970, 0, 1, self.serviceData[i].StartTime.Hours, parseInt(getmin1start)),\r\n                        endTime: new Date(1970, 0, 1, self.serviceData[i].EndTime.Hours, parseInt(getmin1end)),\r\n                        id: self.serviceData[i].AvailID,\r\n                        proId: self.serviceData[i].ProviderID,\r\n                        dateField: moment(dateMonth).format('MMM DD'),\r\n                        dateFieldHidden: moment(parseInt(abcDate)).format('MM/DD/YYYY'),\r\n                        color: '#1e319b',\r\n                        textColor: '#ffffff'\r\n                    });\r\n                }\r\n                self.bookedSlot();\r\n            }, function (e) {\r\n            });\r\n\r\n\r\n        }\r\n        deleteEvent(avaiId: any, proId: any, $index: any) {\r\n\r\n            var con = confirm(\"Are you sure want to remove?\");\r\n            if (con) {\r\n                if (avaiId == null || avaiId == \"\" || avaiId == undefined || avaiId == \"undefined\" || avaiId == 0) {\r\n                    this.staticEvents1[0].events.splice($index, 1);\r\n                }\r\n                else {\r\n                    this.staticEvents1[0].events.splice($index, 1);\r\n                    this.CustomerHttp.get(\"/RemoveAvail/\" + avaiId).then(function (res) { }, function (e) { });\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        convertFormat(date: any) {\r\n            var datestart = new Date(date);\r\n\r\n            var startResult = 0;\r\n            var endResult = 0;\r\n            var start = '';\r\n            var end = '';\r\n            var getendmin = '';\r\n            var getmin1 = ''\r\n            if (datestart.getMinutes() < 10) {\r\n                getmin1 = \"0\" + datestart.getMinutes();\r\n\r\n            }\r\n            else {\r\n                getmin1 = datestart.getMinutes().toString();\r\n\r\n            }\r\n            if (datestart.getHours() >= 12) {\r\n                startResult = datestart.getHours() - 12;\r\n                if (startResult == 0) {\r\n                    startResult = 12;\r\n                }\r\n\r\n                start = startResult + \":\" + getmin1 + \" PM\";\r\n\r\n            }\r\n            else {\r\n                start = datestart.getHours() + \":\" + getmin1 + \" AM\";\r\n            }\r\n\r\n        }\r\n\r\n        doUpdate(data: any) {\r\n\r\n            // alert(JSON.stringify(data));\r\n            var csv = \"\";\r\n\r\n            if (data == 0) {\r\n\r\n                this.message = \"Add a event to proceed\";\r\n                $(\"#PDone\").modal(\"toggle\");\r\n                return;\r\n            }\r\n\r\n            for (var i = 0; i < data.length; i++) {\r\n                if (!data[i].hasOwnProperty('endTime') && data[i].startTime != 0) {\r\n\r\n                    this.message = \"Choose time on respective date\";\r\n                    $(\"#PDoneError\").modal(\"toggle\");\r\n                    return;\r\n\r\n                }\r\n                if (!data[i].hasOwnProperty('startTime')) {\r\n\r\n                    this.message = \"Choose time on respective date\";\r\n                    $(\"#PDoneError\").modal(\"toggle\");\r\n                    return;\r\n                }\r\n                var date1 = new Date(data[i].startTime);\r\n                var date2 = new Date(data[i].endTime);\r\n                //  alert(\"date1\" + date1 + \"date2\" + date2);\r\n                if (date2 <= date1) {\r\n                    this.message = \"Start date is greater than end date\";\r\n                    $(\"#PDoneError\").modal(\"toggle\");\r\n                    return;\r\n                }\r\n            }\r\n\r\n\r\n\r\n            for (var i = 0; i < data.length; i++) {\r\n                var datestart = new Date(data[i].startTime);\r\n                var dateend = new Date(data[i].endTime);\r\n                var startResult = 0;\r\n                var endResult = 0;\r\n                var start = '';\r\n                var end = '';\r\n                var getendmin = '';\r\n\r\n                if (dateend.getMinutes() < 10) {\r\n                    getendmin = \"0\" + dateend.getMinutes();\r\n\r\n                }\r\n                else {\r\n                    getendmin = dateend.getMinutes().toString();\r\n\r\n                }\r\n                if (dateend.getHours() >= 12) {\r\n                    endResult = dateend.getHours() - 12;\r\n                    if (endResult == 0) {\r\n                        endResult = 12;\r\n                    }\r\n\r\n                    end = endResult + \":\" + getendmin + \" PM\";\r\n\r\n                }\r\n                else {\r\n                    //alert(endResult);\r\n                    end = dateend.getHours() + \":\" + getendmin + \" AM\";\r\n                    //alert(\"end\" + end);\r\n                }\r\n                var getmin1 = ''\r\n                if (datestart.getMinutes() < 10) {\r\n                    getmin1 = \"0\" + datestart.getMinutes();\r\n\r\n                }\r\n                else {\r\n                    getmin1 = datestart.getMinutes().toString();\r\n\r\n                }\r\n                if (datestart.getHours() >= 12) {\r\n                    startResult = datestart.getHours() - 12;\r\n                    if (startResult == 0) {\r\n                        startResult = 12;\r\n                    }\r\n\r\n                    start = startResult + \":\" + getmin1 + \" PM\";\r\n\r\n                }\r\n                else {\r\n                    start = datestart.getHours() + \":\" + getmin1 + \" AM\";\r\n                }\r\n\r\n                //alert(\"start\" + start + \"end\" + end);\r\n\r\n                if (data[i].hasOwnProperty('dateFieldHidden')) {\r\n\r\n                    csv += data[i].dateFieldHidden + \"_\" + start + \"_\" + end + \"|\"\r\n                }\r\n\r\n            }\r\n            console.log()\r\n\r\n            var jsonData = { CSV: csv, ProID: this.userId };\r\n            console.log(jsonData);\r\n            var self = this;\r\n            this.CustomerHttp.post(jsonData, \"/AddMyAvail\").then(function (res: any) {\r\n\r\n\r\n                self.message = \"Updated Successfully\";\r\n                $(\"#PDone\").modal(\"toggle\");\r\n\r\n\r\n            });\r\n        }\r\n        getFreeSlot(proId: any, date: any, start: any, end: any, dateField: any, $index: any) {\r\n\r\n            var self = this;\r\n            var datestart1 = new Date(start);\r\n            var dateend = new Date(end);\r\n            var startResult = 0;\r\n            var endResult = 0;\r\n            var start1 = '';\r\n            var end1 = '';\r\n            var endmin = '';\r\n            var startmin = '';\r\n\r\n            if (start == null || start == undefined || start == \"undefined\" || start == 0) {\r\n                self.message = \"Please select start date\";\r\n                $(\"#PDoneError\").modal();\r\n            }\r\n            if (dateend.getMinutes() < 10) {\r\n                endmin = \"0\" + dateend.getMinutes();\r\n            }\r\n            else {\r\n                endmin = dateend.getMinutes().toString();\r\n            }\r\n            if (dateend.getHours() >= 12) {\r\n                endResult = dateend.getHours() - 12;\r\n                if (endResult == 0) {\r\n                    endResult = 12;\r\n                }\r\n\r\n                end1 = endResult + \":\" + endmin + \" PM\";\r\n\r\n            }\r\n            else {\r\n                //alert(endResult);\r\n                end1 = dateend.getHours() + \":\" + endmin + \" AM\";\r\n                //alert(\"end\" + end);\r\n            }\r\n\r\n            if (datestart1.getMinutes() < 10) {\r\n\r\n                startmin = \"0\" + datestart1.getMinutes();\r\n            } else {\r\n\r\n                startmin = datestart1.getMinutes().toString();\r\n            }\r\n            if (datestart1.getHours() >= 12) {\r\n                startResult = datestart1.getHours() - 12;\r\n                if (startResult == 0) {\r\n                    startResult = 12;\r\n\r\n                }\r\n\r\n                start1 = startResult + \":\" + startmin + \" PM\";\r\n\r\n            }\r\n            else {\r\n                start1 = datestart1.getHours() + \":\" + startmin + \" AM\";\r\n\r\n            }\r\n\r\n            var data = { ProID: localStorage.getItem('CustomerID'), StartDateTime: date + \" \" + start1, EndDateTime: date + \" \" + end1 };\r\n\r\n            self.CustomerHttp.post(data, \"/CanSetAvailability\").then(function (res) {\r\n                if (res == false) {\r\n                    self.indexBtn = $index;\r\n                    //self.message = \"Slot from \" + start1 + \" to \" + end1 +\" on \" + dateField + \" is not available\";\r\n                    self.message = \"Sorry, you already have a appointment on other time frame for this date\";\r\n                    $(\"#PDoneError\").modal();\r\n                    return;\r\n                }\r\n\r\n\r\n            }, function (e) {\r\n\r\n\r\n            })\r\n        }\r\n        emptyTimeBox(index: any) {\r\n            var self = this;\r\n            if (typeof (index) == \"number\") {\r\n                delete self.staticEvents1[0].events[index].startTime;\r\n                delete self.staticEvents1[0].events[index].endTime;\r\n\r\n            }\r\n        }\r\n        calculateEndTime(proId: any, dateFieldHidden: any, startTime: any, dateField: any, index: any) {\r\n\r\n            var self = this;\r\n            var date = new Date(startTime);\r\n\r\n            var min = parseInt(self.totalTime);\r\n\r\n            var endhours = date.setMinutes(min + date.getMinutes());\r\n\r\n            console.log(endhours)\r\n            self.staticEvents1[0].events[index].endTime = new Date(endhours);\r\n            self.getFreeSlot(proId, dateFieldHidden, startTime, self.staticEvents1[0].events[index].endTime, dateField, index);\r\n        }\r\n        setDetails() {\r\n\r\n            var self = this;\r\n            var data = {};\r\n            if (data == 0) {\r\n\r\n                this.message = \"Add a event to proceed\";\r\n                $(\"#PDoneError\").modal(\"toggle\");\r\n                return;\r\n            }\r\n            for (var i = 0; i < self.staticEvents1[0].events.length; i++) {\r\n                if (self.staticEvents1[0].events[i].proId == -1) {\r\n                    if (!self.staticEvents1[0].events[i].hasOwnProperty('endTime')) {\r\n                        self.message = \"Choose time on respective date\";\r\n                        $(\"#PDoneError\").modal(\"toggle\");\r\n                        return;\r\n\r\n                    }\r\n                    if (!self.staticEvents1[0].events[i].hasOwnProperty('startTime')) {\r\n                        self.message = \"Choose time on respective date\";\r\n                        $(\"#PDoneError\").modal(\"toggle\");\r\n                        return;\r\n                    }\r\n                    var date1 = new Date(self.staticEvents1[0].events[i].startTime);\r\n                    var date2 = new Date(self.staticEvents1[0].events[i].endTime);\r\n                    //  alert(\"date1\" + date1 + \"date2\" + date2);\r\n                    if (date2 <= date1) {\r\n                        this.message = \"Start date is greater than end date\";\r\n                        $(\"#PDoneError\").modal(\"toggle\");\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            for (var i = 0; i < self.staticEvents1[0].events.length; i++) {\r\n                if (self.staticEvents1[0].events[i].proId == -1) {\r\n                    var datestart = new Date(self.staticEvents1[0].events[i].startTime);\r\n                    var dateend = new Date(self.staticEvents1[0].events[i].endTime);\r\n                    var startResult = 0;\r\n                    var endResult = 0;\r\n                    var start = '';\r\n                    var end = '';\r\n                    if (datestart.getHours() >= 12) {\r\n                        startResult = datestart.getHours() - 12;\r\n                        if (startResult == 0) {\r\n                            startResult = 12;\r\n                        }\r\n                        start = startResult + \":\" + datestart.getMinutes() + \" PM\";\r\n                    }\r\n                    else {\r\n                        start = datestart.getHours() + \":\" + datestart.getMinutes() + \" AM\";\r\n                    }\r\n                    if (dateend.getHours() >= 12) {\r\n                        endResult = dateend.getHours() - 12;\r\n                        if (endResult == 0) {\r\n                            endResult = 12;\r\n                        }\r\n                        end = endResult + \":\" + dateend.getMinutes() + \" PM\";\r\n                    }\r\n                    else {\r\n                        end = dateend.getHours() + \":\" + dateend.getMinutes() + \" AM\";\r\n                    }\r\n\r\n                    data = { AddressID: self.AddressID, AppID: self.AppID, AtTime: start, ClientID: self.ClientID, Comment: \"\", EndTime: end, ForDate: self.staticEvents1[0].events[i].dateFieldHidden, ProviderID: self.ProviderID };\r\n\r\n                    self.CustomerHttp.post(data, \"/UpdateAppBasicInfo\").then(function (res: any) {\r\n\r\n\r\n                        self.CustomerHttp.get(\"/UpdateAppStatus/\" + res + \"/5\").then(function () {\r\n                            self.$state.go(\"ProAppointments\");\r\n                        });\r\n\r\n                    });\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    angular.module('spafoo.ctrl.ProMyAvailability', []).controller('ProMyAvailability', ProMyAvailabilityController);\r\n\r\n}\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":"/source/"}