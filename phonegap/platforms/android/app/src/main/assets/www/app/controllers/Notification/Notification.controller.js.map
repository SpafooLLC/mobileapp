{"version":3,"sources":["controllers/Notification/Notification.controller.ts"],"names":[],"mappings":"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","file":"controllers/Notification/Notification.controller.js","sourcesContent":["module NotificationController {\r\n\r\n    class NotificationController {\r\n\r\n        NotificaitonData: any;\r\n        customerID: number;\r\n        NotificationCount: number;\r\n        static $inject = ['$q', '$state', '$ionicPopup', '$ionicLoading', '$scope', '$location', 'CustomerHttp', '$window', 'toaster', 'SharedHttp', '$rootScope'];\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $ionicPopup: ionic.popup.IonicPopupService,\r\n            private $ionicLoading: ionic.loading.IonicLoadingService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private toaster: ngtoaster.IToasterService,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\r\n            private $rootScope: any\r\n        ) {\r\n            this.customerID = this.$window.localStorage.getItem('CustomerID');\r\n            this.getUserNotificationInfo();\r\n\r\n        }\r\n        gotoOtherProvider(AppointmentID: any) {\r\n            var self = this;\r\n            //  alert(AppointmentID);\r\n            self.CustomerHttp.get(\"/GetServiceFrmNotification/\" + AppointmentID).then(function (res) {\r\n                console.log(res);\r\n                self.$window.localStorage.setItem('ServiceIDs', res.GetServiceFrmNotificationResult);\r\n                self.$state.go(\"ProviderList\");\r\n\r\n            });\r\n        }\r\n\r\n        getUserNotificationInfo() {\r\n            var self = this;\r\n            var status = self.$window.localStorage.getItem('LoginStatus');\r\n            if (status === null || status === 'false' || status === false || status === undefined || status === 'undefined' || status === '') {\r\n                self.$state.go('login');\r\n            }\r\n            self.CustomerHttp.get('/GetMyNotification/' + self.customerID).then(function (response: any) {\r\n                self.NotificaitonData = response.GetMyNotificationResult;\r\n                self.NotificationCount = self.NotificaitonData.length;\r\n                self.$rootScope.NotifiCount = self.NotificaitonData.length;\r\n                //  alert()\r\n                for (var i = 0; i <= self.NotificaitonData.length; i++) {\r\n\r\n                    self.NotificaitonData[i].datedField = self.SharedHttp.getFormatedDate(self.NotificaitonData[i].datedField, \"dd-MMM-yyyy\")\r\n                    var role = localStorage.getItem('Role');\r\n\r\n                    switch (self.NotificaitonData[i].notificationTypeIDField) {\r\n                        case 4:\r\n                            if (role == 'P') {\r\n                                self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" has requested an appointment!\";\r\n                            }\r\n                            //else {\r\n                            //    self.NotificaitonData[i].typeNameFields = \"Your Appointment has been accepted by \" + self.NotificaitonData[i].byNameField + \".For more information, please check 'My Schedule' section.\"\r\n                            //}\r\n                            break;\r\n                        case 5:\r\n                            self.NotificaitonData[i].typeNameFields = \" You have appointment with \" + self.NotificaitonData[i].byNameField + \" in next 24hrs \";\r\n                            break;\r\n                        case 6:\r\n                            self.NotificaitonData[i].typeNameFields = \" You have appointment with \" + self.NotificaitonData[i].byNameField + \" in next 2hrs \";\r\n                            break;\r\n\r\n                        case 14:\r\n                            if (role == 'P') {\r\n                                self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" has given you a SpaFoo review!\";\r\n                            }\r\n                            break;\r\n                        case 8:\r\n                            if (role == 'C') {\r\n                                self.NotificaitonData[i].typeNameFields = \"Thank you for choosing SpaFoo!\";\r\n                            }\r\n                            break;\r\n                        case 7:\r\n                            if (role == 'C') { self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" has arrived for your appointment!\" }\r\n                            break;\r\n\r\n                        case 11:\r\n                            if (role == 'C') { self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" has accepted your ASAP appointment.Please review the time set for your appointment and accept or deny it to finalize.\" }\r\n                            break;\r\n                        case 10:\r\n                            if (role == 'P') { self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" has requested an ASAP appointment with you! \" }\r\n                            //  else{ self.NotificaitonData[i].typeNameFields = \"10 Your ASAP appointment has been requested with \" + self.NotificaitonData[i].byNameField; }\r\n                            break;\r\n                        case 13:\r\n                            if (role == 'P') {\r\n                                self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" did NOT accept the time of your ASAP appointment.\";\r\n                            }\r\n                            break;\r\n                        case 12:\r\n                            if (role == 'P') {\r\n                                self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" has accepted the the time of your ASAP appointment.\";\r\n                            }\r\n                            break;\r\n                        case 9:\r\n                            if (role == 'P') {\r\n                                self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" has cancelled the appointment.\";\r\n                            }\r\n                            break;\r\n                        case 15: if (role == 'C') {\r\n                            self.NotificaitonData[i].typeNameFields = \" Your appointment has been accepted by \" + self.NotificaitonData[i].byNameField + \" ,For more information, please check 'My Schedule' section.\";\r\n                        }\r\n                            break;\r\n                        case 16:\r\n                            if (role == 'C') {\r\n                                self.NotificaitonData[i].typeNameFields = \"Your ASAP appointment has been requested with \" + self.NotificaitonData[i].byNameField;\r\n                            }\r\n                        case 17:\r\n                            if (role == 'C') {\r\n                                self.NotificaitonData[i].typeNameFields = \"Your appointment has been accepted by \" + self.NotificaitonData[i].byNameField + \" for more information, please check 'My Schedule' section.\";\r\n                            }\r\n                            break;\r\n                        case 18:\r\n                            if (role == 'C') {\r\n                                self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" is unavailable for the appointment you requested. \";\r\n                            }\r\n                            break;\r\n                        case 19:\r\n                            if (role == 'C') {\r\n                                self.NotificaitonData[i].typeNameFields = self.NotificaitonData[i].byNameField + \" is unavailable for the ASAP appointment you requested.\";\r\n                            }\r\n                            break;\r\n\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }, function (error) {\r\n                if (error === null) {\r\n                    self.$ionicLoading.hide();\r\n                } else {\r\n                    console.log(error);\r\n                    self.$ionicLoading.hide();\r\n                }\r\n            });\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n        RemoveUserNotification() {\r\n            var confirmations = confirm(\"Are you sure want to remove it ? \");\r\n            if (confirmations) {\r\n                var self = this;\r\n\r\n                self.CustomerHttp.get('/RemoveUserNotification/' + self.customerID).then(function (response) {\r\n                    self.getUserNotificationInfo();\r\n                    self.$ionicLoading.hide();\r\n                }, function (error) {\r\n                    if (error === null) {\r\n                        self.$ionicLoading.hide();\r\n                    } else {\r\n                        console.log(error);\r\n                        self.$ionicLoading.hide();\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        RemoveNotification(NotifyID: any) {\r\n            var confirmations = confirm(\"Are you Sure Want to remove ?\");\r\n            if (confirmations) {\r\n                var self = this;\r\n                self.CustomerHttp.get('/RemoveNotification/' + NotifyID).then(function (response) {\r\n                    self.getUserNotificationInfo();\r\n                    self.$ionicLoading.hide();\r\n                }, function (error) {\r\n                    if (error === null) {\r\n                        self.$ionicLoading.hide();\r\n                    } else {\r\n                        console.log(error);\r\n                        self.$ionicLoading.hide();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    angular.module('spafoo.ctrl.Notification', []).controller('Notification', NotificationController);\r\n\r\n}"],"sourceRoot":"/source/"}