{"version":3,"sources":["controllers/BasicCreditCardInformation/BasicCreditCard.controller.ts"],"names":[],"mappings":"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","file":"controllers/BasicCreditCardInformation/BasicCreditCard.controller.js","sourcesContent":["module BasicCreditCardController {\r\n    export interface IBasicCreditCard {\r\n        SubmitCreditCardInfo(UID: string,\r\n            CCNumber: string,\r\n            Expiry: string,\r\n            CVV: string,\r\n            Email: string\r\n        ): void\r\n\r\n\r\n    }\r\n\r\n    interface IStateParams extends angular.ui.IStateParamsService {\r\n    }\r\n\r\n    class BasicCreditCardController implements IBasicCreditCard {\r\n        messages: string;\r\n        Succmesg: string;\r\n        from: string;\r\n        number: number;\r\n        data: any;\r\n        UserEmail: any;\r\n        UserName: any;\r\n        numbercvv: number;\r\n        isChecked: boolean;\r\n        static $inject = ['$q', '$state', '$ionicPopup', '$ionicLoading', '$scope', '$location', 'CustomerHttp', '$window', 'toaster', 'SharedHttp', '$stateParams'];\r\n\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $ionicPopup: ionic.popup.IonicPopupService,\r\n            private $ionicLoading: ionic.loading.IonicLoadingService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService,\r\n            private toaster: ngtoaster.IToasterService,\r\n            private SharedHttp: spafoo.httpsharedservice.ISharedHttp,\r\n            private $stateParams: IStateParams\r\n        ) {\r\n            this.init();\r\n            var self = this;\r\n            $(\"#MobileNo\").mask(\"000-000-0000\");\r\n            self.SharedHttp.GetUserInfo(self.$window.localStorage.getItem('CustomerID')).then(function (res: any) {\r\n                self.UserName = res.firstNameField + \" \" + res.lastNameField;\r\n                self.UserEmail = res.emailField;\r\n\r\n            });\r\n          \r\n\r\n\r\n        }\r\n\r\n        init() {\r\n            var self = this;\r\n            self.from = self.$stateParams.from;\r\n            self.isChecked = false;\r\n            var status = self.$window.localStorage.getItem('LoginStatus');\r\n            if (status === null || status === 'false' || status === false || status === undefined || status === 'undefined' || status === '') {\r\n                if (self.from != 'reg') {\r\n                    self.$state.go('login');\r\n                }\r\n\r\n            }\r\n            self.years = [];\r\n            var date = new Date();\r\n            var year = parseInt(date.getFullYear());\r\n            self.year = year;\r\n            for (var i = 0; i < 20; i++) {\r\n                self.years.push(year++);\r\n            }\r\n        }\r\n\r\n        doRegister() {\r\n            var self = this;\r\n            var defer = self.$q.defer();\r\n            var data = JSON.parse(localStorage.getItem(\"registerData\"));\r\n\r\n            self.CustomerHttp.post(data, '/RegisterUser').then(function (response: any) {\r\n\r\n                if (parseInt(response.CustomerID) > 0) {\r\n                    self.$window.localStorage.setItem('CustomerID', response.CustomerID);\r\n                    self.$window.localStorage.setItem('Role', response.Usertype);\r\n                    self.$window.localStorage.setItem('LoginStatus', \"true\");\r\n                    self.SharedHttp.DoLogin(data.Username, data.Password).then(function (e) {\r\n                        defer.resolve(e)\r\n                        //self.$state.go(\"home\");\r\n                        self.$state.go(\"home\");\r\n                    });\r\n\r\n                }\r\n                self.$ionicLoading.hide();\r\n            }, function (error) {\r\n                if (error === null) {\r\n                    defer.reject(error);\r\n                    self.$ionicLoading.hide();\r\n                } else {\r\n                    defer.reject(error);\r\n                    //console.log(error);\r\n                    self.$ionicLoading.hide();\r\n                }\r\n\r\n            });\r\n            return defer.promise;\r\n        }\r\n\r\n        //SubmitCreditCardInfo(CData: any) {\r\n        //    var self = this;\r\n        //    //alert(CData.PayLater)\r\n\r\n        //    if (self.isChecked == true)\r\n        //    {\r\n        //        self.$state.go(\"MyProfile\");\r\n        //    }\r\n\r\n        //    else if (this.DoValidation(CData)) {\r\n        //        var data = CData;\r\n        //        data.UID = self.$window.localStorage.getItem('CustomerID');\r\n        //        data.Expiry = data.Month + \"/\" + data.Year; \r\n        //        self.$ionicLoading.show();\r\n        //        self.CustomerHttp.post(data, '/CreateCustomerRegistrationProfile').then(function (response) {\r\n\r\n        //            self.Succmesg = \"Credit Card Information Added Successfully.\";\r\n        //            $(\"#PSuccess\").modal();  \r\n        //        }, function (error) { });\r\n        //    }\r\n        //}\r\n\r\n        SubmitCreditCardInfo(CData: any, ActionType: any) {\r\n            var self = this;\r\n            //alert(CData.PayLater)\r\n\r\n          \r\n\r\n\r\n            switch (ActionType) {\r\n                case 'A': if (this.DoValidation(CData)) {\r\n                  \r\n                    var data = CData;\r\n                    data.UID = self.$window.localStorage.getItem('CustomerID');\r\n                  \r\n                    data.Expiry = data.Month + \"/\" + data.Year;\r\n                    data.Phone = $(\"#MobileNo\").val(); \r\n                    data.Name = self.UserName;\r\n                    data.Email = self.UserEmail;\r\n                    self.CustomerHttp.post(data, '/CreateCustomerRegistrationProfile').then(function (response) {\r\n                        self.Succmesg = \"Credit Card Information Added Successfully.\";\r\n                        $(\"#PSuccess\").modal();\r\n                    }, function (error) { });\r\n\r\n                }\r\n                    break;\r\n                case 'R': if (self.isChecked == true) {\r\n                 //   self.doRegister();\r\n                    self.$state.go(\"MyProfile\");\r\n                }\r\n                else if (this.DoValidation(CData)) {\r\n\r\n                    var data = CData;\r\n                    data.UID = self.$window.localStorage.getItem('CustomerID');\r\n\r\n                    data.Name = self.UserName;\r\n                    data.Email = self.UserEmail;\r\n\r\n            \r\n                    data.Expiry = data.Month + \"/\" + data.Year;\r\n                    data.Phone = $(\"#MobileNo\").val(); \r\n                    self.CustomerHttp.post(data, '/CreateCustomerRegistrationProfile').then(function (response) {\r\n                        self.Succmesg = \"Credit Card Information Added Successfully.\";\r\n                        $(\"#PSuccess\").modal();\r\n                    }, function (error) { });\r\n                }\r\n                    break;\r\n\r\n            }\r\n\r\n\r\n        }\r\n        redirectTo(href: any) {\r\n            this.SharedHttp.redirectTo(href, 'PSuccess');\r\n        }\r\n        DoValidation(Regdata: any) {\r\n            var self = this;\r\n            if (Regdata == undefined) {\r\n                self.messages = \"Please Enter Credit Card Number.\";\r\n                $(\"#PDone\").modal();\r\n                return false;\r\n            }\r\n            if (Regdata.CCNumber === null || Regdata.CCNumber === '' || Regdata.CCNumber == undefined) {\r\n                self.messages = \"Please Enter Credit Card Number.\";\r\n                $(\"#PDone\").modal();\r\n                return false;\r\n            } else {\r\n                if (String(Regdata.CCNumber).length < 14) {\r\n                    self.messages = \"The field length is invalid for Card Number.\";\r\n                    $(\"#PDone\").modal();\r\n                    return false;\r\n                }\r\n            }\r\n            if (Regdata.Month === null || Regdata.Month === '' || Regdata.Month == undefined) {\r\n                self.messages = \"Please Select Month.\";\r\n                $(\"#PDone\").modal();\r\n                return false;\r\n            }\r\n            if (Regdata.Year === null || Regdata.Year === '' || Regdata.Year == undefined) {\r\n                self.messages = \"Please Select Year.\";\r\n                $(\"#PDone\").modal();\r\n                return false;\r\n            } if (Regdata.CVV === null || Regdata.CVV === '' || Regdata.CVV == undefined) {\r\n                self.messages = \"Please Enter CVV.\";\r\n                $(\"#PDone\").modal();\r\n                return false;\r\n            }\r\n\r\n             if (Regdata.Address == '' || Regdata.Address == undefined) {                \r\n                 self.messages = \"Address must be required\";\r\n                 $(\"#PDone\").modal();\r\n                 return false;\r\n            }\r\n             if (Regdata.City == '' || Regdata.City == undefined) {                 \r\n                 self.messages = \"City must be required\";\r\n                 $(\"#PDone\").modal();\r\n                 return false;\r\n            }\r\n             if (Regdata.State == '' || Regdata.State == undefined) {                \r\n                 self.messages = \"State must be required\";\r\n                 $(\"#PDone\").modal();\r\n                 return false;\r\n            }\r\n             if (Regdata.Zip == '' || Regdata.Zip == undefined) {               \r\n                 self.messages = \"Zip/Postal Code must be required\";\r\n                 $(\"#PDone\").modal();\r\n                 return false;\r\n            }\r\n             if ($(\"#MobileNo\").val() == '' || $(\"#MobileNo\").val() == undefined) {             \r\n                 self.messages = \"Phone no must be required\";\r\n                 $(\"#PDone\").modal();\r\n                 return false;\r\n            }\r\n\r\n\r\n\r\n            return true;\r\n        }\r\n        ValidateNumber(num: any, id: string) {\r\n            var self = this;\r\n            if (id == 'cnum') {\r\n                if (isNaN(num)) {\r\n                    self.data.CCNumber = self.number;\r\n                } else {\r\n                    self.data.CCNumber = num;\r\n                    self.number = num;\r\n                }\r\n            } else {\r\n                if (isNaN(num)) {\r\n                    self.data.CVV = self.numbercvv;\r\n                } else {\r\n                    self.data.CVV = num;\r\n                    self.numbercvv = num;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        checkStatus($event: any) {\r\n            var self = this;\r\n            if ($event.target.checked) {\r\n                self.isChecked = true;\r\n            } else {\r\n                self.isChecked = false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    angular.module('spafoo.ctrl.BasicCreditCard', []).controller('BasicCreditCard', BasicCreditCardController);\r\n\r\n}"],"sourceRoot":"/source/"}