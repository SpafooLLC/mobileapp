{"version":3,"sources":["controllers/FindProvider/FindProvider1.controller.ts"],"names":[],"mappings":"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","file":"controllers/FindProvider/FindProvider1.controller.js","sourcesContent":["module FindProviderController {\r\n  \r\n    class FindProviderController  {\r\n        static $inject = ['$q', '$state', '$ionicPopup', '$ionicLoading', '$scope', '$location', 'CustomerHttp', '$window'];\r\n           getServicesName: any;\r\n        mapDiv: any;\r\n        map: any;\r\n        mapOptions: {};\r\n        initialLatLong: any; \r\n        messages: string;\r\n        constructor(\r\n            private $q: ng.IQService,\r\n            private $state: angular.ui.IStateService,\r\n            private $ionicPopup: ionic.popup.IonicPopupService,\r\n            private $ionicLoading: ionic.loading.IonicLoadingService,\r\n            private $scope: ng.IScope,\r\n            private $location: ng.ILocationService,\r\n            private CustomerHttp: spafoo.httpservice.ICustomerScreenHttp,\r\n            private $window: ng.IWindowService\r\n        ) {\r\n            alert(\"prividers hi\");\r\n  var self = this;\r\n          \r\n            document.addEventListener(\"deviceready\", function () {\r\n                // Define a div tag with id=\"map_canvas\"\r\n                self.mapDiv = document.getElementById(\"map_canvas\");\r\n\r\n                // Initialize the map plugin\r\n                self.initialLatLong = navigator.geolocation.getCurrentPosition(self.geolocationSuccess);\r\n                const init = new plugin.google.maps.LatLng(self.initialLatLong.lat, self.initialLatLong.long);\r\n                self.mapOptions = {\r\n                    'backgroundColor': 'white',\r\n                    'mapType': plugin.google.maps.MapTypeId.HYBRID,\r\n                    'controls': {\r\n                        'compass': true,\r\n                        'myLocationButton': true,\r\n                        'indoorPicker': true,\r\n                        'zoom': true\r\n                    },\r\n                    'gestures': {\r\n                        'scroll': true,\r\n                        'tilt': true,\r\n                        'rotate': true,\r\n                        'zoom': true\r\n                    },\r\n                    'camera': {\r\n                        'latLng': init,\r\n                        'tilt': 30,\r\n                        'zoom': 15,\r\n                        'bearing': 50\r\n                    }\r\n                };\r\n                self.map = plugin.google.maps.Map.getMap(self.mapDiv, self.mapOptions);\r\n\r\n                // You have to wait the MAP_READY event.\r\n                self.map.on(plugin.google.maps.event.MAP_READY, function onMapInit(map1: any) {\r\n                   map1.showDialog();\r\n                });\r\n\r\n            });\r\n            self.doLogin();\r\n        }\r\n\r\n\r\n\r\n        geolocationSuccess(position: any) {\r\n            alert('position called'+JSON.stringify(position));\r\n            return {\r\n                lat: position.coords.latitude, long: position.coords.longitude\r\n            } \r\n\r\n        }\r\n        doLogin() {\r\n            var self = this;\r\n            this.CustomerHttp.get(\"/ListRootBottomService\").then(function (response) {\r\n\r\n                var _Final = \"\"\r\n                $.each(response.ListRootBottomServiceResult, function (i, o) {\r\n                    debugger;\r\n                    if (o.parentIDField == -1) {\r\n                        if (_Final.trim() == '') {\r\n                            _Final = \"<option value='-1'>Select Service</option><optgroup label='\" + o.serviceNameField + \"'>\";\r\n                        }\r\n                        else\r\n                            _Final += \"</optgroup><optgroup label='\" + o.serviceNameField + \"'>\";\r\n                    }\r\n                    else {\r\n                        _Final += \"<option value='\" + o.serviceIDField + \"'>\" + o.serviceNameField + \"</option>\";\r\n                    }\r\n                })\r\n                $('#ddlServices').html(_Final);\r\n                self.getServicesName = response.ListRootBottomServiceResult;\r\n            },\r\n                function (e) {\r\n                    alert(JSON.stringify(e));\r\n\r\n\r\n                });\r\n        }\r\n        getProviders(service: any) {\r\n            var self = this;\r\n            self.CustomerHttp.get('/ListProvidersByServices/' + service).then(function (response) {\r\n                for (var i = 0; i < response.ListProvidersByServicesResult.length; i++) {\r\n                    self.addMarkers(response.ListProvidersByServicesResult[i].vanityUrlField);\r\n                }\r\n            }, function (e) {\r\n\r\n            })\r\n\r\n        }\r\n        addMarkers(latlong: any) {\r\n            var self = this;\r\n            alert(latlong);\r\n            var lat = latlong.substring(0, latlong.indexOf(':'));\r\n            var long = latlong.substring(latlong.indexOf(':') + 1);\r\n            alert(lat + '  ' + long);\r\n            const GOOGLE = new plugin.google.maps.LatLng(lat, long);\r\n            self.map = plugin.google.maps.Map.getMap(self.mapDiv, {\r\n                'camera': {\r\n                    'latLng': GOOGLE,\r\n                    'zoom': 17\r\n                }\r\n            });\r\n            self.map.addEventListener(plugin.google.maps.event.MAP_READY, function () {\r\n                self.map.addMarker({\r\n                    'position': GOOGLE,\r\n                    'title': \"Hello GoogleMap for Cordova!\"\r\n                }, function (marker: any) {\r\n                    marker.showInfoWindow();\r\n                });\r\n            });\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n    angular.module('spafoo.ctrl.FindProvider',[]).controller('FindProvider',FindProviderController);\r\n\r\n}"],"sourceRoot":"/source/"}